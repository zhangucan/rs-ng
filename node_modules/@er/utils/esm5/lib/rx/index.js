/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { delay, retryWhen, scan } from 'rxjs/operators';
var RxUtils = /** @class */ (function () {
    function RxUtils() {
    }
    /**
     * @template T
     * @param {?} count
     * @param {?} wait
     * @return {?}
     */
    RxUtils.retry = /**
     * @template T
     * @param {?} count
     * @param {?} wait
     * @return {?}
     */
    function (count, wait) {
        /** @type {?} */
        var tap = retryWhen(function (errors) { return errors.pipe(scan(function (acc, error) {
            if (acc >= count || -1) {
                throw error;
            }
            return acc + 1;
        }, 0), delay(wait)); });
        return tap;
    };
    return RxUtils;
}());
export { RxUtils };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZXIvdXRpbHMvIiwic291cmNlcyI6WyJsaWIvcngvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUNBLE9BQU8sRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRXREO0lBQUE7SUFlQSxDQUFDOzs7Ozs7O0lBYmUsYUFBSzs7Ozs7O0lBQW5CLFVBQXVCLEtBQWEsRUFBRSxJQUFZOztZQUMxQyxHQUFHLEdBQTZDLFNBQVMsQ0FBQyxVQUFBLE1BQU0sSUFBSSxPQUFBLE1BQU0sQ0FBQyxJQUFJLENBQ25GLElBQUksQ0FBQyxVQUFDLEdBQUcsRUFBRSxLQUFLO1lBQ2QsSUFBSSxHQUFHLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxFQUFFO2dCQUN0QixNQUFNLEtBQUssQ0FBQzthQUNiO1lBQ0QsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLENBQUMsRUFBRSxDQUFDLENBQUMsRUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQ1osRUFSeUUsQ0FRekUsQ0FBQztRQUNGLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUVILGNBQUM7QUFBRCxDQUFDLEFBZkQsSUFlQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2RlbGF5LCByZXRyeVdoZW4sIHNjYW59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuZXhwb3J0IGNsYXNzIFJ4VXRpbHMge1xuXG4gIHB1YmxpYyBzdGF0aWMgcmV0cnk8VD4oY291bnQ6IG51bWJlciwgd2FpdDogbnVtYmVyKTogKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3QgdGFwOiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBPYnNlcnZhYmxlPFQ+ID0gcmV0cnlXaGVuKGVycm9ycyA9PiBlcnJvcnMucGlwZShcbiAgICAgIHNjYW4oKGFjYywgZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGFjYyA+PSBjb3VudCB8fCAtMSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2MgKyAxO1xuICAgICAgfSwgMCksXG4gICAgICBkZWxheSh3YWl0KVxuICAgICkpO1xuICAgIHJldHVybiB0YXA7XG4gIH1cblxufVxuIl19