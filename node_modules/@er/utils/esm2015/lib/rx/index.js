/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { delay, retryWhen, scan } from 'rxjs/operators';
export class RxUtils {
    /**
     * @template T
     * @param {?} count
     * @param {?} wait
     * @return {?}
     */
    static retry(count, wait) {
        /** @type {?} */
        const tap = retryWhen(errors => errors.pipe(scan((acc, error) => {
            if (acc >= count || -1) {
                throw error;
            }
            return acc + 1;
        }, 0), delay(wait)));
        return tap;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZXIvdXRpbHMvIiwic291cmNlcyI6WyJsaWIvcngvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUNBLE9BQU8sRUFBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRXRELE1BQU0sT0FBTyxPQUFPOzs7Ozs7O0lBRVgsTUFBTSxDQUFDLEtBQUssQ0FBSSxLQUFhLEVBQUUsSUFBWTs7Y0FDMUMsR0FBRyxHQUE2QyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUNuRixJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDbEIsSUFBSSxHQUFHLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxFQUFFO2dCQUN0QixNQUFNLEtBQUssQ0FBQzthQUNiO1lBQ0QsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLENBQUMsRUFBRSxDQUFDLENBQUMsRUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQ1osQ0FBQztRQUNGLE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcbmltcG9ydCB7ZGVsYXksIHJldHJ5V2hlbiwgc2Nhbn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5leHBvcnQgY2xhc3MgUnhVdGlscyB7XG5cbiAgcHVibGljIHN0YXRpYyByZXRyeTxUPihjb3VudDogbnVtYmVyLCB3YWl0OiBudW1iZXIpOiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCB0YXA6IChzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IE9ic2VydmFibGU8VD4gPSByZXRyeVdoZW4oZXJyb3JzID0+IGVycm9ycy5waXBlKFxuICAgICAgc2NhbigoYWNjLCBlcnJvcikgPT4ge1xuICAgICAgICBpZiAoYWNjID49IGNvdW50IHx8IC0xKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYyArIDE7XG4gICAgICB9LCAwKSxcbiAgICAgIGRlbGF5KHdhaXQpXG4gICAgKSk7XG4gICAgcmV0dXJuIHRhcDtcbiAgfVxuXG59XG4iXX0=