/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { ConfigUtils } from '@er/utils';
import { timeout } from 'rxjs/operators';
var HttpTimeoutInterceptor = /** @class */ (function () {
    function HttpTimeoutInterceptor() {
        this.timeout = ConfigUtils.getConfig().httpTimeout || 5000;
    }
    /**
     * @param {?} req
     * @param {?} next
     * @return {?}
     */
    HttpTimeoutInterceptor.prototype.intercept = /**
     * @param {?} req
     * @param {?} next
     * @return {?}
     */
    function (req, next) {
        /** @type {?} */
        var reqTimeout = Number(req.headers.get('timeout')) || this.timeout;
        return next.handle(req)
            .pipe(timeout(reqTimeout));
    };
    HttpTimeoutInterceptor.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    HttpTimeoutInterceptor.ctorParameters = function () { return []; };
    return HttpTimeoutInterceptor;
}());
export { HttpTimeoutInterceptor };
if (false) {
    /** @type {?} */
    HttpTimeoutInterceptor.prototype.timeout;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJjZXB0b3IuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZXIvY29yZS8iLCJzb3VyY2VzIjpbImxpYi9pbnRlcmNlcHRvcnMvdGltZW91dC9pbnRlcmNlcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sV0FBVyxDQUFDO0FBRXRDLE9BQU8sRUFBQyxPQUFPLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUV2QztJQUtFO1FBQ0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQztJQUM3RCxDQUFDOzs7Ozs7SUFFRCwwQ0FBUzs7Ozs7SUFBVCxVQUFVLEdBQXFCLEVBQUUsSUFBaUI7O1lBQzFDLFVBQVUsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTztRQUNyRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO2FBQ3BCLElBQUksQ0FDSCxPQUFPLENBQUMsVUFBVSxDQUFDLENBQ3BCLENBQUM7SUFDTixDQUFDOztnQkFmRixVQUFVOzs7O0lBZ0JYLDZCQUFDO0NBQUEsQUFoQkQsSUFnQkM7U0FmWSxzQkFBc0I7OztJQUVqQyx5Q0FBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0h0dHBFdmVudCwgSHR0cEhhbmRsZXIsIEh0dHBJbnRlcmNlcHRvciwgSHR0cFJlcXVlc3R9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0NvbmZpZ1V0aWxzfSBmcm9tICdAZXIvdXRpbHMnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcbmltcG9ydCB7dGltZW91dH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSHR0cFRpbWVvdXRJbnRlcmNlcHRvciBpbXBsZW1lbnRzIEh0dHBJbnRlcmNlcHRvciB7XG5cbiAgdGltZW91dDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGltZW91dCA9IENvbmZpZ1V0aWxzLmdldENvbmZpZygpLmh0dHBUaW1lb3V0IHx8IDUwMDA7XG4gIH1cblxuICBpbnRlcmNlcHQocmVxOiBIdHRwUmVxdWVzdDxhbnk+LCBuZXh0OiBIdHRwSGFuZGxlcik6IE9ic2VydmFibGU8SHR0cEV2ZW50PGFueT4+IHtcbiAgICBjb25zdCByZXFUaW1lb3V0ID0gTnVtYmVyKHJlcS5oZWFkZXJzLmdldCgndGltZW91dCcpKSB8fCB0aGlzLnRpbWVvdXQ7XG4gICAgcmV0dXJuIG5leHQuaGFuZGxlKHJlcSlcbiAgICAgIC5waXBlKFxuICAgICAgICB0aW1lb3V0KHJlcVRpbWVvdXQpXG4gICAgICApO1xuICB9XG59XG4iXX0=