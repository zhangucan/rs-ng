/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { CommonModule } from '@angular/common';
import { HttpClientModule } from '@angular/common/http';
import { InjectionToken, Injector, NgModule } from '@angular/core';
import { FormsModule } from '@angular/forms';
import { RouteReuseStrategy, RouterModule } from '@angular/router';
import { NotifyLevel, NotifyType, StateNames, StompStates } from '@er/types';
import { ConfigUtils, StatesUtils } from '@er/utils';
import { StompConfig, StompService } from '@stomp/ng2-stompjs';
import { DynamicModule } from 'ng-dynamic-component';
import { NgPipesModule } from 'ngx-pipes';
import { distinctUntilChanged, tap } from 'rxjs/operators';
import { CoreComponents } from './components/all';
import { CoreDirectives } from './directives/all';
import { CoreInterceptors } from './interceptors/all';
import { CorePipes } from './pipes/all';
import { BACKGROUND_TASK_TOKEN } from './services/all';
import { RouterStateService } from './services/router/service';
import { CachedRouteReuseStrategy } from './services/strategy/service';
import { TaskService } from './services/task/service';
import { CORE_TASKS } from './tasks/all';
import { DateSyncUtils } from './utils/date-sync';
import { DiUtils } from './utils/di';
/** @type {?} */
export var APP_CONFIG = new InjectionToken('APP_CONFIG');
/**
 * @param {?} appConfig
 * @return {?}
 */
export function initialize(appConfig) {
    return function () {
        // ConfigUtils.configApp(appConfig);
    };
}
var ErCoreModule = /** @class */ (function () {
    function ErCoreModule(injector) {
        this.injector = injector;
        if (!DiUtils.injector) {
            DiUtils.injector = injector;
            // load services
            injector.get(RouterStateService);
            injector.get(TaskService);
            try {
                /** @type {?} */
                var stompService = injector.get(StompService);
                if (stompService && ConfigUtils.getConfig().stomp.enabled) {
                    stompService.state
                        .pipe(distinctUntilChanged(), tap(function (state) {
                        StatesUtils.update(StateNames.socket, { state: StompStates[state] });
                        StatesUtils.update(StateNames.notify, {
                            type: state === 0 ? NotifyType.ANNOUNCE : NotifyType.ALERT,
                            message: "\u6D88\u606F\u670D\u52A1\u5668\u72B6\u6001\uFF1A" + StompStates[state],
                            level: state === 0 ? NotifyLevel.ERROR : NotifyLevel.INFO
                        });
                    })).subscribe();
                }
            }
            catch (e) {
            }
        }
    }
    /**
     * @param {?} appConfig
     * @return {?}
     */
    ErCoreModule.forRoot = /**
     * @param {?} appConfig
     * @return {?}
     */
    function (appConfig) {
        return {
            ngModule: ErCoreModule,
            providers: tslib_1.__spread([
                { provide: APP_CONFIG, useValue: appConfig }
            ], CoreInterceptors, [
                appConfig.stomp.enabled ? StompService : [],
                appConfig.stomp.enabled ? { provide: StompConfig, useValue: appConfig.stomp } : [],
                { provide: BACKGROUND_TASK_TOKEN, useValue: DateSyncUtils.start, multi: true },
                { provide: BACKGROUND_TASK_TOKEN, useValue: CORE_TASKS, multi: true },
                {
                    provide: RouteReuseStrategy,
                    useClass: CachedRouteReuseStrategy
                }
            ])
        };
    };
    ErCoreModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule,
                        FormsModule,
                        RouterModule,
                        HttpClientModule,
                        NgPipesModule,
                        DynamicModule.withComponents(CoreComponents)
                    ],
                    declarations: tslib_1.__spread(CoreComponents, CoreDirectives, CorePipes),
                    exports: tslib_1.__spread([
                        CommonModule,
                        RouterModule,
                        HttpClientModule,
                        NgPipesModule
                    ], CoreComponents, CoreDirectives, CorePipes)
                },] }
    ];
    /** @nocollapse */
    ErCoreModule.ctorParameters = function () { return [
        { type: Injector }
    ]; };
    return ErCoreModule;
}());
export { ErCoreModule };
if (false) {
    /**
     * @type {?}
     * @private
     */
    ErCoreModule.prototype.injector;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXItY29yZS5tb2R1bGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AZXIvY29yZS8iLCJzb3VyY2VzIjpbImxpYi9lci1jb3JlLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUM3QyxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxzQkFBc0IsQ0FBQztBQUN0RCxPQUFPLEVBQWtCLGNBQWMsRUFBRSxRQUFRLEVBQXVCLFFBQVEsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUN2RyxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDM0MsT0FBTyxFQUFDLGtCQUFrQixFQUFFLFlBQVksRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQ2pFLE9BQU8sRUFBYyxXQUFXLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFDeEYsT0FBTyxFQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFDbkQsT0FBTyxFQUFDLFdBQVcsRUFBRSxZQUFZLEVBQUMsTUFBTSxvQkFBb0IsQ0FBQztBQUM3RCxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLFdBQVcsQ0FBQztBQUN4QyxPQUFPLEVBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDekQsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLGtCQUFrQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxrQkFBa0IsQ0FBQztBQUNoRCxPQUFPLEVBQUMsZ0JBQWdCLEVBQUMsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sYUFBYSxDQUFDO0FBQ3RDLE9BQU8sRUFBQyxxQkFBcUIsRUFBQyxNQUFN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QztnQkFDbkU7b0JBQ0UsT0FBTyxFQUFFLGtCQUFrQjtvQkFDM0IsUUFBUSxFQUFFLHdCQUF3QjtpQkFDbkM7Y0FDRjtTQUNGLENBQUM7SUFDSixDQUFDOztnQkEzRUYsUUFBUSxTQUFDO29CQUNSLE9BQU8sRUFBRTt3QkFDUCxZQUFZO3dCQUNaLFdBQVc7d0JBQ1gsWUFBWTt3QkFDWixnQkFBZ0I7d0JBQ2hCLGFBQWE7d0JBQ2IsYUFBYSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUM7cUJBQzdDO29CQUNELFlBQVksbUJBQ1AsY0FBYyxFQUNkLGNBQWMsRUFDZCxTQUFTLENBQ2I7b0JBQ0QsT0FBTzt3QkFDTCxZQUFZO3dCQUNaLFlBQVk7d0JBQ1osZ0JBQWdCO3dCQUNoQixhQUFhO3VCQUNWLGNBQWMsRUFDZCxjQUFjLEVBQ2QsU0FBUyxDQUNiO2lCQUNGOzs7O2dCQXBEd0MsUUFBUTs7SUF5R2pELG1CQUFDO0NBQUEsQUE1RUQsSUE0RUM7U0FwRFksWUFBWTs7Ozs7O0lBRVgsZ0NBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21tb25Nb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0h0dHBDbGllbnRNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7QVBQX0lOSVRJQUxJWkVSLCBJbmplY3Rpb25Ub2tlbiwgSW5qZWN0b3IsIE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Um91dGVSZXVzZVN0cmF0ZWd5LCBSb3V0ZXJNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge0NvbmZpZ01vZGVsLCBOb3RpZnlMZXZlbCwgTm90aWZ5VHlwZSwgU3RhdGVOYW1lcywgU3RvbXBTdGF0ZXN9IGZyb20gJ0Blci90eXBlcyc7XG5pbXBvcnQge0NvbmZpZ1V0aWxzLCBTdGF0ZXNVdGlsc30gZnJvbSAnQGVyL3V0aWxzJztcbmltcG9ydCB7U3RvbXBDb25maWcsIFN0b21wU2VydmljZX0gZnJvbSAnQHN0b21wL25nMi1zdG9tcGpzJztcbmltcG9ydCB7RHluYW1pY01vZHVsZX0gZnJvbSAnbmctZHluYW1pYy1jb21wb25lbnQnO1xuaW1wb3J0IHtOZ1BpcGVzTW9kdWxlfSBmcm9tICduZ3gtcGlwZXMnO1xuaW1wb3J0IHtkaXN0aW5jdFVudGlsQ2hhbmdlZCwgdGFwfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge0NvcmVDb21wb25lbnRzfSBmcm9tICcuL2NvbXBvbmVudHMvYWxsJztcbmltcG9ydCB7Q29yZURpcmVjdGl2ZXN9IGZyb20gJy4vZGlyZWN0aXZlcy9hbGwnO1xuaW1wb3J0IHtDb3JlSW50ZXJjZXB0b3JzfSBmcm9tICcuL2ludGVyY2VwdG9ycy9hbGwnO1xuaW1wb3J0IHtDb3JlUGlwZXN9IGZyb20gJy4vcGlwZXMvYWxsJztcbmltcG9ydCB7QkFDS0dST1VORF9UQVNLX1RPS0VOfSBmcm9tICcuL3NlcnZpY2VzL2FsbCc7XG5pbXBvcnQge1JvdXRlclN0YXRlU2VydmljZX0gZnJvbSAnLi9zZXJ2aWNlcy9yb3V0ZXIvc2VydmljZSc7XG5pbXBvcnQge0NhY2hlZFJvdXRlUmV1c2VTdHJhdGVneX0gZnJvbSAnLi9zZXJ2aWNlcy9zdHJhdGVneS9zZXJ2aWNlJztcbmltcG9ydCB7VGFza1NlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvdGFzay9zZXJ2aWNlJztcbmltcG9ydCB7Q09SRV9UQVNLU30gZnJvbSAnLi90YXNrcy9hbGwnO1xuaW1wb3J0IHtEYXRlU3luY1V0aWxzfSBmcm9tICcuL3V0aWxzL2RhdGUtc3luYyc7XG5pbXBvcnQge0RpVXRpbHN9IGZyb20gJy4vdXRpbHMvZGknO1xuXG5leHBvcnQgY29uc3QgQVBQX0NPTkZJRyA9IG5ldyBJbmplY3Rpb25Ub2tlbjxzdHJpbmc+KCdBUFBfQ09ORklHJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKGFwcENvbmZpZzogQ29uZmlnTW9kZWwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgIC8vIENvbmZpZ1V0aWxzLmNvbmZpZ0FwcChhcHBDb25maWcpO1xuICB9O1xufVxuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEZvcm1zTW9kdWxlLFxuICAgIFJvdXRlck1vZHVsZSxcbiAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICAgIE5nUGlwZXNNb2R1bGUsXG4gICAgRHluYW1pY01vZHVsZS53aXRoQ29tcG9uZW50cyhDb3JlQ29tcG9uZW50cylcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgLi4uQ29yZUNvbXBvbmVudHMsXG4gICAgLi4uQ29yZURpcmVjdGl2ZXMsXG4gICAgLi4uQ29yZVBpcGVzXG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgUm91dGVyTW9kdWxlLFxuICAgIEh0dHBDbGllbnRNb2R1bGUsXG4gICAgTmdQaXBlc01vZHVsZSxcbiAgICAuLi5Db3JlQ29tcG9uZW50cyxcbiAgICAuLi5Db3JlRGlyZWN0aXZlcyxcbiAgICAuLi5Db3JlUGlwZXNcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBFckNvcmVNb2R1bGUge1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yKSB7XG4gICAgaWYgKCFEaVV0aWxzLmluamVjdG9yKSB7XG4gICAgICBEaVV0aWxzLmluamVjdG9yID0gaW5qZWN0b3I7XG4gICAgICAvLyBsb2FkIHNlcnZpY2VzXG4gICAgICBpbmplY3Rvci5nZXQ8Um91dGVyU3RhdGVTZXJ2aWNlPihSb3V0ZXJTdGF0ZVNlcnZpY2UpO1xuICAgICAgaW5qZWN0b3IuZ2V0PFRhc2tTZXJ2aWNlPihUYXNrU2VydmljZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9tcFNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8U3RvbXBTZXJ2aWNlPihTdG9tcFNlcnZpY2UpO1xuICAgICAgICBpZiAoc3RvbXBTZXJ2aWNlICYmIENvbmZpZ1V0aWxzLmdldENvbmZpZygpLnN0b21wLmVuYWJsZWQpIHtcbiAgICAgICAgICBzdG9tcFNlcnZpY2Uuc3RhdGVcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICAgICAgICB0YXAoKHN0YXRlOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBTdGF0ZXNVdGlscy51cGRhdGUoU3RhdGVOYW1lcy5zb2NrZXQsIHtzdGF0ZTogU3RvbXBTdGF0ZXNbc3RhdGVdfSk7XG4gICAgICAgICAgICAgICAgU3RhdGVzVXRpbHMudXBkYXRlKFN0YXRlTmFtZXMubm90aWZ5LCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBzdGF0ZSA9PT0gMCA/IE5vdGlmeVR5cGUuQU5OT1VOQ0UgOiBOb3RpZnlUeXBlLkFMRVJULFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYOa2iOaBr+acjeWKoeWZqOeKtuaAge+8miR7U3RvbXBTdGF0ZXNbc3RhdGVdfWAsXG4gICAgICAgICAgICAgICAgICBsZXZlbDogc3RhdGUgPT09IDAgPyBOb3RpZnlMZXZlbC5FUlJPUiA6IE5vdGlmeUxldmVsLklORk9cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZm9yUm9vdChhcHBDb25maWc6IENvbmZpZ01vZGVsKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBFckNvcmVNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge3Byb3ZpZGU6IEFQUF9DT05GSUcsIHVzZVZhbHVlOiBhcHBDb25maWd9LFxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxuICAgICAgICAvLyAgIHVzZUZhY3Rvcnk6IGluaXRpYWxpemUsXG4gICAgICAgIC8vICAgZGVwczogW0FQUF9DT05GSUddLFxuICAgICAgICAvLyAgIG11bHRpOiB0cnVlXG4gICAgICAgIC8vIH0sXG4gICAgICAgIC4uLkNvcmVJbnRlcmNlcHRvcnMsXG4gICAgICAgIGFwcENvbmZpZy5zdG9tcC5lbmFibGVkID8gU3RvbXBTZXJ2aWNlIDogW10sXG4gICAgICAgIGFwcENvbmZpZy5zdG9tcC5lbmFibGVkID8ge3Byb3ZpZGU6IFN0b21wQ29uZmlnLCB1c2VWYWx1ZTogYXBwQ29uZmlnLnN0b21wfSA6IFtdLFxuICAgICAgICB7cHJvdmlkZTogQkFDS0dST1VORF9UQVNLX1RPS0VOLCB1c2VWYWx1ZTogRGF0ZVN5bmNVdGlscy5zdGFydCwgbXVsdGk6IHRydWV9LFxuICAgICAgICB7cHJvdmlkZTogQkFDS0dST1VORF9UQVNLX1RPS0VOLCB1c2VWYWx1ZTogQ09SRV9UQVNLUywgbXVsdGk6IHRydWV9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogUm91dGVSZXVzZVN0cmF0ZWd5LFxuICAgICAgICAgIHVzZUNsYXNzOiBDYWNoZWRSb3V0ZVJldXNlU3RyYXRlZ3lcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH1cbn1cbiJdfQ==