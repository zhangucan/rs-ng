{"version":3,"file":"er-core.js.map","sources":["ng://@er/core/lib/bases/class.ts","ng://@er/core/lib/bases/unsubscribe.ts","ng://@er/core/lib/bases/directive.ts","ng://@er/core/lib/bases/serice.ts","ng://@er/core/lib/directives/typed-template/directive.ts","ng://@er/core/lib/bases/component.ts","ng://@er/core/lib/utils/di/index.ts","ng://@er/core/lib/utils/http/index.ts","ng://@er/core/lib/services/log/service.ts","ng://@er/core/lib/utils/log/index.ts","ng://@er/core/lib/utils/component/index.ts","ng://@er/core/lib/utils/nav/index.ts","ng://@er/core/lib/bases/roue.bind.component.ts","ng://@er/core/lib/bases/control.ts","ng://@er/core/lib/bases/wrappe.ts","ng://@er/core/lib/bases/control-wrapper.ts","ng://@er/core/lib/utils/api/index.ts","ng://@er/core/lib/directives/api-data/directive.ts","ng://@er/core/lib/bases/data-aware-control-wrapper.ts","ng://@er/core/lib/bases/form.ts","ng://@er/core/lib/states/all.ts","ng://@er/core/lib/utils/permission/index.ts","ng://@er/core/lib/utils/auth/index.ts","ng://@er/core/lib/bases/abstract/app-config.component.ts","ng://@er/core/lib/bases/abstract/module-config.component.ts","ng://@er/core/lib/bases/abstract/auth.component.ts","ng://@er/core/lib/bases/abstract/login.component.ts","ng://@er/core/lib/validators/async/index.ts","ng://@er/core/lib/bases/abstract/register.component.ts","ng://@er/core/lib/bases/abstract/change-pwd.component.ts","ng://@er/core/lib/components/animate-number/component.ts","ng://@er/core/lib/components/breadcrumb/component.ts","ng://@er/core/lib/components/button/component.ts","ng://@er/core/lib/components/buttons/component.ts","ng://@er/core/lib/components/data-item/component.ts","ng://@er/core/lib/utils/dyna/index.ts","ng://@er/core/lib/components/dyna-component/component.ts","ng://@er/core/lib/directives/props-bind/util.ts","ng://@er/core/lib/directives/props-bind/directive.ts","ng://@er/core/lib/components/dyna-content/component.ts","ng://@er/core/lib/components/http-status/component.ts","ng://@er/core/lib/components/layout/container/component.ts","ng://@er/core/lib/components/layout/fluid/component.ts","ng://@er/core/lib/components/layout/left-right/component.ts","ng://@er/core/lib/components/layout/phone-preview/component.ts","ng://@er/core/lib/components/query-builder/defaults.ts","ng://@er/core/lib/components/query-builder/component.ts","ng://@er/core/lib/components/query-builder/rule/component.ts","ng://@er/core/lib/components/route-bind/component.ts","ng://@er/core/lib/components/we-chat/component.ts","ng://@er/core/lib/components/all.ts","ng://@er/core/lib/directives/animate-if/directive.ts","ng://@er/core/lib/directives/animate/directive.ts","ng://@er/core/lib/directives/dyna-template/directive.ts","ng://@er/core/lib/directives/focus-high-light/directive.ts","ng://@er/core/lib/directives/high-light/directive.ts","ng://@er/core/lib/directives/json-viewer/diff.ts","ng://@er/core/lib/directives/json-viewer/directive.ts","ng://@er/core/lib/directives/movable/movable-handle.directive.ts","ng://@er/core/lib/directives/movable/movable.directive.ts","ng://@er/core/lib/directives/position/directive.ts","ng://@er/core/lib/directives/remove-me/directive.ts","ng://@er/core/lib/directives/selector/directive.ts","ng://@er/core/lib/directives/state-spinner/base.ts","ng://@er/core/lib/directives/state-spinner/http/directive.ts","ng://@er/core/lib/directives/state-spinner/notify/directive.ts","ng://@er/core/lib/directives/text-tag/directive.ts","ng://@er/core/lib/directives/all.ts","ng://@er/core/lib/interceptors/customer/interceptor.ts","ng://@er/core/lib/interceptors/error/interceptor.ts","ng://@er/core/lib/interceptors/jwt/interceptor.ts","ng://@er/core/lib/utils/date-sync/index.ts","ng://@er/core/lib/interceptors/log/interceptor.ts","ng://@er/core/lib/interceptors/progress/interceptor.ts","ng://@er/core/lib/interceptors/timeout/interceptor.ts","ng://@er/core/lib/interceptors/customer/preset/bound.ts","ng://@er/core/lib/interceptors/customer/preset/credential.ts","ng://@er/core/lib/interceptors/all.ts","ng://@er/core/lib/pipes/as-list/pipe.ts","ng://@er/core/lib/pipes/base64/pipe.ts","ng://@er/core/lib/pipes/comma-separate/pipe.ts","ng://@er/core/lib/pipes/data-items/pipe.ts","ng://@er/core/lib/pipes/default/pipe.ts","ng://@er/core/lib/pipes/emojify/pipe.ts","ng://@er/core/lib/pipes/filter/pipe.ts","ng://@er/core/lib/pipes/high-light/pipe.ts","ng://@er/core/lib/pipes/id-card/pipe.ts","ng://@er/core/lib/pipes/join/pipe.ts","ng://@er/core/lib/pipes/linky/pipe.ts","ng://@er/core/lib/pipes/map-keys/pipe.ts","ng://@er/core/lib/pipes/number-text/pipe.ts","ng://@er/core/lib/pipes/observable/pipe.ts","ng://@er/core/lib/pipes/order/pipe.ts","ng://@er/core/lib/pipes/percent/pipe.ts","ng://@er/core/lib/pipes/safe/pipe.ts","ng://@er/core/lib/pipes/split/pipe.ts","ng://@er/core/lib/pipes/style/pipe.ts","ng://@er/core/lib/pipes/sub/pipe.ts","ng://@er/core/lib/pipes/text/pipe.ts","ng://@er/core/lib/pipes/timer/pipe.ts","ng://@er/core/lib/pipes/tracker/pipe.ts","ng://@er/core/lib/pipes/tree-nodes/pipe.ts","ng://@er/core/lib/pipes/unique/pipe.ts","ng://@er/core/lib/pipes/unit-number/pipe.ts","ng://@er/core/lib/pipes/up-to-now/pipe.ts","ng://@er/core/lib/pipes/value/pipe.ts","ng://@er/core/lib/pipes/all.ts","ng://@er/core/lib/services/auth/authed-guard.ts","ng://@er/core/lib/services/auth/deactive-guard.ts","ng://@er/core/lib/services/error/service.ts","ng://@er/core/lib/services/pre-loading/service.ts","ng://@er/core/lib/services/resolver/page-model/service.ts","ng://@er/core/lib/services/resource/service.ts","ng://@er/core/lib/services/router/service.ts","ng://@er/core/lib/services/task/service.ts","ng://@er/core/lib/services/all.ts","ng://@er/core/lib/tasks/update-title.ts","ng://@er/core/lib/tasks/all.ts","ng://@er/core/lib/utils/annotation/index.ts","ng://@er/core/lib/utils/data/index.ts","ng://@er/core/lib/utils/data-field/index.ts","ng://@er/core/lib/utils/changes/index.ts","ng://@er/core/lib/utils/resource/index.ts","ng://@er/core/lib/utils/url/index.ts","ng://@er/core/lib/services/strategy/service.ts","ng://@er/core/lib/er-core.module.ts"],"sourcesContent":["export class BaseClass {\n\n}\n","import {OnDestroy} from '@angular/core';\nimport {Subject, Subscription} from 'rxjs';\nimport {BaseClass} from './class';\n\n/**\n * provide auto unsubscribe support\n */\nexport class Unsubscribe extends BaseClass implements OnDestroy {\n\n  protected destroyed$: Subject<void> = new Subject<void>();\n\n  protected _$subscriptions: Subscription[] = [];\n\n  set $subscriptions(subscription) {\n    this._$subscriptions.push(subscription);\n  }\n\n  ngOnDestroy(): void {\n\n    this.stopSubscribe();\n\n    this._$subscriptions\n      .filter(sub => sub)\n      .map(sub => sub.unsubscribe());\n\n    for (const prop in this) {\n      if (this[prop]) {\n        const m = this[prop];\n        if (m && m instanceof Subscription) {\n          m.unsubscribe();\n        }\n      }\n    }\n  }\n\n  stopSubscribe() {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n","import {EventEmitter} from '@angular/core';\nimport {Unsubscribe} from './unsubscribe';\n\n/**\n * provide event emit support\n */\nexport abstract class BaseDirective extends Unsubscribe {\n\n  public ctx: {};\n\n  public animations = {};\n\n  constructor() {\n    super();\n    this.ctx = {\n      $from: <any>this\n    };\n  }\n\n  getContext() {\n    let id;\n    if (!this['$id'] && this['$props'] && this['$props'].$id) {\n      id = this['$props'].$id;\n      this['$id'] = id;\n    }\n    const context = {\n      $from: <any>this\n    };\n    return id ? {$id: id, ...context} : context;\n  }\n\n  getEventContext(event?): {} {\n    return {\n      ...this.getContext(),\n      ...event || {}\n    };\n  }\n\n  emitEvent(eventName, event) {\n    let eventEmitter = this[eventName];\n    if (!eventEmitter) {\n      eventEmitter = new EventEmitter();\n      this[eventName] = eventEmitter;\n    }\n    if (eventEmitter instanceof EventEmitter) {\n      return eventEmitter.emit(this.getEventContext(event));\n    }\n  }\n\n  isFirstChanges(changes) {\n    return Object.keys(changes).every(prop => changes[prop].isFirstChange());\n  }\n\n  animate(name?: string) {\n    return !(this.animations[name] || false);\n  }\n}\n","import {Unsubscribe} from './unsubscribe';\n\nexport abstract class BaseService extends Unsubscribe {\n\n}\n","import {Directive, Input, TemplateRef} from '@angular/core';\n\n@Directive({\n  selector: '[erTypedTemplate]'\n})\nexport class TypedTemplateDirective {\n\n  @Input('erTypedTemplate') type: string;\n\n  constructor(public template: TemplateRef<any>) {}\n\n  getType(): string {\n    return this.type;\n  }\n}\n\n/**\n * <td *ngFor=\"let col of columns\">\n <ng-container *ngIf=\"!col.template; else customTemplate\">\n {{row[col.attribute]}}\n </ng-container>\n <ng-template #customTemplate\n [ngTemplateOutlet]=\"col.template\"\n [ngTemplateOutletContext]=\"{ col: col, row: row }\">\n </ng-template>\n </td>\n\n <ng-template #titleTemplate let-col=\"col\" let-row=\"row\">\n <a role=\"button\" ...>\n <b>Custom</b> {{row[col.attribute]}}\n </a>\n </ng-template>\n **/\n","import {ContentChildren, Input, QueryList, SimpleChanges, TemplateRef} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\nimport {SelectorDirective} from '../directives/selector/directive';\nimport {TypedTemplateDirective} from '../directives/typed-template/directive';\nimport {BaseDirective} from './directive';\n\n/**\n * provide template & dynamic query support\n */\nexport abstract class BaseComponent extends BaseDirective {\n\n  @Input() customerTpl: TemplateRef<any>;\n\n  @ContentChildren(TypedTemplateDirective) typedTemplates: QueryList<TypedTemplateDirective>;\n\n  selectors: QueryList<SelectorDirective>;\n\n  templateNames: {};\n\n  templates: { [type: string]: TemplateRef<any> | {} } = {};\n\n  ngAfterContentInit(): void {\n    if (this.typedTemplates && this.typedTemplates.length > 0) {\n      this.typedTemplates.forEach((item) => {\n        if (item.type) {\n          CommonsUtils.set(this.templates, item.type, item.template);\n        } else {\n          this.templates['_'] = item.template;\n        }\n      });\n    }\n  }\n\n  eventHandler(outputs, eventName, defaultHandler, event) {\n    if (outputs && outputs[eventName]) {\n      return outputs[eventName].call(this, event);\n    } else {\n      return defaultHandler(event);\n    }\n  }\n\n  template(name?: string, ...defaultTpls: TemplateRef<any>[]): TemplateRef<any> | {} {\n    if (!name) {\n      name = '_';\n    }\n    if (this.templates[name]) {\n      return this.templates[name];\n    } else if (defaultTpls.length > 0) {\n      const tpls = CommonsUtils.filter(defaultTpls, defaultTpl => !!defaultTpl);\n      if (tpls.length > 0) {\n        return tpls[0];\n      }\n    }\n    return undefined;\n  }\n\n  getComponentBySelectorId<C>(id: any): C {\n    if (this.selectors) {\n      const matched: SelectorDirective[] = this.selectors.toArray().filter(comp => comp.id === id);\n      if (matched.length === 1) {\n        return matched[0].hostComponent;\n      }\n    }\n    return undefined;\n  }\n\n  hasTemplate(name: string, ...defaultTpls: TemplateRef<any>[]): boolean {\n    return this.template(name, ...defaultTpls) !== undefined;\n  }\n\n  hasChildren(templates) {\n    return CommonsUtils.isJson(templates);\n  }\n\n\n  // empty hooks for dyna bind\n\n  ngAfterContentChecked() {\n  }\n\n  ngAfterViewInit() {\n    this['__ngAfterViewInit'] = true;\n  }\n\n  ngAfterViewChecked() {\n  }\n\n  ngDoCheck() {\n  }\n\n  ngOnInit() {\n    this['__ngOnInit'] = true;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n  }\n\n  ngOnDestroy() {\n  }\n\n}\n","import {ApplicationRef, ViewContainerRef} from '@angular/core';\nimport {CacheUtils} from '@er/utils';\n\nconst cacheKey = '$rootInjectables';\nlet viewContainerRef: ViewContainerRef = null;\n\nexport class DiUtils {\n\n  static injector = null;\n\n  static get<T>(token): T {\n    let cached = CacheUtils.get(cacheKey, token);\n    if (!cached) {\n      if (!DiUtils.injector) {\n        throw new Error('rootInjector åå§åå¤±è´¥');\n      }\n      cached = DiUtils.injector.get(token);\n      if (cached) {\n        CacheUtils.put(cacheKey, token, cached);\n      }\n    }\n    return cached;\n  }\n\n  static getRootViewContainerRef(): ViewContainerRef {\n    if (!viewContainerRef) {\n      const applicationRef = DiUtils.get<ApplicationRef>(ApplicationRef);\n      const appInstance = applicationRef.components[0].instance;\n      if (!appInstance.rootViewContainerRef) {\n        const appName = applicationRef.componentTypes[0].name;\n        throw new Error(`${appName} constructorä¸­æªå®ä¹rootViewContainerRef`);\n      }\n      viewContainerRef = appInstance.rootViewContainerRef;\n    }\n    return viewContainerRef;\n  }\n\n}\n","import {HttpClient, HttpEvent, HttpEventType, HttpHeaders, HttpParams, HttpRequest} from '@angular/common/http';\nimport {\n  HttpClientRequestOptions,\n  HttpContentType,\n  HttpMethod,\n  HttpRequestOptions,\n  HttpRequestPayloadType,\n  HttpResponseType,\n  StateNames\n} from '@er/types';\nimport {CommonsUtils, ConfigUtils, RxUtils, StatesUtils} from '@er/utils';\nimport {Observable, of} from 'rxjs';\nimport {catchError, filter, map, tap} from 'rxjs/operators';\nimport {DiUtils} from '../di';\n\nexport class HttpUtils {\n\n  private static _httpClient: HttpClient = null;\n  private static _timeout = 3000;\n\n  static getHttpClient() {\n    if (!HttpUtils._httpClient) {\n      HttpUtils._httpClient = DiUtils.get<HttpClient>(HttpClient);\n    }\n    return HttpUtils._httpClient;\n  }\n\n  static timeout() {\n    if (HttpUtils._timeout) {\n      HttpUtils._timeout = ConfigUtils.getConfig().httpTimeout || 5000;\n    }\n    return HttpUtils._timeout;\n  }\n\n  static request<T = any>(options: HttpRequestOptions | string): Observable<T> {\n\n    let httpRequestOptions: HttpRequestOptions;\n\n    if (CommonsUtils.isString(options)) {\n      httpRequestOptions = CommonsUtils.getObjWhenStr(options, 'uri');\n    } else {\n      httpRequestOptions = options as HttpRequestOptions;\n    }\n\n    if (httpRequestOptions.stateName) {\n      return StatesUtils.get(httpRequestOptions.stateName);\n    }\n\n    if (httpRequestOptions.onRequest) {\n      const result = httpRequestOptions.onRequest(httpRequestOptions);\n      if (result === false) {\n        return;\n      }\n      httpRequestOptions = <HttpRequestOptions>result;\n    }\n\n    let url = httpRequestOptions.uri || '/';\n\n    if (!url.startsWith('http') && url.indexOf('assets/') < 0) {\n      if (!url.startsWith('/')) {\n        url = '/' + url;\n      }\n      url = ConfigUtils.getConfig().api.servers[httpRequestOptions.serverType || ConfigUtils.getConfig().api.default].uri + url;\n    }\n\n    const requestOptions: HttpClientRequestOptions = {};\n\n    requestOptions.observe = httpRequestOptions.observe || 'body';\n\n    requestOptions.responseType = httpRequestOptions.responseType || HttpResponseType.JSON;\n\n    requestOptions.headers = HttpUtils.getRequestHeader(httpRequestOptions);\n\n    const method = httpRequestOptions.method || ((httpRequestOptions.body || httpRequestOptions.payload) ? HttpMethod.POST : HttpMethod.GET);\n\n    if (httpRequestOptions.payload) {\n      if (httpRequestOptions.payloadType === HttpRequestPayloadType.PARAMS) {\n        httpRequestOptions.params = httpRequestOptions.payload;\n      } else if (httpRequestOptions.payloadType === HttpRequestPayloadType.BODY) {\n        httpRequestOptions.body = httpRequestOptions.payload;\n      } else if (!method || httpRequestOptions.method === HttpMethod.GET) {\n        httpRequestOptions.params = httpRequestOptions.payload;\n      } else {\n        httpRequestOptions.body = httpRequestOptions.payload;\n      }\n    }\n\n    if (httpRequestOptions.params) {\n      requestOptions.params = HttpUtils.getRequestParams(httpRequestOptions);\n    }\n\n    if (httpRequestOptions.body) {\n      requestOptions.body = HttpUtils.getRequestBody(httpRequestOptions);\n    }\n\n    if (!httpRequestOptions.context) {\n      httpRequestOptions.context = this; // use HttpUtils.request.call(this,...) to init context\n    }\n\n    return HttpUtils.getHttpClient().request(method, url, {\n      ...requestOptions,\n      observe: 'events'\n    })\n      .pipe(\n        RxUtils.retry(httpRequestOptions.retry, HttpUtils.timeout()),\n        filter(event => event.type === HttpEventType.Sent || event.type === HttpEventType.Response),\n        tap(event => {\n          if (event.type === HttpEventType.Sent) {\n            HttpUtils.updateHttpTagState(httpRequestOptions.tag, true, {url, opts: httpRequestOptions});\n          }\n        }),\n        filter(event => event.type === HttpEventType.Response),\n        map(event => {\n          let response = event;\n          if (!httpRequestOptions.observe || httpRequestOptions.observe === 'body') {\n            response = event.body;\n          }\n          HttpUtils.updateHttpTagState(httpRequestOptions.tag, false, {\n            status: 'success',\n            httpRequestOptions\n          });\n          const resp = httpRequestOptions.onResponse\n            ? httpRequestOptions.onResponse.call(httpRequestOptions.context, response, httpRequestOptions)\n            : response;\n          if (httpRequestOptions.stateName) {\n            StatesUtils.update(httpRequestOptions.stateName, resp);\n          }\n          return resp;\n        }),\n        catchError((error) => {\n          HttpUtils.updateHttpTagState(httpRequestOptions.tag, false, {status: 'error', error});\n          if (httpRequestOptions.onError) {\n            httpRequestOptions.onError.call(httpRequestOptions.context, error, httpRequestOptions);\n          }\n          return of('æå¡å¨è¯·æ±å¤±è´¥ï¼ç¶æç :' + error.status);\n        })\n      );\n  }\n\n  private static updateHttpTagState(tag, state: boolean, extra?: {}) {\n    if (tag) {\n      StatesUtils.create([StateNames.http, tag], {start: state, ...extra});\n    }\n  }\n\n  private static getRequestParams(options: HttpRequestOptions) {\n    let params: HttpParams;\n    if (typeof options.params === 'string') {\n      params = new HttpParams({fromString: options.params});\n    } else {\n      params = new HttpParams();\n      for (const key in options.params) {\n        if (key) {\n          if (options.params.hasOwnProperty(key) && (options.params[key] !== null || options.params[key] !== undefined)) {\n            params = params.append(key, CommonsUtils.toString(options.params[key]));\n          }\n        }\n      }\n    }\n    return params;\n  }\n\n  private static getRequestBody(options: HttpRequestOptions) {\n\n    return options.body;\n  }\n\n  private static getRequestHeader(options: HttpRequestOptions): HttpHeaders {\n    let headers: HttpHeaders = new HttpHeaders();\n    if (options.contentType) {\n      headers = headers.append('Content-Type', options.contentType);\n    } else {\n      headers = headers.append('Content-Type', HttpContentType.JSON);\n    }\n    if (options.headers) {\n      for (const key in options.headers) {\n        if (key) {\n          headers = headers.append(key, options.headers[key]);\n        }\n      }\n    }\n    return headers;\n  }\n\n  upload(file: File): Observable<HttpEvent<{}>> {\n    const formdata: FormData = new FormData();\n    formdata.append('file', file);\n    const req = new HttpRequest('POST', `upload`, formdata, {\n      reportProgress: true,\n      responseType: 'text'\n    });\n    return HttpUtils.getHttpClient().request(req);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {LogLevel} from '@er/types';\nimport {CommonsUtils, ConfigUtils, DateUtils, DialogUtils} from '@er/utils';\nimport {HttpUtils} from '../../utils/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LogService {\n\n  debug(from, message: string, ...context: any[]) {\n    if (!ConfigUtils.getConfig().isProduction\n      && ConfigUtils.getConfig().log.enableApp\n      && ConfigUtils.getConfig().log.level <= LogLevel.DEBUG) {\n      if ((typeof from) !== 'string' && from.constructor) {\n        from = from.constructor.name;\n      }\n      if (ConfigUtils.getConfig().log.blackLList.indexOf(from) < 0) {\n        this.getLogger().log(`[${DateUtils.getFormattedTime()}] %c DEBUG `,\n          'color: white; background: green; font-size: 18px;',\n          this.getLogData([from, message, ...context]));\n      }\n    }\n  }\n\n  info(from, message: string, ...context: any[]) {\n    if (ConfigUtils.getConfig().log.level <= LogLevel.INFO) {\n      if (typeof from !== 'string' && from.constructor) {\n        from = from.constructor.name;\n      }\n      if (ConfigUtils.getConfig().log.blackLList.indexOf(from) < 0) {\n        this.getLogger().log(`[${DateUtils.getFormattedTime()}] %c INFO `,\n          'color: white; background: blue; font-size: 18px;',\n          this.getLogData([from, message, ...context]));\n      }\n    }\n  }\n\n  warn(messages: any) {\n    if (ConfigUtils.getConfig().log.level <= LogLevel.WARN) {\n      this.getLogger().log(`[${DateUtils.getFormattedTime()}] %c WARN `,\n        'color: white; background: blue; font-size: 18px;',\n        this.getLogData(messages));\n    }\n  }\n\n  error(from, message, ...context: any[]) {\n    DialogUtils.error('éè¯¯', message);\n    if (ConfigUtils.getConfig().log.level <= LogLevel.ERROR) {\n      this.getLogger().log(`[${DateUtils.getFormattedTime()}] %c ERROR `,\n        'color: white; background: red; font-size: 18px;',\n        this.getLogData([from, message, ...context]));\n      if (ConfigUtils.getConfig().log.httpPost) {\n        if (CommonsUtils.isFunction(from)) {\n          from = from.constructor.name;\n        }\n        this.getHttpLogger().log(DateUtils.getFormattedDateTime(),\n          this.getLogData([from, message]));\n      }\n    }\n  }\n\n  protected getLogger(): Console {\n    return console;\n  }\n\n  protected getHttpLogger(): Console {\n    return <Console>{\n      log: (message?: any, ...optionalParams: any[]) => {\n        HttpUtils.request({\n          ...ConfigUtils.getConfig().logHttpOptions,\n          body: {\n            message,\n            ...optionalParams\n          }\n        });\n      }\n    };\n  }\n\n  private getLogData(messages: any) {\n    return {\n      ...messages\n    };\n  }\n}\n","import {LogService} from '../../services/log/service';\nimport {DiUtils} from '../di';\n\n\nexport class LogUtils {\n\n  private static _logService: LogService = null;\n\n  static debug(from, message, ...context: any[]) {\n    LogUtils.getLogService().debug(from, message, context);\n  }\n\n  static info(from, message, ...context: any[]) {\n    LogUtils.getLogService().info(from, message, context);\n  }\n\n  static warn(messages: any | any[]) {\n    LogUtils.getLogService().warn(messages);\n  }\n\n  static error(from, message, ...context: any[]) {\n    LogUtils.getLogService().error(from, message, context);\n  }\n\n  private static getLogService() {\n    if (!LogUtils._logService) {\n      LogUtils._logService = DiUtils.get<LogService>(LogService);\n    }\n    return LogUtils._logService;\n  }\n}\n","import {EventEmitter, ViewContainerRef} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\nimport {takeUntil} from 'rxjs/operators';\nimport {LogUtils} from '../log/index';\n\nexport class ComponentUtils {\n\n  static resolveProps(compInstance, props) {\n    const result = {\n      inputs: {},\n      outputs: {}\n    };\n    if (compInstance && CommonsUtils.isJson(props)) {\n      Object.keys(props).forEach(key => {\n        if (compInstance[key] instanceof EventEmitter) {\n          result.outputs[key] = props[key];\n        } else {\n          result.inputs[key] = props[key];\n        }\n      });\n    }\n    return result;\n  }\n\n  static bindLifeCycles(compInstance, hooks, constructor, destructor) {\n    let originalLifeCycles: {};\n    if (hooks) {\n      originalLifeCycles = {};\n      Object.keys(hooks).forEach(eventName => {\n        const ngEventName = `ng${CommonsUtils.capitalize(eventName)}`;\n\n        if (compInstance[`__${ngEventName}`] === true) {\n          (<Function>hooks[eventName]).call(compInstance, compInstance);\n        } else {\n          const original = constructor.prototype[ngEventName];\n          constructor.prototype[ngEventName] = function () {\n            CommonsUtils.isFunction(original) && original.apply(compInstance, arguments);\n            const args = Array.prototype.slice.call(arguments);\n            (<Function>hooks[eventName]).call(compInstance, ...args, compInstance);\n          };\n          originalLifeCycles[ngEventName] = original;\n        }\n      });\n      if (Object.keys(originalLifeCycles).length > 0) {\n        const destroyLifeCycle = 'ngOnDestroy';\n        constructor.prototype[destroyLifeCycle] = function () {\n          Object.keys(originalLifeCycles).forEach(lifeCycleName => {\n            constructor.prototype[lifeCycleName] = originalLifeCycles[lifeCycleName];\n          });\n          CommonsUtils.isFunction(destructor) && destructor.apply(compInstance);\n          constructor.prototype[destroyLifeCycle] = destructor;\n        };\n      }\n    }\n  }\n\n  // static bindLifeCycles(compInstance, hooks) {\n  //   if (!CommonsUtils.isEmpty(hooks)) {\n  //     Object.keys(hooks).forEach(eventName => {\n  //       const hookName = `ng${CommonsUtils.capitalize(eventName)}`;\n  //       const original = compInstance.__proto__[hookName];\n  //       compInstance.__proto__[hookName] = function () {\n  //         CommonsUtils.isFunction(original) && original.apply(compInstance, arguments);\n  //         const args = Array.prototype.slice.call(arguments);\n  //         (<Function>hooks[eventName]).call(compInstance, ...args, compInstance);\n  //       };\n  //     });\n  //   }\n  // }\n\n  /**\n   * set component instance attributes and event from props object\n   */\n  static bind(compInstance, props, unSubscribe?) {\n    for (const prop in props) {\n      if (prop === 'hooks') {\n        const constructor = ComponentUtils.getConstructor(compInstance);\n        const destructor = constructor.prototype['ngOnDestroy'];\n        ComponentUtils.bindLifeCycles(compInstance, props[prop], constructor, destructor);\n      } else if ((compInstance[prop] instanceof EventEmitter)) {\n        (compInstance[prop] as EventEmitter<any>)\n          .pipe(takeUntil(unSubscribe || compInstance['destroyed$']))\n          .subscribe(event => {\n            try {\n              if (CommonsUtils.isFunction(compInstance['getEventContext'])) {\n                event = compInstance.getEventContext(event);\n              }\n              props[prop].call(compInstance, event);\n            } catch (e) {\n              LogUtils.error(compInstance, 'æä½å¤±è´¥', e);\n            }\n          });\n      } else {\n        compInstance[prop] = props[prop];\n      }\n    }\n  }\n\n  static reWriteMethod(compInstance, methodName: string, newFun: Function, position: 'before' | 'after' | 'override' = 'after') {\n    const buildInFn = compInstance[methodName];\n    Object.defineProperty(compInstance, methodName, {\n      get: () => {\n        return (args) => {\n          if (buildInFn && position === 'after') {\n            buildInFn.call(compInstance, args);\n          }\n\n          newFun.call(compInstance, args);\n\n          if (buildInFn && position === 'before') {\n            buildInFn.call(compInstance, args);\n          }\n        };\n      }\n    });\n  }\n\n  static getHostComponentInst(viewContainer: ViewContainerRef) {\n    if (viewContainer) {\n      const componentView = viewContainer['_data'].componentView;\n      if (componentView) {\n        return componentView.component;\n      }\n    }\n    return null;\n  }\n\n  static getViewComponentRef(viewContainer: ViewContainerRef) {\n    if (viewContainer) {\n      const view = viewContainer['_view'];\n      if (view) {\n        return view.component;\n      }\n    }\n    return null;\n  }\n\n  static getConstructor(component) {\n    return component.__proto__.constructor;\n  }\n}\n","import {Location} from '@angular/common';\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\nimport {StateNames} from '@er/types';\nimport {CommonsUtils, StatesUtils} from '@er/utils';\nimport {DiUtils} from '../di';\n\nexport class RouteUtils {\n\n  static getActiveRoute() {\n    let route = DiUtils.get<ActivatedRoute>(ActivatedRoute);\n    while (route.firstChild) {\n      route = route.firstChild;\n    }\n    return route;\n  }\n\n  static getActiveRouteData() {\n    const route = RouteUtils.getActiveRoute();\n    return route && route.snapshot.data;\n  }\n\n  static clearOutlet(outletName: string = 'primary', isRelative = false) {\n    const extra = {};\n    if (!isRelative) {\n      extra['relativeTo'] = RouteUtils.getActiveRoute();\n    }\n    DiUtils.get<Router>(Router).navigate([{outlets: {[outletName]: null}}], extra);\n  }\n\n  static nav(commands: string | any[], paramsOrRelative?: {} | boolean, extras?: NavigationExtras) {\n    if (CommonsUtils.isString(commands)) {\n      commands = [commands];\n    }\n    if (!extras) {\n      extras = <NavigationExtras>{};\n    }\n    if (paramsOrRelative && Object.keys(paramsOrRelative).length > 0) {\n      CommonsUtils.set(<{}>extras, 'queryParams', paramsOrRelative);\n    }\n    if ((CommonsUtils.isString(commands) && !(<string>commands).startsWith('/'))\n      || (paramsOrRelative === true)) {\n      CommonsUtils.set(<{}>extras, 'relativeTo', RouteUtils.getActiveRoute());\n    }\n    DiUtils.get<Router>(Router).navigate(<any[]>commands, extras);\n  }\n\n  static back() {\n    DiUtils.get<Location>(Location).back();\n  }\n\n  static forward() {\n    DiUtils.get<Location>(Location).forward();\n  }\n\n  static refresh() {\n    RouteUtils.navigate(StatesUtils.getValue(StateNames.nav)['url']);\n  }\n\n  static navigate(url: string): void {\n    if (url.startsWith('http')) {\n      window.location.href = url;\n    } else {\n      DiUtils.get<Router>(Router).navigateByUrl(url);\n    }\n  }\n}\n","import {OnInit} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\nimport {ComponentUtils} from '../utils/component';\nimport {LogUtils} from '../utils/log';\nimport {RouteUtils} from '../utils/nav';\nimport {BaseComponent} from './component';\n\n\nexport class RouteBindComponent extends BaseComponent implements OnInit {\n\n  ngOnInit() {\n    this.$subscriptions = RouteUtils.getActiveRoute().url.subscribe(url => {\n      let activeRoute = RouteUtils.getActiveRoute();\n      if (!activeRoute) {\n        return;\n      }\n      const data = CommonsUtils.copy(activeRoute.snapshot.data);\n      const params = {\n        ...activeRoute.snapshot.params || {},\n        ...activeRoute.snapshot.queryParams || {}\n      };\n      while (activeRoute && !activeRoute.snapshot.data['$props']) {\n        activeRoute = activeRoute.parent;\n      }\n      const routeData = {\n        ...activeRoute.snapshot.data,\n        ...data\n      };\n      let props = CommonsUtils.copy(routeData['$resolvedProps'] || routeData['$props']);\n      if (data['$propsKey']) {\n        props = CommonsUtils.get(props, data['$propsKey']);\n      }\n      Object.keys(data).forEach(key => {\n        if (CommonsUtils.isFunction(data[key])) {\n          props[key] = (<Function>data[key])(props, params, data);\n        } else if (CommonsUtils.isString(data[key]) && data[key].startsWith(':')) {\n          const param = (<string>data[key]).substring(1);\n          if (params[param]) {\n            props[key] = params[param];\n          }\n        } else if (key !== '$propsKey' && key !== '$propsWrapperKey' && key !== '$props') {\n          props[key] = data[key];\n        }\n      });\n      props['$routeParams'] = params;\n\n      LogUtils.debug(this, 'è·¯ç±æ°æ®', routeData);\n\n      props = this.beforeRoutePropsBind(props);\n\n      ComponentUtils.bind(this, props);\n\n      this.afterRoutePropsBind();\n    });\n  }\n\n  beforeRoutePropsBind(props): {} {\n    return props;\n  }\n\n  afterRoutePropsBind() {\n  }\n}\n","import {HostBinding, Input, OnInit} from '@angular/core';\nimport {ControlValueAccessor} from '@angular/forms';\nimport {NO_OP} from '@er/types';\nimport {BehaviorSubject} from 'rxjs';\nimport {BaseComponent} from './component';\n\n\nexport class ControlComponent extends BaseComponent implements OnInit, ControlValueAccessor {\n\n  @Input() parser: (value) => any;\n\n  @Input() formatter: (model) => any;\n\n  @Input() disabled = false;\n\n  defaultValue: any;\n\n  disabled$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  onTouched: () => void = NO_OP;\n  onChange: (_: any) => void = NO_OP;\n\n  protected innerValue: any;\n\n  @HostBinding('style.opacity')\n  get opacity() {\n    return this.disabled ? 0.25 : 1;\n  }\n\n  @HostBinding('style.cursor')\n  get cursor() {\n    return this.disabled ? 'not-allowed' : 'default';\n  }\n\n  get value(): any {\n    return this.innerValue;\n  }\n\n  set value(value: any) {\n    if (!value || value !== this.innerValue) {\n      const v = this.parser ? this.parser(value) : value;\n      this.innerValue = v;\n      this.onChange(v);\n    }\n  }\n\n  ngOnInit() {\n    if (this.defaultValue) {\n      this.innerValue = this.defaultValue;\n    }\n  }\n\n  updateTouch() {\n    this.onTouched();\n  }\n\n  writeValue(model: any) {\n    const v = this.formatter ? this.formatter(model) : model;\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n    }\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    this.disabled$.next(isDisabled);\n  }\n}\n","import {Input} from '@angular/core';\nimport {Props} from '@er/types';\nimport {CommonsUtils, IdUtils} from '@er/utils';\nimport {BaseComponent} from './component';\n\nexport abstract class WrapperComponent<T extends Props = Props> extends BaseComponent {\n\n  $props: T;\n\n  @Input() outputContext: {}; // target component event context\n\n  @Input() attrs: any;\n\n  protected $defaultProps: T;\n\n  _initProps() {\n    this.$props = CommonsUtils.defaults({}, this.$props || {}, this.$defaultProps || {});\n    if (!this.$props.$id) {\n      this.$props.$id = IdUtils.getRandom();\n    }\n    if (!this.$props.$ext) {\n      this.$props.$ext = {};\n    }\n    if (this.$props.$ext['apiDataProps']) {\n      if (!this.$props.$ext['apiDataProps'].requestOptions) {\n        this.$props.$ext['apiDataProps'].requestOptions = {};\n      }\n      CommonsUtils.defaults(this.$props.$ext['apiDataProps'].requestOptions, {\n        context: this,\n        tag: this.$props.$id\n      });\n    }\n    this.onPropsInit();\n  }\n\n  _propsBind() {\n    this.onPropsBind();\n  }\n\n  onPropsInit() {}\n\n  onPropsBind() {\n  }\n}\n","import {HostBinding, Input} from '@angular/core';\nimport {ControlValueAccessor} from '@angular/forms';\nimport {NO_OP, Props} from '@er/types';\nimport {CommonsUtils} from '@er/utils';\nimport {WrapperComponent} from './wrappe';\n\n\nexport class ControlWrapperComponent<T extends Props = Props> extends WrapperComponent<T> implements ControlValueAccessor {\n\n  @Input() valueParser: (value) => any;\n\n  @Input() modelFormatter: (model) => any;\n\n  @Input() resettable = true;\n\n  @Input() disabled = false;\n\n  onTouched: () => void = NO_OP;\n  onChange: (_: any) => void = NO_OP;\n\n  protected innerValue: any;\n\n  @HostBinding('style.opacity')\n  get opacity() {\n    return this.disabled ? 0.25 : 1;\n  }\n\n  @HostBinding('style.cursor')\n  get cursor() {\n    return this.disabled ? 'not-allowed' : 'default';\n  }\n\n  get value(): any {\n    return this.innerValue;\n  }\n\n  set value(value: any) {\n    const v = this.valueParser ? this.valueParser(value) : value;\n    if (!CommonsUtils.isEqual(v, this.innerValue)) {\n      this.innerValue = v;\n      this.onChange(v);\n    }\n  }\n\n  updateTouch() {\n    this.onTouched();\n  }\n\n  writeValue(model: any) {\n    const v = this.modelFormatter ? this.modelFormatter(model) : model;\n    if ( v !== this.innerValue) {\n      this.innerValue = v;\n    }\n  }\n\n  registerOnChange(fn: any) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  onPropsInit() {\n    if (this.disabled) {\n      this.$props['disabled'] = this.disabled;\n    }\n  }\n\n  reset() {\n    this.value = null;\n  }\n}\n","import {ApiDataProps, ApiPayload, ApiRequestOptions, ApiServerType, DataSource, NotifyLevel, Query, StateNames} from '@er/types';\nimport {CommonsUtils, ConfigUtils, ContextUtils, DialogUtils, EsUtils, StatesUtils} from '@er/utils';\nimport {RequestBodySearch} from 'elastic-builder';\nimport {Observable, of, zip} from 'rxjs';\nimport {filter, first, map, switchMap} from 'rxjs/operators';\nimport {HttpUtils} from '../http';\nimport {LogUtils} from '../log';\n\nexport const DEFAULT_API_REQUEST_OPTIONS: ApiRequestOptions = {\n  notifyFailure: true\n};\n\nexport class ApiUtils {\n\n  private static presetApiOptions: { [key: string]: ApiRequestOptions } = {};\n\n\n  static getPresetApiOptions(serverType): ApiRequestOptions {\n\n    if (!serverType) {\n      serverType = CommonsUtils.get(ConfigUtils.getConfig(), 'api.default') || ApiServerType.ES;\n    }\n    ApiUtils.presetApiOptions[serverType] = {\n      ...DEFAULT_API_REQUEST_OPTIONS,\n      ...CommonsUtils.get(ConfigUtils.getConfig(), `api.servers.${serverType}`, {})\n    };\n    if (!ApiUtils.presetApiOptions[serverType].actions) {\n      ApiUtils.presetApiOptions[serverType].actions = {};\n    }\n    return ApiUtils.presetApiOptions[serverType];\n  }\n\n  static login(payload: {}, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.login || {};\n    return ApiUtils.doRequest(null, payload, presetActionOptions, options);\n  }\n\n  static logout(options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.logout || {};\n    return ApiUtils.doRequest(null, null, presetActionOptions, options);\n  }\n\n  static changePwd(payload: {}, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.changePwd || {};\n    return ApiUtils.doRequest(null, payload, presetActionOptions, options);\n  }\n\n  static register(payload: {}, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.register || {};\n    return ApiUtils.doRequest(null, payload, presetActionOptions, options);\n  }\n\n  static save(apiEntry: string, data: {}, options: ApiRequestOptions = {}): Observable<any> {\n    if (data) {\n      const _data = {...data};\n      if (_data['id']) {\n        const id = _data['id'];\n        delete _data['id'];\n        return ApiUtils.patchById.call(this, apiEntry, id, _data, options);\n      } else {\n        return ApiUtils.create.call(this, apiEntry, _data, options);\n      }\n    }\n  }\n\n  static create(apiEntry: string, data: {}, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.create || {};\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, data, presetActionOptions, options);\n  }\n\n  static getById(apiEntry: string, id: string, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.getById || {};\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, {id}, presetActionOptions, options);\n  }\n\n  static getByIds(apiEntry: string, ids: string | string[], options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.getByIds || {};\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, ids, presetActionOptions, options);\n  }\n\n  static getByQuery(apiEntry: string, payload?: ApiPayload | string | RequestBodySearch, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.getByQuery;\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, payload, presetActionOptions, options);\n  }\n\n  static updateById(apiEntry: string, id: string, data: {}, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.updateById;\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, {id, ...data}, presetActionOptions, options);\n  }\n\n  static patchById(apiEntry: string, id: string, data: {}, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.patchById;\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, {id, ...data}, presetActionOptions, options);\n  }\n\n  static updateByQuery(apiEntry: string, query: Query | Query[] | RequestBodySearch, data: {}, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.updateByQuery;\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, query, presetActionOptions, options);\n  }\n\n  static deleteById(apiEntry: string, id: string, options: ApiRequestOptions = {}): Observable<any> {\n    const obv = DialogUtils.confirm('æä½ç¡®è®¤', 'ç¡®è®¤æ§è¡<b>å é¤</b>æä½å?')\n      .pipe(\n        first(),\n        filter(accept => accept),\n        switchMap(_ => {\n          const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.deleteById;\n          return ApiUtils.doRequest(apiEntry, id, presetActionOptions, options);\n        })\n      );\n    return obv;\n  }\n\n  static deleteByQuery(apiEntry: string, query: Query | RequestBodySearch, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.deleteByQuery;\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, query, presetActionOptions, options);\n  }\n\n  static batch(apiEntry: string, body, options: ApiRequestOptions = {}) {\n    const presetActionOptions = ApiUtils.getPresetApiOptions(options.serverType).actions.batch;\n    ApiUtils.setContext(options, this);\n    return ApiUtils.doRequest(apiEntry, body, presetActionOptions, options);\n  }\n\n  static batchFetch(dataSource: ApiDataProps | ApiDataProps[] | DataSource, tag?): Observable<any> {\n    if (dataSource) {\n      let _apiDataProp = dataSource;\n      if (dataSource['apiDataProps']) {\n        _apiDataProp = dataSource['apiDataProps'];\n      }\n      _apiDataProp = CommonsUtils.copy(_apiDataProp);\n      const apiDataProps: ApiDataProps[] = CommonsUtils.getArrayValue(_apiDataProp);\n      if (CommonsUtils.isEmpty(apiDataProps)) {\n        return;\n      }\n      if (!tag) {\n        tag = dataSource['id'] || apiDataProps[0].id || '';\n      }\n      apiDataProps.forEach(apiDataProp => {\n        if (dataSource['query']) {\n          const query = dataSource['query'];\n          const apiQuery = CommonsUtils.getArrayValue(apiDataProp.query || []);\n          apiQuery.concat(CommonsUtils.getArrayValue(query));\n          apiDataProp.query = apiQuery;\n        }\n        const _filter = apiDataProp.filter;\n        if (CommonsUtils.isFunction(_filter)) {\n          if (dataSource['queryValue']) {\n            apiDataProp.filter = (apiDataProp.filter as Function)(dataSource['queryValue']);\n          } else {\n            delete apiDataProp.filter;\n          }\n        }\n\n        if (dataSource['interval']) {\n          CommonsUtils.set(<{}>apiDataProp, 'aggProps.interval', dataSource['interval']);\n        }\n        if (dataSource['format']) {\n          CommonsUtils.set(<{}>apiDataProp, 'aggProps.format', dataSource['format']);\n        }\n      });\n      // return forkJoin(...apiDataProps.map(apiDataProp => ApiUtils.fetch(apiDataProp, tag)))\n      //   .pipe(\n      //     catchError((err) => throwError(err))\n      //   );\n      return zip(...apiDataProps.map(apiDataProp => ApiUtils.fetch(apiDataProp, tag)))\n        .pipe(\n          map(dataSet => {\n            let resultList;\n            let resultMap;\n            dataSet.forEach((data, i) => {\n              if (apiDataProps[i].id) {\n                if (!resultMap) {\n                  resultMap = {};\n                }\n                resultMap[apiDataProps[i].id] = data;\n              } else {\n                if (!resultList) {\n                  resultList = [];\n                }\n                resultList.push(data);\n              }\n            });\n            if (resultList && resultList.length === 1) {\n              resultList = resultList[0];\n            }\n            if (resultMap && resultList) {\n              return {\n                ...resultMap,\n                data: resultList\n              };\n            } else {\n              return resultMap || resultList || [];\n            }\n          })\n        );\n    }\n  }\n\n  static fetch(apiDataProps: ApiDataProps, tag?): Observable<any> {\n    if (!apiDataProps.apiEntry) {\n      LogUtils.error('apiUtil', 'æ²¡æå®ä¹apiEntry');\n      return of([]);\n    }\n    let queryPayload: {};\n    if (CommonsUtils.isFunction(apiDataProps.payload)) {\n      queryPayload = (<Function>apiDataProps.payload).call(undefined, apiDataProps);\n    } else if (apiDataProps.payload) {\n      queryPayload = apiDataProps.payload;\n    }\n    if (!queryPayload) {\n      const qBody = EsUtils.buildQueryBody(apiDataProps);\n      queryPayload = qBody;\n    }\n    const options = apiDataProps.requestOptions || {};\n    if (!options.tag) {\n      options.tag = tag || '';\n    }\n    LogUtils.debug('apiUtils', 'apiDataæ°æ®æ¥è¯¢', {apiDataProps: apiDataProps, apiRequestBody: queryPayload});\n    return ApiUtils.getByQuery(apiDataProps.apiEntry, queryPayload, options)\n      .pipe(\n        map(data => {\n          let aggs;\n          if (data && data.aggs) {\n            aggs = EsUtils.resolveAggs(data.aggs);\n            data.aggs = aggs;\n          }\n          if (CommonsUtils.isEmpty(data.items)) {\n            delete data.items;\n          }\n          if (CommonsUtils.isEmpty(data.aggs)) {\n            delete data.aggs;\n          }\n          let path = apiDataProps.dataPath || (apiDataProps.aggProps ? 'aggs' : undefined);\n          if (path === '/') {\n            path = undefined;\n          }\n          return path ? CommonsUtils.get(data, path) : data;\n        })\n      );\n  }\n\n  private static setContext(options, context) {\n    options = options || {};\n    options.context = context;\n  }\n\n  private static doRequest(apiEntry: string,\n                           payload: any,\n                           presetActionOptions: ApiRequestOptions,\n                           actionOptions?: ApiRequestOptions): Observable<any> {\n    const apiRequestOptions: ApiRequestOptions = {\n      ...presetActionOptions,\n      ...actionOptions\n    };\n    delete apiRequestOptions.actions;\n    const requestPayload = payload;\n    const requestOptions = {\n      ...apiRequestOptions,\n      uri: ApiUtils.buildUri(apiEntry, requestPayload, apiRequestOptions),\n      payload: ApiUtils.buildPayload(apiEntry, requestPayload, apiRequestOptions)\n    };\n    delete requestOptions.paramsKeys;\n    delete requestOptions.uriResolver;\n    delete requestOptions.payloadResolver;\n    if (!requestOptions.uri || !requestOptions.uri.startsWith('http')) {\n      const apiServer = ApiUtils.getPresetApiOptions(presetActionOptions.serverType).uri || '';\n      requestOptions.uri = apiServer + (requestOptions.uri.startsWith('/') ? '' : '/') + requestOptions.uri;\n    }\n    return HttpUtils.request(requestOptions)\n      .pipe(\n        filter(response => !!response),\n        map(response => {\n          if (response.success === true) {\n            if (apiRequestOptions.alertSuccess) {\n              DialogUtils.info('æä½å®æ', apiRequestOptions.successMessage);\n            }\n            if (apiRequestOptions.notifySuccess) {\n              StatesUtils.create(StateNames.notify, {\n                title: 'æä½å®æ',\n                message: apiRequestOptions.successMessage\n              });\n            }\n            if (apiRequestOptions.onSuccess) {\n              return apiRequestOptions.onSuccess.call(requestOptions.context, response, requestOptions);\n            } else {\n              if (apiRequestOptions.dataPath) {\n                return CommonsUtils.get(response.content, apiRequestOptions.dataPath);\n              }\n              return response.content || response;\n            }\n          } else if (!response.success === false) {\n            if (apiRequestOptions.alertFailure) {\n              DialogUtils.error('æä½å¤±è´¥', response.message);\n            }\n            if (apiRequestOptions.notifyFailure) {\n              StatesUtils.create(StateNames.notify, {\n                level: NotifyLevel.ERROR,\n                title: response.error,\n                message: response.message\n              });\n            }\n            if (apiRequestOptions.onFailure) {\n              return apiRequestOptions.onFailure.call(requestOptions.context, response, requestOptions);\n            }\n            return response;\n          }\n          return response;\n        }),\n        first()\n      );\n  }\n\n  private static buildUri(apiEntry: string, payload: any, options: ApiRequestOptions) {\n    let uri = apiEntry;\n    if (CommonsUtils.isTemplateStr(apiEntry)) {\n      // apiEntry = CommonsUtils.templateStr(apiEntry, ContextUtils.context());\n    }\n    if (CommonsUtils.isString(options.uriResolver)) {\n      uri = options.uriResolver as string;\n    } else if (CommonsUtils.isFunction(options.uriResolver)) {\n      uri = (options.uriResolver as Function).call(options.context, apiEntry, payload, options);\n    } else if (!uri) {\n      uri = options.uri || '';\n    }\n    if (!uri.startsWith('http')) {\n      const serverUri = ApiUtils.getPresetApiOptions(options.serverType).uri;\n      if (serverUri) {\n        uri = serverUri + (uri.startsWith('/') ? uri : '/' + uri);\n      }\n    }\n    return uri;\n  }\n\n  private static buildPayload(apiEntry: string, payload: any, options: ApiRequestOptions): {} {\n    let _payload = payload;\n    if (CommonsUtils.isJson(_payload)) {\n      _payload = CommonsUtils.merge({}, _payload || {}, options.payload || {}, options.body || options.params || {});\n    }\n    if (options.payloadResolver) {\n      _payload = (options.payloadResolver as Function).call(options.context, apiEntry, _payload, options);\n    }\n    if (CommonsUtils.isString(_payload)) {\n      return _payload;\n    } else if (CommonsUtils.isString(options.body)) {\n      return options.body;\n    } else if (CommonsUtils.isEmpty(_payload)) {\n      return undefined;\n    }\n    _payload = ContextUtils.resolveVariables(_payload);\n    _payload = ApiUtils.resolveApiParamsName(\n      options.paramsKeys || ApiUtils.getPresetApiOptions(options.serverType).paramsKeys || {},\n      _payload);\n    if (CommonsUtils.isEmpty(_payload)) {\n      return undefined;\n    }\n    return _payload;\n  }\n\n  private static resolveApiParamsName(paramsKeys: {}, payload) {\n    if (!CommonsUtils.isJson(payload)) {\n      return payload;\n    }\n    const resolved = {};\n    for (const key in payload) {\n      if (paramsKeys.hasOwnProperty(key)) {\n        resolved[paramsKeys[key]] = payload[key];\n      } else {\n        resolved[key] = payload[key];\n      }\n    }\n    return resolved;\n  }\n}\n\n","import {Directive, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\nimport {ApiDataProps} from '@er/types';\nimport {CommonsUtils} from '@er/utils';\nimport {BaseDirective} from '../../bases/directive';\nimport {ApiUtils} from '../../utils/api';\nimport {LogUtils} from '../../utils/log';\n\n@Directive({\n  selector: '[erApiData]'\n})\nexport class ApiDataDirective extends BaseDirective implements OnChanges {\n\n  @Input('erApiData') apiDataProps: ApiDataProps;\n\n  @Output() onRequestData: Function;\n\n  @Output() onDataReady = new EventEmitter();\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.apiDataProps\n      && changes.apiDataProps.currentValue\n      && (this.apiDataProps.autoFetch !== false || !changes.apiDataProps.isFirstChange())) {\n      this.fetchData();\n    }\n  }\n\n  fetchData() {\n    if (CommonsUtils.isEmpty(this.apiDataProps)) {\n      LogUtils.debug('apiDataDirective', 'æ²¡æå®ä¹apiDataProps');\n      return;\n    }\n    ApiUtils.fetch(this.apiDataProps)\n      .subscribe(data => {\n        LogUtils.debug(this, 'apiDataå¾è®¢éæ°æ®', data);\n        if (this.apiDataProps.data$) {\n          this.apiDataProps.data$.next(data);\n        }\n        this.onDataReady.emit(data);\n      });\n  }\n}\n","import {Input, ViewChild} from '@angular/core';\nimport {ApiDataProps, DataAwareProps} from '@er/types';\nimport {CommonsUtils, DataItemUtils} from '@er/utils';\nimport {BehaviorSubject} from 'rxjs';\nimport {ApiDataDirective} from '../directives/api-data/directive';\nimport {LogUtils} from '../utils/log';\nimport {ControlWrapperComponent} from './control-wrapper';\n\nexport class DataAwareControlWrapperComponent<T extends DataAwareProps = DataAwareProps> extends ControlWrapperComponent<T> {\n\n  public data$: BehaviorSubject<any> = new BehaviorSubject<any>(undefined);\n\n  @ViewChild(ApiDataDirective) apiData: ApiDataDirective;\n\n  private _apiDataProps: ApiDataProps;\n\n  @Input() get apiDataProps() {\n    return this._apiDataProps || {};\n  }\n\n  set apiDataProps(props: ApiDataProps) {\n    this._apiDataProps = props;\n    if (this._apiDataProps && !this._apiDataProps.data$) {\n      this._apiDataProps.data$ = this.data$;\n    }\n  }\n\n  onPropsInit() {\n    super.onPropsInit();\n    this.initLocalDataItem();\n  }\n\n  parseValue(value) {\n    try {\n      if (value && this.$props.$ext.dataItemProps && !CommonsUtils.isString(value)) {\n        return DataItemUtils.getItemValue(value, this.$props.$ext.dataItemProps.valueKey);\n      }\n      return value;\n    } catch (e) {\n      LogUtils.error(this, 'æ°æ®è§£æéè¯¯', e);\n      return undefined;\n    }\n  }\n\n  formatModel(model) {\n    try {\n      if (CommonsUtils.isJson(model) && this.$props.$ext.dataItemProps) {\n        return DataItemUtils.getItemLabel(model, this.$props.$ext.dataItemProps.labelKey);\n      }\n      return model;\n    } catch (e) {\n      LogUtils.error(this, 'æ°æ®è§£æéè¯¯', e);\n      return undefined;\n    }\n  }\n\n  initLocalDataItem() {\n    if (this.$props.$ext && this.$props.$ext.dataItems) {\n      let data: {}[] = this.$props.$ext.dataItems;\n      data = data.map(d => d['data'] = d);\n      this.data$.next(data);\n    }\n  }\n}\n","import {ChangeDetectorRef, EventEmitter, Input, Output} from '@angular/core';\nimport {AbstractControl, FormControl, FormGroup, ValidationErrors} from '@angular/forms';\nimport {ApiRequestOptions, ButtonProps, DataEntity, DynaContent} from '@er/types';\nimport {CommonsUtils, DialogUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {first} from 'rxjs/operators';\nimport {ApiUtils} from '../utils/api';\nimport {BaseComponent} from './component';\n\nexport abstract class BaseFormComponent extends BaseComponent {\n\n  @Input() $id?: any;\n\n  @Input() entity: DataEntity;\n\n  @Input() apiEntry: string;\n\n  @Input() options = {};\n\n  @Input() submitRootKey: string;\n\n  @Input() submitExcludeKeys: string | string[];\n\n  @Input() resetKeys: string | string[];\n\n  @Input() styleClass: any;\n\n  @Input() style: any;\n\n  @Input() formStyleClass: any;\n\n  @Input() formStyle: any;\n\n  @Input() buttonsStyleClass: any = 'text-center my-5';\n\n  @Input() submitBtnStyleClass: any = 'btn btn-success';\n\n  @Input() resetBtnStyleClass: any = 'btn btn-danger';\n\n  @Input() initBtnStyleClass: any = 'btn btn-alert';\n\n  @Input() header: DynaContent;\n\n  @Input() footer: DynaContent;\n\n  @Input() buttons?: ButtonProps[];\n\n  @Input() getModelOptions: ApiRequestOptions;\n\n  @Input() submitOptions: ApiRequestOptions;\n\n  @Input() beforeSubmit: (context) => boolean | Observable<boolean>;\n\n  @Input() afterSubmit: (context) => void | {} | Observable<any>;\n\n  @Input() valueChanges: (context) => void;\n\n  @Input() resetAfterSubmit: boolean;\n\n  @Output() onSubmit: EventEmitter<{}> = new EventEmitter();\n\n  @Output() onSubmitted: EventEmitter<{}> = new EventEmitter();\n\n  @Output() onModel: EventEmitter<{}> = new EventEmitter();\n\n  @Output() onFormValueChanges: EventEmitter<any> = new EventEmitter();\n\n  form: FormGroup = new FormGroup({});\n\n  templateNames = {\n    header: 'header',\n    buttons: 'buttons',\n    footer: 'footer'\n  };\n\n  private initModel: {};\n\n  runtimeData = {};\n\n  private hasUpdated = false;\n\n  constructor(protected cd: ChangeDetectorRef) {\n    super();\n  }\n\n  private _model: {};\n\n  @Input()\n  get model() {\n    return this._model;\n  }\n\n  set model(model) {\n    this._model = CommonsUtils.omitBy(model, CommonsUtils.lodash().isUndefined);\n    this.refresh();\n  }\n\n  private _modelId: any;\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.$subscriptions = this.form.valueChanges.subscribe(event => this.onFormValueChanges.emit(event));\n  }\n\n  @Input()\n  get modelId() {\n    return this._modelId;\n  }\n\n  set modelId(modelId) {\n    if (modelId !== this.modelId) {\n      this._modelId = modelId;\n      if (!modelId || modelId === '') {\n        this.resetModel();\n      } else if (this.apiEntry) {\n        ApiUtils.getById(this.apiEntry, modelId, this.getModelOptions)\n          .subscribe(result => {\n            this.model = result;\n            this.form.updateValueAndValidity({onlySelf: false, emitEvent: true});\n          });\n      }\n    }\n  }\n\n  get isFormValid() {\n    if (!this.hasUpdated) {\n      this.updateControls();\n    }\n    return this.form.valid;\n  }\n\n  get httpTag(): string {\n    return `http${'-' + this.formId || ''}`;\n  }\n\n  get formId() {\n    return this.$id;\n  }\n\n  get submitModel() {\n    let model = {...this.model};\n    if (this.submitRootKey) {\n      model = this.model[this.submitRootKey];\n    }\n    if (this.submitExcludeKeys) {\n      model = CommonsUtils.removeKeys(model, ...CommonsUtils.getArrayValue(this.submitExcludeKeys));\n    }\n    Object.keys(model).forEach(key => {\n      if (key.startsWith('$_')) {\n        delete model[key];\n      }\n    });\n    return model;\n  }\n\n  formControl(fieldName): AbstractControl {\n    return this.form.controls[fieldName];\n  }\n\n  fieldComponent(fieldName) {\n    return this.form['components'][fieldName];\n  }\n\n  getFormErrorFields() {\n    const errors = [];\n    Object.keys(this.form.controls).forEach(key => {\n      const controlErrors: ValidationErrors = this.form.get(key).errors;\n      if (controlErrors != null) {\n        Object.keys(controlErrors).forEach(keyError => {\n          errors.push(key); // + ', err value: ', controlErrors[keyError]);\n        });\n      }\n    });\n    return errors;\n  }\n\n  patchModel(model) {\n    this.model = Object.assign({}, this.model || {}, model);\n  }\n\n  patchRuntimeData(data) {\n    Object.assign(this.runtimeData, data);\n  }\n\n  isFieldValid(path: string | string[]) {\n    const field = this.field(path);\n    if (field) {\n      return field.valid;\n    } else {\n      return undefined;\n    }\n  }\n\n  isFieldTouched(fieldNamePath: string) {\n    const field = this.field(fieldNamePath);\n    if (field) {\n      return field.touched;\n    } else {\n      return undefined;\n    }\n  }\n\n  updateControls(form?: FormGroup) {\n    if (!form) {\n      form = this.form;\n    }\n    Object.keys(form.controls).forEach(field => {\n      const control = form.get(field);\n      if (control instanceof FormControl) {\n        control.markAsTouched({onlySelf: true});\n        // control.updateValueAndValidity({onlySelf: true});\n      } else if (control instanceof FormGroup) {\n        this.updateControls(control);\n      }\n    });\n    this.hasUpdated = true;\n  }\n\n  field(path: string | string[]): AbstractControl {\n    return this.form.get(path);\n  }\n\n  resetForm() {\n    this.form.reset({});\n  }\n\n  resetModel(reset?) {\n    if (this.initModel) {\n      this.model = CommonsUtils.copy(this.initModel);\n    } else if (CommonsUtils.isJson(reset)) {\n      this.model = {...reset};\n    } else if (this.options['resetModel']) {\n      this.options['resetModel']();\n    } else {\n      this.model = {};\n    }\n    this.form.reset(this.model, {emitEvent: true});\n  }\n\n  setInitModel() {\n    this.initModel = CommonsUtils.copy(this.model);\n    if (this.options['updateInitialValue']) {\n      this.options['updateInitialValue']();\n    }\n  }\n\n  refresh() {\n    this.cd.detectChanges();\n  }\n\n  submit() {\n    if (!this.isFormValid) {\n      DialogUtils.error('æä½å¤±è´¥', 'è¯·å¡«åå®æ´ä¿¡æ¯åï¼åæ§è¡æ¬æä½ï¼');\n      return;\n    }\n    let result;\n    if (this.beforeSubmit) {\n      result = this.beforeSubmit(this.getEventContext());\n      if (result instanceof Observable) {\n        (<Observable<boolean>>result)\n          .pipe(first())\n          .subscribe(data => {\n            this.submitAfterBefore(data);\n          });\n      } else {\n        this.submitAfterBefore(result);\n      }\n    } else {\n      this.doSubmit();\n    }\n  }\n\n  defaultSubmit(submitModel?) {\n    this.$subscriptions = ApiUtils.save.call(this, this.apiEntry, submitModel || this.submitModel, {\n      tag: this.formId,\n      ...this.submitOptions || {}\n    })\n      .subscribe(data => {\n        if (data.id && data.id !== this.model['id']) {\n          this.model['id'] = data.id;\n        }\n        this.onSubmitted.emit(this.getEventContext({response: data, model: this.model, submitted: submitModel || this.submitModel}));\n        if (this.afterSubmit) {\n          const result = this.afterSubmit(this.getEventContext({submitModel: submitModel || this.submitModel, id: data.id}));\n          if (result instanceof Observable) {\n            (<Observable<any>>result)\n              .pipe(first())\n              .subscribe(dat => {\n                this.doPostSubmit(dat);\n              });\n          } else {\n            this.doPostSubmit(result);\n          }\n        } else {\n          this.doPostSubmit();\n        }\n      });\n  }\n\n  getEventContext(other?) {\n    return ({\n      formlyForm: this,\n      form: <FormGroup>this.form,\n      model: this.model,\n      modelId: this.modelId,\n      entry: this.apiEntry,\n      entity: <DataEntity>this.entity,\n      ...other || {}\n    });\n  }\n\n\n  private submitAfterBefore(result) {\n    if (result !== false) {\n      if (CommonsUtils.isJson(result) && !CommonsUtils.isEmpty(result)) {\n        this.doSubmit(result);\n      } else {\n        this.doSubmit();\n      }\n    }\n  }\n\n  private doSubmit(submitModel?) {\n    if (this.onSubmit.observers.length > 0) {\n      this.onSubmit.emit(this.getEventContext({submitModel}));\n    } else {\n      this.defaultSubmit(submitModel);\n    }\n  }\n\n  private doPostSubmit(model?) {\n    if (model) {\n      this.resetModel(model);\n    } else if (this.resetKeys) {\n      const keys = CommonsUtils.getArrayValue(this.resetKeys);\n      keys.forEach(key => delete this.model[key]);\n      delete this.model['id'];\n      this.form.reset(this.model, {emitEvent: true});\n    } else if (this.resetAfterSubmit !== false) {\n      this.resetModel(this.entity && this.entity.initValue || {});\n    }\n  }\n}\n","import {StateNames} from '@er/types';\nimport {StatesUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\n\n\nexport const HTTP_STATE$: Observable<boolean> = StatesUtils.observe(StateNames.rootHttp)\n  .pipe(\n    distinctUntilChanged(),\n    map(state => state && state.inProcess && state.inProcess > 0)\n  );\n\nexport const HTTP_TAG_STATE$ = (httpTag): Observable<boolean> => {\n  return StatesUtils.observe(StateNames.http, httpTag)\n    .pipe(\n      distinctUntilChanged(),\n      filter(state => !!state),\n      map(state => state && state.start)\n    );\n};\n\nexport const ROUTE_STATE$: Observable<boolean> = StatesUtils.observe(StateNames.nav)\n  .pipe(\n    distinctUntilChanged(),\n    filter(state => !!state),\n    map(state => state && state.start && state.outlet === 'primary')\n  );\n\nexport const ROUTE_OUTLET_STATE$ = (outlet): Observable<boolean> => {\n  return StatesUtils.observe(StateNames.nav)\n    .pipe(\n      distinctUntilChanged(),\n      filter(state => !!state),\n      map(state => state && state.start && state.outlet === outlet)\n    );\n};\n\nexport const WEB_SOCKET_STATES: Observable<string> = StatesUtils.observe(StateNames.socket)\n  .pipe(\n    distinctUntilChanged(),\n    filter(state => !!state),\n    map(state => state.state)\n  );\n","import {CommonsUtils, ConfigUtils} from '@er/utils';\nimport {NgxPermissionsService, NgxRolesService} from 'ngx-permissions';\nimport {NgxPermissionsObject} from 'ngx-permissions/service/permissions.service';\nimport {NgxRolesObject} from 'ngx-permissions/service/roles.service';\nimport {Observable, of} from 'rxjs';\nimport {DiUtils} from '../di';\n\n\nexport class PermissionUtils {\n\n  static _permissionsService: NgxPermissionsService = null;\n\n  static _rolesService: NgxRolesService = null;\n\n  static getPermissionsService() {\n    if (!PermissionUtils._permissionsService) {\n      PermissionUtils._permissionsService = DiUtils.get(NgxPermissionsService);\n    }\n    return PermissionUtils._permissionsService;\n  }\n\n  static getRolesService() {\n    if (!PermissionUtils._rolesService) {\n      PermissionUtils._rolesService = DiUtils.get(NgxRolesService);\n    }\n    return PermissionUtils._rolesService;\n  }\n\n  static getRolePermissions(roles: string | string[]): Observable<string[]> {\n    return (ConfigUtils.getConfig().auth.getRolePermissions\n      && ConfigUtils.getConfig().auth.getRolePermissions(roles))\n      || of([]);\n  }\n\n  static HasModulePermission(permissionName): boolean {\n    const permissions = PermissionUtils.getPermissionsService().getPermissions();\n    const matched = Object.keys(permissions).some(name => {\n      return name === permissionName\n        || name.startsWith(permissionName + ':');\n    });\n    return matched && Object.keys(matched).length > 0;\n  }\n\n  static addPermissions(permissions: string | string[], validationFunction?: (permissionName, permissionsObject) => boolean) {\n    PermissionUtils.getPermissionsService().addPermission(permissions, validationFunction);\n  }\n\n  static addRole(roleName: string, validationFunction?: Function | string[]) {\n    if (!validationFunction) {\n      validationFunction = () => true;\n    }\n    PermissionUtils.getRolesService().addRole(roleName, validationFunction);\n  }\n\n  static addRoles(roles: string | string[]) {\n    const _roles: string[] = CommonsUtils.getArrayValue(roles);\n    if (_roles) {\n      const roleService = PermissionUtils.getRolesService();\n      _roles.filter(role => !!role).forEach(role => roleService.addRole(role, () => true));\n    }\n  }\n\n  static hasRole(role: string): boolean {\n    const userRoles: NgxRolesObject = PermissionUtils.getRolesService().getRoles();\n    return userRoles.hasOwnProperty(role);\n  }\n\n  static hasAnyRole(roles: string | string[]) {\n    const _roles = CommonsUtils.getArrayValue(roles);\n    const userRoles: NgxRolesObject = PermissionUtils.getRolesService().getRoles();\n    return _roles.some(role => userRoles.hasOwnProperty(role));\n  }\n\n  static hasAllRoles(roles: string | string[]) {\n    const _roles = CommonsUtils.getArrayValue(roles);\n    const userRoles: NgxRolesObject = PermissionUtils.getRolesService().getRoles();\n    return _roles.every(role => userRoles.hasOwnProperty(role));\n  }\n\n  static getPermissions(): Observable<NgxPermissionsObject> {\n    return PermissionUtils.getPermissionsService().permissions$;\n  }\n\n  static getRoles(): Observable<NgxRolesObject> {\n    return PermissionUtils.getRolesService().roles$;\n  }\n\n  static hasPermission(permission: string): boolean {\n    const userPermissions: NgxPermissionsObject = PermissionUtils.getPermissionsService().getPermissions();\n    return userPermissions.hasOwnProperty(permission);\n  }\n\n  static hasAnyPermission(permissios: string | string[]) {\n    const _permissions = CommonsUtils.getArrayValue(permissios);\n    const userPermissions: NgxPermissionsObject = PermissionUtils.getPermissionsService().getPermissions();\n    return _permissions.some(permisiion => userPermissions.hasOwnProperty(permisiion));\n  }\n\n  static hasAllPermissions(permissions: string | string[]) {\n    const _permissions = CommonsUtils.getArrayValue(permissions);\n    const userPermissions: NgxPermissionsObject = PermissionUtils.getPermissionsService().getPermissions();\n    return _permissions.every(permisiion => userPermissions.hasOwnProperty(permisiion));\n  }\n\n  static hasAuth(roleOrPermission: string | string[]) {\n    return PermissionUtils.hasAnyRole(roleOrPermission) || PermissionUtils.hasAnyPermission(roleOrPermission);\n  }\n\n  static hasAllAuths(roleOrPermissions: string | string[]) {\n    return PermissionUtils.hasAllRoles(roleOrPermissions) || PermissionUtils.hasAllPermissions(roleOrPermissions);\n  }\n\n  static clearRoles() {\n    PermissionUtils.getRolesService().flushRoles();\n  }\n\n  static clearPermission() {\n    PermissionUtils.getPermissionsService().flushPermissions();\n  }\n}\n","import {ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router';\nimport {StateNames, User} from '@er/types';\nimport {CommonsUtils, ConfigUtils, JwtUtils, StatesUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {filter, tap} from 'rxjs/operators';\nimport {ApiUtils} from '../api';\nimport {RouteUtils} from '../nav';\nimport {PermissionUtils} from '../permission';\n\nexport function anyRoleUser(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n  if (AuthUtils.getCurrentUser().roles) {\n    return AuthUtils.getCurrentUser().roles;\n  } else {\n    return 'NO_ROLE_USER';\n  }\n}\n\nexport class AuthUtils {\n\n  private static CURRENT_USER: User = null;\n\n  static login(payLoad: {}, isRememberMe?: boolean): Observable<any> {\n    const login$ = ApiUtils.login({\n      ...payLoad,\n      rememberMe: isRememberMe\n    }, {\n      ...ConfigUtils.getConfig().auth.loginApiOptions || {},\n      tag: StateNames.auth\n    })\n      .pipe(\n        filter(loginUser => !!loginUser),\n        tap(loginUser => {\n          if (loginUser.jwtToken) {\n            if (ConfigUtils.getConfig().auth.getUserInfo) {\n              ConfigUtils.getConfig().auth.getUserInfo(loginUser)\n                .subscribe(userInfo => {\n                  const user = {\n                    ...loginUser,\n                    ...userInfo\n                  };\n                  AuthUtils.onLoginSuccess(user, isRememberMe);\n                });\n            } else {\n              AuthUtils.onLoginSuccess(loginUser, isRememberMe);\n            }\n          }\n        })\n      );\n    return login$;\n  }\n\n  static register(payLoad: {}): Observable<any> {\n    const reg$ = ApiUtils.register(payLoad, {\n      ...ConfigUtils.getConfig().auth.registerApiOptions || ConfigUtils.getConfig().auth.loginApiOptions,\n      tag: StateNames.auth\n    });\n    return reg$;\n  }\n\n  static logout() {\n    ApiUtils.logout({\n      ...ConfigUtils.getConfig().auth.logoutApiOptions || ConfigUtils.getConfig().auth.loginApiOptions,\n      tag: StateNames.auth\n    })\n      .subscribe(success => {\n        if (success) {\n          AuthUtils.updateUser({});\n          PermissionUtils.clearRoles();\n          PermissionUtils.clearPermission();\n          const url = ConfigUtils.getConfig().auth.logoutSuccessRouter;\n          RouteUtils.nav(url);\n        }\n      });\n  }\n\n  static changePwd(payload) {\n    const pwd$ = ApiUtils.changePwd(payload, {\n      ...ConfigUtils.getConfig().auth.changePwdApiOptions || ConfigUtils.getConfig().auth.loginApiOptions,\n      tag: StateNames.auth\n    });\n    return pwd$;\n  }\n\n  static getCurrentUser(): User {\n    if (AuthUtils.CURRENT_USER) {\n      return AuthUtils.CURRENT_USER || {};\n    }\n    const storageKey = ConfigUtils.getConfig().auth.storageKey;\n    let user = (JSON.parse(sessionStorage.getItem(storageKey))) as User;\n    if (!user) {\n      user = (JSON.parse(localStorage.getItem(storageKey))) as User;\n    }\n    if (user && user.isSu) {\n      user.isAdmin = true;\n    }\n    AuthUtils.CURRENT_USER = user;\n    return AuthUtils.CURRENT_USER || {};\n  }\n\n  static updateUser(patch: User, remeber?: boolean) {\n    if (!CommonsUtils.isEmpty(patch)) {\n      AuthUtils.CURRENT_USER = {\n        ...AuthUtils.CURRENT_USER,\n        ...patch\n      };\n    } else {\n      AuthUtils.CURRENT_USER = {};\n    }\n    StatesUtils.update(StateNames.user, AuthUtils.CURRENT_USER);\n    const storageKey = ConfigUtils.getConfig().auth.storageKey;\n    sessionStorage.setItem(storageKey, JSON.stringify(AuthUtils.CURRENT_USER));\n    if (remeber) {\n      if (!CommonsUtils.isEmpty(AuthUtils.CURRENT_USER)) {\n        localStorage.setItem(storageKey, JSON.stringify(AuthUtils.CURRENT_USER));\n      } else {\n        localStorage.removeItem(storageKey);\n      }\n    }\n  }\n\n  static checkLogin(returnUrl: string) {\n\n    const currentUser: User = AuthUtils.getCurrentUser();\n\n    if (currentUser.jwtToken && JwtUtils.isValid(currentUser.jwtToken)) {\n      return true;\n    } else {\n      if (true === StatesUtils.getValue(StateNames.auth, 'dialog')) {\n        StatesUtils.update(StateNames.popup, {\n          content: ConfigUtils.getConfig().auth.component,\n          header: ConfigUtils.getConfig().auth.title,\n          visible: true,\n          minWidth: 500,\n          minHeight: 300,\n          contentMaxWidth: 500,\n          contentMaxHeight: 300\n        });\n      } else {\n        const loginRouter = ConfigUtils.getConfig().auth.loginRouter;\n        StatesUtils.update(StateNames.auth, {successUrl: returnUrl});\n        RouteUtils.nav(loginRouter);\n      }\n      return false;\n    }\n  }\n\n  private static onLoginSuccess(user, isRememberMe) {\n    if (ConfigUtils.getConfig().auth.onLoginSuccess) {\n      ConfigUtils.getConfig().auth.onLoginSuccess(user);\n    }\n    user.enabled = true;\n    AuthUtils.updateUser(user, isRememberMe);\n    PermissionUtils.addRoles(user.roles);\n    if (ConfigUtils.getConfig().auth.defaultRules) {\n      PermissionUtils.addRoles(ConfigUtils.getConfig().auth.defaultRules);\n    }\n    PermissionUtils.addPermissions(user.permissions || []);\n    const key = ConfigUtils.getConfig().auth.requiredUserProps;\n    if (key) {\n      if (!CommonsUtils.get(user, key)) {\n        RouteUtils.nav(ConfigUtils.getConfig().auth.failedPropsRouter);\n      } else {\n        const successUrl = ConfigUtils.getConfig().auth.loginSuccessRouter;\n        RouteUtils.nav(successUrl);\n      }\n    } else {\n      const successUrl = ConfigUtils.getConfig().auth.loginSuccessRouter;\n      RouteUtils.nav(successUrl);\n    }\n  }\n}\n","import {OnInit, ViewContainerRef} from '@angular/core';\nimport {ConfigModel} from '@er/types';\nimport {BrowserOsUtils, BrowserSupport, CommonsUtils, ConfigUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {HTTP_STATE$, ROUTE_STATE$} from '../../states/all';\nimport {AuthUtils} from '../../utils/auth';\nimport {PermissionUtils} from '../../utils/permission';\n\nexport abstract class AppConfigComponent implements OnInit {\n\n  httpState$: Observable<boolean>;\n\n  routeState$: Observable<boolean>;\n\n  inValidBrowser: boolean;\n\n  constructor(public rootViewContainerRef: ViewContainerRef) {\n  }\n\n  get loadingClass() {\n    return ConfigUtils.getConfig().onLoading;\n  }\n\n  ngOnInit(): void {\n    const browserSupport = BrowserOsUtils.checkBrowser();\n    this.resolveBrowserSupport(browserSupport);\n    ConfigUtils.configApp(this.appConfig());\n    setTimeout(() => {\n      this.httpState$ = HTTP_STATE$;\n      this.routeState$ = ROUTE_STATE$;\n    }, 0);\n    const user = AuthUtils.getCurrentUser();\n    if (!CommonsUtils.isEmpty(user)) {\n      PermissionUtils.addPermissions(user.permissions);\n      PermissionUtils.addRoles(user.roles);\n      if (user.roles && ConfigUtils.getConfig().auth.defaultRules) {\n        PermissionUtils.addRoles(ConfigUtils.getConfig().auth.defaultRules);\n      }\n    }\n  }\n\n  resolveBrowserSupport(browserSupport: BrowserSupport) {\n    if (!browserSupport.version) {\n      alert('å½åæµè§å¨çæ¬å¤ªä½ï¼è¯·åçº§æµè§å¨!');\n    } else if (!browserSupport.features) {\n      alert('å½åæµè§å¨åè½ä¸å¨ï¼è¯·æ´æ¢æµè§å¨!');\n    }\n  }\n\n  abstract appConfig(): ConfigModel;\n\n\n}\n","import {OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {ConfigModel} from '@er/types';\nimport {ConfigUtils} from '@er/utils';\nimport {DiUtils} from '../../utils/di';\nimport {BaseComponent} from '../component';\n\nexport abstract class ModuleConfigComponent extends BaseComponent implements OnInit {\n\n  ngOnInit(): void {\n    const router = DiUtils.get<Router>(Router);\n    ConfigUtils.configModule(this.moduleConfig() || {}, router.url);\n  }\n\n  abstract moduleConfig(): ConfigModel;\n}\n","import {FormGroup} from '@angular/forms';\nimport {StateNames} from '@er/types';\nimport {ConfigUtils} from '@er/utils';\nimport {AuthUtils} from '../../utils/auth';\nimport {RouteUtils} from '../../utils/nav';\nimport {BaseComponent} from '../component';\n\n\nexport class AuthBaseComponent extends BaseComponent {\n\n  public form: FormGroup;\n\n  public error: string;\n\n  public appName: string;\n\n  public stateKey: string;\n\n  public userToken;\n\n  public password;\n\n  public rememberMe;\n\n  constructor() {\n    super();\n    this.userToken = ConfigUtils.getConfig().auth.userTokenKey;\n    this.password = ConfigUtils.getConfig().auth.passwordKey;\n    this.rememberMe = ConfigUtils.getConfig().auth.rememberMeKey;\n    this.appName = ConfigUtils.getConfig().appName;\n    this.stateKey = StateNames.auth;\n  }\n\n  login() {\n    this.error = undefined;\n    AuthUtils.login(this.getSubmitData(this.form.value))\n      .subscribe(response => {\n        if (response.success === false) {\n          this.error = response.message;\n        }\n      });\n  }\n\n  register() {\n    this.error = undefined;\n    const data = this.form.value;\n    delete data['rePassword'];\n    AuthUtils.register(this.getSubmitData(this.form.value))\n      .subscribe(response => {\n        if (response.success === false) {\n          this.error = response.message;\n        } else {\n          RouteUtils.nav(ConfigUtils.getConfig().auth.loginSuccessRouter);\n        }\n      });\n  }\n\n\n  getSubmitData(data) {\n    return data;\n  }\n}\n\n","import {OnInit} from '@angular/core';\nimport {FormBuilder, Validators} from '@angular/forms';\nimport {DiUtils} from '../../utils/di/index';\nimport {AuthBaseComponent} from './auth.component';\n\nexport class AbstractLoginComponent extends AuthBaseComponent implements OnInit {\n\n  ngOnInit() {\n    this.form = DiUtils.get<FormBuilder>(FormBuilder).group({\n      [this.userToken]: ['', Validators.required],\n      [this.password]: ['', Validators.required],\n      [this.rememberMe]: ['']\n    });\n  }\n}\n","import {AbstractControl, AsyncValidatorFn} from '@angular/forms';\nimport {ApiDataProps} from '@er/types';\nimport {CommonsUtils} from '@er/utils';\nimport {map} from 'rxjs/operators';\nimport {ApiUtils} from '../../utils/api';\n\nexport const NgAsyncValidator = function (requestProps: ApiDataProps, errorKey?: string): AsyncValidatorFn {\n  const fn = (control: AbstractControl) => {\n    let props = requestProps;\n    if (requestProps.query && CommonsUtils.isFunction(requestProps.query)) {\n      const query = (requestProps.query as Function)(control.value);\n      props = {\n        ...props,\n        query\n      };\n    }\n    const httpRequest = ApiUtils.fetch(props)\n      .pipe(\n        map(data => {\n          return !data ? null : {[errorKey]: true};\n        })\n      );\n    return httpRequest;\n  };\n  return fn;\n};\n\n\nexport const FormlyAsyncValidator = function (requestProps: ApiDataProps) {\n  const fn = (control: AbstractControl) => {\n    let props = requestProps;\n    if (requestProps.query && CommonsUtils.isFunction(requestProps.query)) {\n      const query = (requestProps.query as Function)(control.value);\n      props = {\n        ...props,\n        query\n      };\n    }\n    const httpRequest = ApiUtils.fetch(props)\n      .pipe(map(data => !data)\n      );\n    return httpRequest.toPromise();\n  };\n  return fn;\n};\n","import {OnInit} from '@angular/core';\nimport {FormBuilder, FormControl} from '@angular/forms';\nimport {ApiDataProps, ApiServerType} from '@er/types';\nimport {NgValidators} from '@er/validate';\nimport {DiUtils} from '../../utils/di/index';\nimport {NgAsyncValidator} from '../../validators/async';\nimport {AuthBaseComponent} from './auth.component';\n\nexport class AbstractRegisterComponent extends AuthBaseComponent implements OnInit {\n\n  checkExists = false;\n\n  inFocus = false;\n\n  errorMessage = {\n    duplicated: 'è¯¥ç¨æ·åå·²ç»è¢«æ³¨å'\n  };\n\n  get isUserNameValidate() {\n    return !this.inFocus && this.form.get(this.userToken).valid;\n  }\n\n  ngOnInit() {\n    this.form = DiUtils.get<FormBuilder>(FormBuilder).group({\n      [this.userToken]: new FormControl('', {\n        validators: NgValidators.required,\n        asyncValidators: NgAsyncValidator(this.userExistsApiOptions(), 'duplicated'),\n        updateOn: 'blur'\n      }),\n      [this.password]: ['', [NgValidators.required, NgValidators.minLength(6)]],\n      rePassword: ['', [NgValidators.required, NgValidators.minLength(6), NgValidators.equalTo(this.password)]]\n    });\n  }\n\n  userExistsApiOptions(): ApiDataProps {\n    return {\n      requestOptions: {\n        serverType: ApiServerType.ER\n      },\n      apiEntry: 'user/exists',\n      payload: (val) => {\n        return {userName: val};\n      }\n    };\n  }\n}\n","import {OnInit} from '@angular/core';\nimport {FormBuilder, Validators} from '@angular/forms';\nimport {ConfigUtils, DateUtils} from '@er/utils';\nimport {NgValidators} from '@er/validate';\nimport {AuthUtils} from '../../utils/auth/index';\nimport {DiUtils} from '../../utils/di/index';\nimport {RouteUtils} from '../../utils/nav/index';\nimport {AuthBaseComponent} from './auth.component';\n\nexport class AbstractChangePwdComponent extends AuthBaseComponent implements OnInit {\n\n  public oldPasswordKey;\n\n  public newPasswordKey;\n\n  ngOnInit() {\n    this.form = DiUtils.get<FormBuilder>(FormBuilder).group({\n      [this.oldPasswordKey]: ['', Validators.required],\n      [this.newPasswordKey]: ['', [NgValidators.required, NgValidators.minLength(6)]],\n      reNewPassword: ['', [NgValidators.required, NgValidators.minLength(6), NgValidators.equalTo(this.newPasswordKey)]]\n    });\n  }\n\n  changePwd() {\n    this.error = undefined;\n    const data: {} = this.form.value;\n    delete data['reNewPassword'];\n    data['userPwdSetDate'] = DateUtils.getFormattedDateTime();\n    AuthUtils.changePwd(this.getSubmitData(this.form.value))\n      .subscribe(response => {\n        if (response.success === true) {\n\n          RouteUtils.nav(ConfigUtils.getConfig().auth.changePwdSuccessRouter);\n        } else {\n          this.error = response.message || 'å¯ç ä¿®æ¹å¤±è´¥';\n        }\n      });\n  }\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\nimport {Subject, timer} from 'rxjs';\nimport {mapTo, scan, startWith, switchMap, takeWhile} from 'rxjs/operators';\nimport {BaseComponent} from '../../bases/component';\n\n\n@Component({\n  selector: 'animate-number',\n  template: `\n    <span [ngStyle]=\"{'font-size': fontSize, 'font-weight': 'bold'}\">\n       {{currentNumber}}\n    </span>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AnimateNumberComponent extends BaseComponent {\n\n  currentNumber = 0;\n\n  fontSize = '.8em';\n\n  private counter$ = new Subject();\n\n  constructor(private cd: ChangeDetectorRef) {\n    super();\n    this.$subscriptions = this.counter$\n      .pipe(\n        switchMap(endRange => {\n            return timer(1000, 200)\n              .pipe(\n                mapTo(this.positiveOrNegative(endRange, this.currentNumber)),\n                startWith(this.currentNumber),\n                scan((acc, curr) => acc + curr),\n                takeWhile(this.takeUntil(endRange, this.currentNumber))\n              );\n          }\n        )\n      )\n      .subscribe(val => {\n        this.currentNumber = val;\n        if (this.currentNumber === this.end) {\n          this.fontSize = '1em';\n        }\n        this.cd.detectChanges();\n      });\n  }\n\n  private _end: number;\n\n  get end() {\n    return this._end;\n  }\n\n  @Input()\n  set end(endRange: number) {\n    this._end = endRange;\n    this.currentNumber = endRange - CommonsUtils.getRandomNumber(20);\n    this.counter$.next(endRange);\n  }\n\n  private positiveOrNegative(endRange, currentNumber) {\n    return endRange > currentNumber ? 1 : -1;\n  }\n\n  private takeUntil(endRange, currentNumber) {\n    return endRange > currentNumber\n      ? val => val <= endRange\n      : val => val >= endRange;\n  }\n\n}\n\n","import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Breadcrumb, Menu, MenuItem, StateNames} from '@er/types';\nimport {CommonsUtils, ConfigUtils, RegUtils, StatesUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\nimport {BaseComponent} from '../../bases/component';\n\nconst ROUTE_DATA_BREADCRUMB_KEY = 'breadcrumb';\n\n@Component({\n  selector: 'er-breadcrumbs',\n  templateUrl: 'tpl.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BreadcrumbsComponent extends BaseComponent implements OnInit {\n\n  @Input() outlet = 'primary';\n\n  breadcrumbs$: Observable<Breadcrumb[]>;\n\n  constructor(private router: Router,\n              private route: ActivatedRoute) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.breadcrumbs$ = StatesUtils.observe(StateNames.nav)\n      .pipe(\n        filter(state => state && state.status === 'success'),\n        map(() => this.resolveRoute())\n      );\n  }\n\n  getRouterLink(breadcrumb: Breadcrumb) {\n    if (breadcrumb.params) {\n      return [breadcrumb.url, breadcrumb.params];\n    } else {\n      return [breadcrumb.url];\n    }\n  }\n\n  private resolveRoute() {\n    const breadcrumbs = [];\n    let currentRoute = this.route.root;\n    const menus: Menu = StatesUtils.getValue(StateNames.rootMenu);\n    let url;\n    const prefix = CommonsUtils.get(ConfigUtils.getConfig(), 'breadcrumb.prefix');\n    const excludes = CommonsUtils.get(ConfigUtils.getConfig(), 'breadcrumb.excludes');\n    let lastLabel = '';\n    do {\n      const childrenRoutes = currentRoute.children;\n      currentRoute = null;\n      childrenRoutes.forEach(route => {\n        if (route.outlet === this.outlet) {\n          const routeSnapshot = route.snapshot;\n          let label = null;\n          if (routeSnapshot.routeConfig && routeSnapshot.routeConfig.data && routeSnapshot.routeConfig.data[ROUTE_DATA_BREADCRUMB_KEY]) {\n            label = routeSnapshot.routeConfig.data[ROUTE_DATA_BREADCRUMB_KEY];\n          }\n          if (!label) {\n            const currentUrl = routeSnapshot.url.join('/');\n            if (currentUrl && currentUrl.trim().length > 0) {\n              if (!url) {\n                url = currentUrl;\n              } else {\n                url = url + '/' + currentUrl;\n              }\n            }\n            if (url && !RegUtils.test(url, excludes)) {\n              const parts = url.split('/');\n              const menu = CommonsUtils.deepFind(menus, {routerLink: url}, {routerLink: `/${url}`}, {name: parts[parts.length - 1]});\n              if (menu && menu.length > 0) {\n                label = (<MenuItem>menu[0]).label;\n              }\n            }\n          }\n          if (label && label.length !== 0 && label !== lastLabel) {\n            if (url.length === 0) { routeSnapshot.params = {}; }\n            breadcrumbs.push(<Breadcrumb>{\n              label: label,\n              url: url,\n              params: routeSnapshot.params\n            });\n          }\n          currentRoute = route;\n          lastLabel = label;\n        }\n      });\n    } while (currentRoute);\n\n    if (prefix) {\n      return prefix.concat(breadcrumbs);\n    } else {\n      return breadcrumbs;\n    }\n  }\n\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {StateNames} from '@er/types';\nimport {StatesUtils} from '@er/utils';\nimport {Subject} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\nimport {BaseComponent} from '../../bases/component';\n\n@Component({\n  selector: 'er-button',\n  templateUrl: 'tpl.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StateButtonComponent extends BaseComponent implements OnInit {\n\n  @Input() type: 'button' | 'link' = 'button';\n  @Input() hint = '';\n  @Input() label: string;\n  @Input() icon: string;\n  @Input() style: {};\n  @Input() hidden: boolean;\n  @Input() styleClass: string;\n  @Input() disabled: boolean;\n  @Input() iconRight: boolean;\n  @Input() stateKey: string;\n  @Input() stateLabel: string;\n  @Input() stateHint: string;\n  @Input() context: {};\n\n  @Output() onClick: EventEmitter<any> = new EventEmitter();\n  @Output() onFocus: EventEmitter<any> = new EventEmitter();\n  @Output() onBlur: EventEmitter<any> = new EventEmitter();\n\n  processIcon = 'fa fa-cog fa-spin';\n\n  processing$: Subject<boolean> = new Subject<boolean>();\n\n  constructor(protected cd: ChangeDetectorRef) {\n    super();\n  }\n\n  @Input()\n  set processing(processing: boolean) {\n    this.processing$.next(processing);\n    this.cd.markForCheck(); // used for not dom event modify\n  }\n\n  get btnLabel() {\n    if (this.processing) {\n      return this.stateLabel || this.label;\n    } else {\n      return this.label || '';\n    }\n  }\n\n  get btnTitle() {\n    if (this.processing) {\n      return this.stateHint || 'æ§è¡ä¸­...';\n    } else {\n      return this.hint || '';\n    }\n  }\n\n  ngOnInit() {\n    if (this.stateKey) {\n      this.$subscriptions = StatesUtils.observe(StateNames.http, this.stateKey)\n        .pipe(\n          filter(state => !!state),\n          map(state => state['start'])\n        ).subscribe(b => this.processing$.next(b));\n    }\n  }\n\n  click(event) {\n    this.onClick.emit({\n      ...event,\n      ...this.context || {}\n    });\n  }\n}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\nimport {BaseComponent} from '../../bases/component';\n\n@Component({\n  selector: 'er-buttons',\n  template: `\n    \n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class StateButtonsComponent extends BaseComponent {\n\n}\n","import {ChangeDetectionStrategy, Component, Input, OnInit} from '@angular/core';\nimport {DataItemProps} from '@er/types';\nimport {CommonsUtils, DataItemUtils} from '@er/utils';\nimport {BaseComponent} from '../../bases/component';\n\n@Component({\n  selector: 'er-data-item',\n  template: `\n    <ng-container *ngIf=\"props.template;else default\">\n      <er-dyna-content [content]=\"props.template\" [context]=\"item\"></er-dyna-content>\n    </ng-container>\n    <ng-template #default>\n      <div class=\"d-flex data-item\" [ngClass]=\"props.itemStyleClass || 'ui-clearfix'\">\n        <span class=\"label mr-3 border-right\" *ngFor=\"let label of labels\" [ngClass]=\"props.labelStyleClass\" [innerHTML]=\"label\"></span>\n        <span class=\"pull-right count\" *ngIf=\"props.showCounter && item['value']\">\n          <span [ngClass]=\"props.counterStyleClass || 'badge badge-pill badge-info'\">{{item['value']}}</span>\n        </span>\n      </div>\n    </ng-template>\n  `,\n  styleUrls: ['styles.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class DataItemComponent extends BaseComponent implements OnInit {\n\n  @Input() item: {};\n\n  @Input() props: DataItemProps;\n\n  get labels() {\n    const _label = DataItemUtils.getItemLabel(this.item, this.labelKeys);\n    if (CommonsUtils.isArray(_label)) {\n      return _label;\n    } else {\n      return [_label];\n    }\n  }\n\n  get labelKeys() {\n    let keys = this.props.dropDownOptionKey || this.props.labelKey;\n    if (!keys) {\n      if (this.item.hasOwnProperty('label')) {\n        keys = 'label';\n      } else {\n        keys = Object.keys(this.item).filter(key => !key.startsWith('_') && key !== 'id');\n      }\n    }\n    return keys;\n  }\n\n  ngOnInit() {\n    if (!this.props) {\n      this.props = {};\n    }\n  }\n\n}\n","import {\n  Compiler,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ModuleWithComponentFactories,\n  NgModule,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\nimport {ComponentRef} from '@angular/core/src/linker/component_factory';\nimport {CacheUtils} from '@er/utils';\nimport {DiUtils} from '../di';\n\nconst cacheKey = '$component-factory';\n\nexport class DynaComponentUtils {\n\n  private static _componentFactoryResolver: ComponentFactoryResolver = null;\n\n  static createComponentByType(hostViewContainerRef: ViewContainerRef,\n                               componentType: Type<any>): ComponentRef<any> {\n    if (!componentType) {\n      return;\n    }\n    let componentFactory = CacheUtils.get(cacheKey, componentType);\n    if (!componentFactory) {\n      componentFactory = DynaComponentUtils.getComponentFactoryResolver().resolveComponentFactory(componentType);\n      CacheUtils.put(cacheKey, componentType, componentFactory);\n    }\n    return DynaComponentUtils.createComponent(hostViewContainerRef, componentFactory);\n  }\n\n  static createComponentByTemplate(hostViewContainerRef: ViewContainerRef,\n                                   template: string) {\n\n    if (!template) {\n      return;\n    }\n    let componentFactory: ComponentFactory<any> = CacheUtils.get<ComponentFactory<any>>(cacheKey, template);\n    if (!componentFactory) {\n      const component = DynaComponentUtils.createDecoratedComponent(null, template);\n      const module = DynaComponentUtils.createNgModule(component);\n      componentFactory = module.componentFactories.find(factory => factory.componentType === component);\n      CacheUtils.put(cacheKey, template, componentFactory);\n    }\n    return DynaComponentUtils.createComponent(hostViewContainerRef, componentFactory);\n  }\n\n  private static getComponentFactoryResolver(): ComponentFactoryResolver {\n    if (!DynaComponentUtils._componentFactoryResolver) {\n      DynaComponentUtils._componentFactoryResolver = DiUtils.get<ComponentFactoryResolver>(ComponentFactoryResolver);\n    }\n    return DynaComponentUtils._componentFactoryResolver;\n  }\n\n  private static createDecoratedComponent(useClass: any, template: string) {\n    const componentClass = useClass || class {\n    };\n    return Component({\n      template: template\n    })(componentClass);\n  }\n\n  private static createNgModule(component: Type<any>): ModuleWithComponentFactories<any> {\n    const ngModule = NgModule({declarations: [component]})(class {\n    });\n    return DiUtils.get<Compiler>(Compiler).compileModuleAndAllComponentsSync(ngModule);\n  }\n\n  private static createComponent(hostViewContainerRef: ViewContainerRef,\n                                 componentFactory: ComponentFactory<any>): ComponentRef<any> {\n    hostViewContainerRef.clear();\n    const componentRef = hostViewContainerRef.createComponent(componentFactory);\n    return componentRef;\n  }\n\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentRef,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\nimport {ComponentUtils} from '../../utils/component';\nimport {DynaComponentUtils} from '../../utils/dyna';\n\n\n@Component({\n  selector: 'er-dyna-component',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DynaCompComponent {\n  @Input() type: Type<any> | string;\n  @Input() props: {};\n  @Output() onCreated = new EventEmitter();\n\n  private component: ComponentRef<{}>;\n\n  constructor(private viewContainerRef: ViewContainerRef,\n              private el: ElementRef,\n              private renderer: Renderer2) {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.type) {\n      this.createComponent();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.component) {\n      this.component.destroy();\n      this.component = null;\n    }\n  }\n\n  private createComponent() {\n    if (this.type) {\n      if (CommonsUtils.isString(this.type)) {\n        this.component = DynaComponentUtils.createComponentByTemplate(\n          this.viewContainerRef,\n          <string>this.type\n        );\n      } else {\n        this.component = DynaComponentUtils.createComponentByType(\n          this.viewContainerRef,\n          <Type<any>>this.type\n        );\n      }\n      ComponentUtils.bind(this.component.instance, this.props);\n      this.onCreated.emit(this.component);\n      const parent = this.el.nativeElement.parentNode;\n      this.renderer.removeChild(parent, this.el.nativeElement);\n    }\n  }\n}\n","import {KeyValueChangeRecord, SimpleChange, SimpleChanges} from '@angular/core';\n\nexport type KeyValueChangeRecordAny = KeyValueChangeRecord<any, any>;\n\nexport function createNewChange(val: any): SimpleChange {\n  return new SimpleChange(undefined, val, true);\n}\n\nexport function recordToChange(\n  record: KeyValueChangeRecordAny,\n  isFirstChange = false,\n): SimpleChange {\n  return isFirstChange\n    ? createNewChange(record.currentValue)\n    : new SimpleChange(record.previousValue, record.currentValue, false);\n}\n\nexport function setChangeFromRecord(\n  isFirstChanges: boolean,\n  setter: (record: KeyValueChangeRecordAny, change: SimpleChange) => void,\n) {\n  return (record: KeyValueChangeRecordAny) =>\n    setter(record, recordToChange(record, isFirstChanges));\n}\n\nfunction getChangesRecords(isFirstChanges: boolean) {\n  return (changes: SimpleChanges) => setChangeFromRecord(isFirstChanges,\n    (record, change) => changes[record.key] = change);\n}\n\nfunction getNewChangesRecords(isFirstChanges: boolean) {\n  return (changes: SimpleChanges) => setChangeFromRecord(isFirstChanges,\n    (record, change) => {\n      if (!changes[record.key]) {\n        changes[record.key] = change;\n      }\n    });\n}\n\nexport const defaultOpts = {\n  isFirstChanges: false,\n  onlyNewChanges: false,\n};\n\nexport type DefaultOpts = Partial<typeof defaultOpts>;\n\nexport function changesFromRecord(\n  opts: DefaultOpts = defaultOpts,\n) {\n  return opts.onlyNewChanges\n    ? getNewChangesRecords(opts.isFirstChanges)\n    : getChangesRecords(opts.isFirstChanges);\n}\n","import {\n  Directive,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Input,\n  KeyValueChanges,\n  KeyValueDiffers,\n  OnChanges,\n  Renderer2,\n  SimpleChange,\n  SimpleChanges,\n  ViewContainerRef\n} from '@angular/core';\nimport {LifeCycles} from '@er/types';\nimport {CommonsUtils, IdUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {BaseDirective} from '../../bases/directive';\nimport {WrapperComponent} from '../../bases/wrappe';\nimport {ComponentUtils} from '../../utils/component';\nimport {LogUtils} from '../../utils/log';\nimport {changesFromRecord} from './util';\n\nconst recordToChanges = changesFromRecord({isFirstChanges: true});\nconst recordToNewChanges = changesFromRecord({onlyNewChanges: true});\n\n@Directive({\n  selector: '[erPropsBind]'\n})\nexport class PropsBindDirective extends BaseDirective implements OnChanges, DoCheck {\n  @Input() props: {};\n  @Input() context: {};\n  @Input() attrs: {};\n  @Input() autoBind = true;\n  private methods: { [key: string]: Function };\n  private inputs: { [k: string]: any };\n  private outputs: { [eventName: string]: (event) => void };\n  private expInputs: { [k: string]: (event) => any };\n  private expAttrs: { [k: string]: (event) => any };\n  private hooks: LifeCycles;\n  private lastInputChanges: SimpleChanges;\n  private lastAttrChanges: {\n    set: {},\n    remove: string[],\n  };\n  private differ = this.differs.find({}).create();\n\n  constructor(private differs: KeyValueDiffers,\n              protected elementRef: ElementRef,\n              protected renderer: Renderer2,\n              protected viewContainerRef: ViewContainerRef) {\n    super();\n  }\n\n  private _hostComponentInst: any = undefined;\n\n  get hostComponentInst() {\n    if (this._hostComponentInst === undefined) {\n      this._hostComponentInst = ComponentUtils.getHostComponentInst(this.viewContainerRef);\n    }\n    return this._hostComponentInst;\n  }\n\n  private _viewComponentRef: any = undefined;\n\n  get viewComponentRef() {\n    if (this._viewComponentRef === undefined) {\n      this._viewComponentRef = ComponentUtils.getViewComponentRef(this.viewContainerRef);\n    }\n    return this._viewComponentRef;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.autoBind) {\n      if (changes.props && !CommonsUtils.isEmpty(this.props)) {\n        this.resolveProps();\n        this.differs.find({}).create();\n        LogUtils.debug(this, 'å±æ§ç»å®', this.props, this.inputs, this.outputs, this.hooks);\n        if (this.methods) {\n          this.bindMethods();\n        }\n        if (this.inputs) {\n          const inputsChanges = this.differ.diff(this.inputs);\n          this.expInputs = this.getExpressionInputs(this.inputs);\n          if (inputsChanges) {\n            this.updateInputsChanges(inputsChanges);\n            this.updateInputs(!this.lastInputChanges);\n          }\n        }\n        if (this.outputs) {\n          const outputsChanges = this.differ.diff(this.outputs);\n          if (outputsChanges) {\n            this.bindOutputs();\n          }\n        }\n        if (this.hooks) {\n          this.bindLifeCycles();\n        }\n        if (changes.props.isFirstChange()) {\n          if (this.hostComponentInst._propsBind) {\n            this.hostComponentInst._propsBind();\n          }\n        }\n      }\n\n      if (changes.attrs && this.attrs) {\n        this.resolveAttrs();\n        const attrChanges = this.differ.diff(this.attrs);\n        if (attrChanges) {\n          this.lastAttrChanges = this.changesToAttrChanges(attrChanges);\n          this.updateAttributes(this.lastAttrChanges);\n        }\n        // this.expAttrs = this.getExpressionInputs(this.attrs);\n      }\n    }\n  }\n\n  ngDoCheck() {\n    if (this.attrs && this.autoBind) {\n      if (this.expAttrs && Object.keys(this.expAttrs).length > 0) {\n        Object.keys(this.expAttrs).forEach(key => {\n          this.attrs[key] = this.expAttrs[key].call(this, this.getEventContext());\n        });\n      }\n      const attrChanges = this.differ.diff(this.attrs);\n      if (attrChanges) {\n        this.lastAttrChanges = this.changesToAttrChanges(attrChanges);\n        this.updateAttributes(this.lastAttrChanges);\n      }\n    }\n    if (this.inputs && this.autoBind) {\n      if (this.expInputs && Object.keys(this.expInputs).length > 0) {\n        Object.keys(this.expInputs).forEach(key => {\n          const result = this.expInputs[key](this.getEventContext());\n          if (result instanceof Observable) {\n            this.$subscriptions = (<Observable<any>>result).subscribe(data => {\n              this.inputs[key] = data;\n            });\n          } else {\n            this.inputs[key] = result;\n          }\n        });\n      }\n      const inputsChanges = this.differ.diff(this.inputs);\n      if (inputsChanges) {\n        const isNotFirstChange = !!this.lastInputChanges;\n        this.updateInputsChanges(inputsChanges);\n        if (isNotFirstChange) {\n          this.updateInputs();\n        }\n      }\n    }\n  }\n\n  getEventContext(event?) {\n    return {\n      ...event,\n      $from: this.hostComponentInst,\n      ...this.context || {}\n    };\n  }\n\n  private updateInputs(isFirstChange = false) {\n    if (!this.hostComponentInst || !this.inputs) {\n      return;\n    }\n    Object.keys(this.inputs)\n      .forEach(p => (this.hostComponentInst[p] = this.inputs[p]));\n    this.notifyOnInputChanges(this.lastInputChanges, isFirstChange);\n  }\n\n  private bindOutputs() {\n    this.stopSubscribe();\n    if (!this.outputs) {\n      return;\n    }\n    Object.keys(this.outputs)\n      .filter(p => this.hostComponentInst[p])\n      .forEach(p =>\n        this.$subscriptions = (<EventEmitter<any>>this.hostComponentInst[p])\n          .subscribe(event => {\n            try {\n              this.outputs[p](this.getEventContext(event));\n            } catch (e) {\n              LogUtils.error(this.hostComponentInst, 'æä½å¤±è´¥', e);\n            }\n          })\n      );\n  }\n\n  private bindLifeCycles() {\n    const constructor = ComponentUtils.getConstructor(this.hostComponentInst);\n    const destructor = constructor.prototype['ngOnDestroy'];\n    ComponentUtils.bindLifeCycles(this.hostComponentInst, this.hooks, constructor, destructor);\n  }\n\n  private bindMethods() {\n    if (this.methods) {\n      Object.keys(this.methods).forEach(method => {\n        this.hostComponentInst[method] = this.methods[method].bind(this.hostComponentInst);\n      });\n    }\n  }\n\n  private notifyOnInputChanges(changes: SimpleChanges = {}, forceFirstChanges: boolean) {\n\n    if (!this.hostComponentInst.ngOnChanges) {\n      return;\n    }\n\n    if (forceFirstChanges) {\n      changes = this.collectFirstChanges();\n    }\n\n    this.hostComponentInst.ngOnChanges(changes);\n\n    if (this.hostComponentInst.cd && this.hostComponentInst.cd.detectChanges) {\n      this.hostComponentInst.cd.detectChanges();\n    }\n  }\n\n  private getExpressionInputs(props) {\n    if (props) {\n      const expProps = {};\n      Object.keys(props).forEach(key => {\n        if (props[key] instanceof Function) {\n          expProps[key] = props[key];\n        }\n      });\n      return expProps;\n    }\n    return undefined;\n  }\n\n  private updateInputsChanges(differ: KeyValueChanges<any, any>) {\n    this.lastInputChanges = this.collectChangesFromDiffer(differ);\n  }\n\n  private collectFirstChanges(): SimpleChanges {\n    const changes = {} as SimpleChanges;\n    const inputs = this.inputs;\n\n    Object.keys(inputs)\n      .forEach(prop => (changes[prop] = new SimpleChange(undefined, inputs[prop], true)));\n\n    return changes;\n  }\n\n  private collectChangesFromDiffer(differ: KeyValueChanges<any, any>): SimpleChanges {\n    const changes = {} as SimpleChanges;\n    differ.forEachAddedItem(recordToChanges(changes));\n    differ.forEachItem(recordToNewChanges(changes));\n    return changes;\n  }\n\n  private changesToAttrChanges(changes: KeyValueChanges<string, any>) {\n    const attrChanges = {\n      set: {},\n      remove: []\n    };\n    changes.forEachAddedItem(r => (attrChanges.set[r.key] = r.currentValue));\n    changes.forEachChangedItem(r => (attrChanges.set[r.key] = r.currentValue));\n    changes.forEachRemovedItem(r => attrChanges.remove.push(r.key));\n    return attrChanges;\n  }\n\n  private updateAttributes(actions) {\n    Object.keys(actions.set).forEach(key =>\n      this.setAttribute(key, actions.set[key])\n    );\n    actions.remove.forEach(key => this.removeAttribute(key));\n  }\n\n  private setAttribute(name: string, value: string, namespace?: string) {\n    this.renderer.setAttribute(this.elementRef.nativeElement, name, value, namespace);\n  }\n\n  private removeAttribute(name: string, namespace?: string) {\n    this.renderer.removeAttribute(this.elementRef.nativeElement, name, namespace);\n  }\n\n  private resolveProps() {\n    if (this.hostComponentInst && CommonsUtils.isJson(this.props)) {\n      this.inputs = {};\n      this.outputs = {};\n      if (this.hostComponentInst._initProps) {\n        this.hostComponentInst.$props = CommonsUtils.merge({}, this.props);\n        this.hostComponentInst._initProps();\n        this.props = CommonsUtils.merge({}, this.hostComponentInst.$props);\n      }\n\n      if (!this.props['$id']) {\n        this.props['$id'] = IdUtils.getRandom();\n      }\n\n      if (this.props['methods']) {\n        this.methods = this.props['methods'];\n        delete this.props['methods'];\n      }\n\n      if (this.props['hooks']) {\n        this.hooks = this.props['hooks'];\n        delete this.props['hooks'];\n      }\n      // else if (this.props['$ext'] && this.props['$ext'].hooks) {\n      //   this.hooks = this.props['$ext'].hooks;\n      //   delete this.props['$ext'].hooks;\n      // }\n\n      if (this.hostComponentInst instanceof WrapperComponent) {\n        this.props = CommonsUtils.get(this.props, '$ext', {});\n        if (this.props['hooks']) {\n          this.hooks = this.props['hooks'];\n          delete this.props['hooks'];\n        }\n      } else {\n        this.props = CommonsUtils.omit(this.props, '$ext');\n      }\n      Object.keys(this.props).forEach(key => {\n        if (this.hostComponentInst[key] instanceof EventEmitter) {\n          this.outputs[key] = this.props[key];\n        } else {\n          this.inputs[key] = this.props[key];\n        }\n      });\n\n      if (Object.keys(this.inputs).length === 0) {\n        this.inputs = undefined;\n      }\n      if (Object.keys(this.outputs).length === 0) {\n        this.outputs = undefined;\n      }\n    }\n  }\n\n  private resolveAttrs() {\n    if (this.hostComponentInst instanceof WrapperComponent) {\n      this.attrs = CommonsUtils.get(this.attrs, '$ext', {});\n    } else {\n      this.attrs = CommonsUtils.omit(this.attrs, '$ext');\n    }\n  }\n\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges, TemplateRef} from '@angular/core';\nimport {ContentType, Context, ContextedContent, DynaComponent, DynaContent} from '@er/types';\nimport {CommonsUtils} from '@er/utils';\nimport {dynamicDirectiveDef} from 'ng-dynamic-component';\nimport {Observable} from 'rxjs';\nimport {BehaviorSubject} from 'rxjs/internal/BehaviorSubject';\nimport {BaseComponent} from '../../bases/component';\nimport {PropsBindDirective} from '../../directives/props-bind/directive';\n\n@Component({\n  selector: 'er-dyna-content',\n  template: `\n    <ng-container [ngSwitch]=\"contentType\">\n      <div *ngSwitchCase=\"CONTENT_TYPE.STRING\" [ngClass]=\"styleClass\" [ngStyle]=\"style\" [innerHTML]=\"parsedContent|erSafeHtml\"></div>\n      <div *ngSwitchCase=\"CONTENT_TYPE.DATA\" class=\"d-flex\" [ngClass]=\"styleClass\" [ngStyle]=\"style\">\n        <div *ngFor=\"let item of parsedContent\" class=\"d-flex justify-content-center m-3\">\n          <span class=\"mr-2 font-weight-bold\">{{item.key}}</span>\n          <span [innerHTML]=\"item.value|erSafeHtml\"></span>\n        </div>\n      </div>\n      <span *ngSwitchCase=\"CONTENT_TYPE.TEMPLATE_STR\" [innerHTML]=\"parsedContent\" [ngClass]=\"styleClass\"\n            [ngStyle]=\"style\"></span>\n      <ng-container *ngSwitchCase=\"CONTENT_TYPE.FUNCTION\">\n        <ng-container *ngIf=\"parsedContent$|async as asyncContent\">\n          <span [innerHTML]=\"asyncContent\" [ngClass]=\"styleClass\" [ngStyle]=\"style\"></span>\n        </ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"CONTENT_TYPE.TEMPLATE\">\n        <ng-container *ngTemplateOutlet=\"parsedContent;context:parsedContext\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"CONTENT_TYPE.COMPONENT\">\n        <ndc-dynamic [ndcDynamicComponent]=\"dynaComponent.type\"\n                     [ndcDynamicDirectives]=\"dynaComponent.directives\"\n                     [ndcDynamicAttributes]=\"dynaComponent.attrs\"\n        >\n        </ndc-dynamic>\n      </ng-container>\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DynaContentComponent extends BaseComponent implements OnInit, OnChanges {\n\n  CONTENT_TYPE = ContentType;\n\n  @Input() content: DynaContent;\n\n  @Input() context: Context;\n\n  @Input() styleClass: any;\n\n  @Input() style: any;\n\n  parsedContent: any;\n\n  parsedContent$: BehaviorSubject<string> = new BehaviorSubject<string>(undefined);\n\n  contentType: ContentType;\n\n  parsedContext: Context;\n\n  parsedContextFn: (context) => string | Observable<string>;\n\n  dynaComponent: DynaComponent;\n\n  constructor(public cd: ChangeDetectorRef) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.parse();\n  }\n\n  refresh() {\n    this.parse();\n    this.cd.markForCheck();\n  }\n\n  private parse() {\n    if (CommonsUtils.isJson(this.content)) {\n      if (this.content['content']) {\n        if (this.content['styleClass']) {\n          this.styleClass = this.content['styleClass'];\n        }\n        if (this.content['style']) {\n          this.style = this.content['style'];\n        }\n        this.content = this.content['content'];\n      }\n      if (this.content['data']) {\n        this.contentType = ContentType.DATA;\n        this.parsedContent = [];\n        Object.keys(this.content['data']).forEach(key => {\n          this.parsedContent.push({\n              key,\n            value: CommonsUtils.getText(this.content['data'][key])\n            }\n          );\n        });\n        return;\n      } else if (this.content['type']) {\n        this.contentType = ContentType.COMPONENT;\n        this.dynaComponent = <DynaComponent>this.content;\n        let directives = this.dynaComponent.directives;\n        const dynaDirectives = [];\n        if (directives) {\n          directives = CommonsUtils.getArrayValue(directives);\n          directives.filter(direct => !!direct.type).forEach(direct => {\n            dynaDirectives.push(dynamicDirectiveDef(direct.type, direct.inputs, direct.outputs));\n          });\n        }\n        if (this.dynaComponent.props || this.context) {\n          dynaDirectives.push(dynamicDirectiveDef(PropsBindDirective, Object.assign({}, this.dynaComponent.props || {}, this.context || {})));\n        }\n        this.dynaComponent.directives = dynaDirectives;\n        return;\n      } else {\n        this.parsedContent = (<ContextedContent>this.content).content;\n        this.parsedContext = {\n          ...(<ContextedContent>this.content).context || {},\n          ...this.context || {}\n        };\n      }\n    } else {\n      this.parsedContent = this.content;\n      this.parsedContext = this.context;\n    }\n    if (CommonsUtils.isString(this.parsedContent)) {\n      if (CommonsUtils.isTemplateStr(this.parsedContent)) {\n        this.parsedContent = CommonsUtils.templateStr(this.parsedContent, this.context) || '<span></span>';\n        this.contentType = ContentType.TEMPLATE_STR;\n      } else {\n        this.contentType = ContentType.STRING;\n      }\n    } else if (this.parsedContent instanceof TemplateRef) {\n      this.contentType = ContentType.TEMPLATE;\n    } else if (CommonsUtils.isFunction(this.parsedContent)) {\n      this.parsedContextFn = this.parsedContent;\n      const rtn: string | Observable<string> = this.parsedContextFn(this.parsedContext);\n      if (rtn instanceof Observable) {\n        (<Observable<string>>rtn).subscribe(result => this.parsedContent$.next(CommonsUtils.toString(result)));\n      } else {\n        this.parsedContent$.next(rtn);\n      }\n      this.contentType = ContentType.FUNCTION;\n    }\n  }\n}\n\n","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {BaseComponent} from '../../bases/component';\nimport {HTTP_STATE$, HTTP_TAG_STATE$} from '../../states/all';\n\n\n@Component({\n  selector: 'er-http-status',\n  template: `    \n      <ng-container *ngIf=\"httpState$|async\">\n        <ng-container *ngTemplateOutlet=\"template('_',default)\"></ng-container>\n        <ng-template #default>\n          <div [ngClass]=\"loadingClass\"></div>\n        </ng-template>\n      </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class HttpStatusComponent extends BaseComponent {\n\n  @Input() tag;\n\n  @Input() loadingClass = 'loading-circle';\n\n  get httpState$() {\n    let subject;\n    if (!this.tag) {\n      subject = HTTP_STATE$;\n    } else {\n      subject = HTTP_TAG_STATE$(this.tag);\n    }\n    return subject;\n  }\n\n}\n","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'er-container',\n  template: `\n    <div [ngClass]=\"styleClass\">\n       <ng-content></ng-content>\n     </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ContainerComponent {\n  @Input() styleClass = 'container';\n}\n","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'er-fluid-container',\n  template: `\n    <div [ngClass]=\"styleClass\">\n       <ng-content></ng-content>\n     </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FluidContainerComponent {\n  @Input() styleClass = 'container-fluid';\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {BaseComponent} from '../../../bases/component';\n\n@Component({\n  selector: 'er-left-right',\n  template: `\n    <div class=\"d-flex\">\n      <div *ngIf=\"!hideLeft\" class=\"w-25 shadow-lg\">\n        <ng-container *ngTemplateOutlet=\"template(templateNames.left)\"></ng-container>\n      </div>\n      <div class=\"flex-grow-1\">\n        <div *ngIf=\"switchable\">\n          <i class=\"fa fa-2x  text-primary\" [title]=\"hideLeft?'å±å¼å·¦ä¾§åå®¹':'æ¶èµ·å·¦ä¾§åå®¹'\"\n             [ngClass]=\"hideLeft?'fa-arrow-circle-right':'fa-arrow-circle-left'\"\n             (click)=\"reLayout(!hideLeft)\"></i>\n        </div>\n        <ng-container *ngTemplateOutlet=\"template(templateNames.right)\"></ng-container>\n      </div>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class LeftRightContainerComponent extends BaseComponent {\n  @Input() leftStyleClass = 'col-3';\n  @Input() rightStyleClass = 'col-9';\n\n  @Input() hideLeft: boolean;\n\n  @Input() switchable = true;\n\n  @Output() onLeftHide: EventEmitter<boolean> = new EventEmitter();\n\n  templateNames = {\n    left: 'left',\n    right: 'right'\n  };\n\n  reLayout(event) {\n    this.hideLeft = event;\n    this.onLeftHide.emit(event);\n  }\n}\n","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {BaseComponent} from '../../../bases/component';\n\nexport enum MobileType {\n  iphoneX = 'iphone-x',\n  iphone8 = 'iphone8',\n  iphone8plus = 'iphone8plus',\n  iphone5s = 'iphone5s',\n  nexus5 = 'nexus5',\n  ipad = 'ipad',\n  note8 = 'note8',\n  macbook = 'macbook'\n}\n\n@Component({\n  selector: 'er-phone-preview',\n  templateUrl: 'tpl.html',\n  styleUrls: ['styles.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PhonePreviewComponent extends BaseComponent {\n  MOBILE_TYPE = MobileType;\n  @Input() mobile: MobileType = MobileType.iphone8;\n  @Input() color: 'black' | 'gold' | 'silver';\n  @Input() isLandscape = false;\n  @Input() scale = 1;\n\n  zoomIn() {\n    if (this.scale > 0.25) {\n      this.scale = (this.scale - 0.25);\n    }\n  }\n\n  zoomOut() {\n    if (this.scale < 2) {\n      this.scale = (this.scale + 0.25);\n    }\n  }\n}\n\n","import {QueryBuilderProps, QueryBuilderStyleClasses, QueryRuleSet} from '@er/types';\n\n\nexport const DEFAULT_QUERY_BUILDER_STYLE_CLASSES: QueryBuilderStyleClasses = {\n  removeIcon: 'q-icon q-remove-icon',\n  addIcon: 'q-icon q-add-icon',\n  button: 'q-button',\n  buttonGroup: 'q-button-group',\n  removeButton: 'q-remove-button',\n  switchGroup: 'q-switch-group',\n  switchLabel: 'q-switch-label',\n  switchRadio: 'q-switch-radio',\n  rightAlign: 'q-right-align',\n  transition: 'q-transition',\n  tree: 'q-tree',\n  row: 'q-row',\n  connector: 'q-connector',\n  rule: 'q-rule',\n  ruleSet: 'q-ruleset',\n  invalidRuleSet: 'q-invalid-ruleset',\n  emptyWarning: 'q-empty-warning',\n  fieldControl: 'q-field-control',\n  fieldControlSize: 'q-control-size',\n  entityControl: 'q-entity-control',\n  entityControlSize: 'q-control-size',\n  operatorControl: 'q-operator-control',\n  operatorControlSize: 'q-control-size',\n  inputControl: 'q-input-control',\n  inputControlSize: 'q-control-size'\n};\n\nexport const DEFAULT_QUERY_BUILDER_BOOTSTRAP_STYLES_CLASS: QueryBuilderStyleClasses = {\n  removeIcon: 'fa fa-minus',\n  addIcon: 'fa fa-plus',\n  button: 'btn',\n  buttonGroup: 'btn-group',\n  rightAlign: 'order-12 ml-auto',\n  switchRow: 'd-flex px-2',\n  switchGroup: 'd-flex align-items-center',\n  switchRadio: 'custom-control-input',\n  switchLabel: 'custom-control-label',\n  switchControl: 'custom-control custom-radio custom-control-inline',\n  row: 'row p-2 m-1',\n  connector: 'q-connector',\n  rule: 'border',\n  ruleSet: 'border',\n  invalidRuleSet: 'alert alert-danger',\n  emptyWarning: 'text-danger mx-auto',\n  operatorControl: 'form-control',\n  operatorControlSize: 'col-auto pr-0',\n  fieldControl: 'form-control',\n  fieldControlSize: 'col-auto pr-0',\n  entityControl: 'form-control',\n  entityControlSize: 'col-auto pr-0',\n  inputControl: 'form-control',\n  inputControlSize: 'col-auto'\n};\n\n// export const DEFAULT_QUERY_BUILDER_TYPE_OPERATORS = {\n//   string: ['=', '!=', 'contains', 'like'],\n//   number: ['=', '!=', '>', '>=', '<', '<='],\n//   time: ['=', '!=', '>', '>=', '<', '<='],\n//   date: ['=', '!=', '>', '>=', '<', '<='],\n//   category: ['=', '!=', 'in', 'not in'],\n//   boolean: ['=']\n// };\n\nexport const EMPTY_QUERY_RULE_SET: QueryRuleSet = {condition: 'AND', rules: []};\n\nexport const DEFAULT_QUERY_BUILDER_PROPS: QueryBuilderProps = {\n  fields: [],\n  styleClasses: DEFAULT_QUERY_BUILDER_BOOTSTRAP_STYLES_CLASS,\n  allowRuleSet: true\n};\n\n\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, forwardRef, Input} from '@angular/core';\nimport {AbstractControl, NG_VALIDATORS, NG_VALUE_ACCESSOR, ValidationErrors, Validator} from '@angular/forms';\nimport {DataEntity, DataField, DataItem, QueryBuilderProps, QueryRule, QueryRuleSet, THEME_COLORS} from '@er/types';\nimport {CommonsUtils} from '@er/utils';\nimport {ControlComponent} from '../../bases/control';\nimport {LogUtils} from '../../utils/log';\nimport {DEFAULT_QUERY_BUILDER_PROPS, EMPTY_QUERY_RULE_SET} from './defaults';\n\n\nconst CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => QueryBuilderComponent),\n  multi: true\n};\n\nconst VALIDATOR: any = {\n  provide: NG_VALIDATORS,\n  useExisting: forwardRef(() => QueryBuilderComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'er-query-builder',\n  templateUrl: 'tpl.html',\n  styleUrls: ['styles.scss'],\n  providers: [CONTROL_VALUE_ACCESSOR, VALIDATOR],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class QueryBuilderComponent extends ControlComponent implements Validator {\n\n  @Input() ruleSet: QueryRuleSet = {condition: 'AND', rules: []};\n  @Input() index: number;\n  @Input() parentRuleSet: QueryRuleSet;\n\n  defaultValue = EMPTY_QUERY_RULE_SET;\n\n  templateNames = {\n    buttonGroup: 'buttonGroup',\n    switchGroup: 'switchGroup',\n    removeButton: 'removeButton',\n    entity: 'entity',\n    field: 'field',\n    operator: 'operator',\n    input: 'input',\n    empty: 'empty'\n  };\n\n  constructor(private changeDetectorRef: ChangeDetectorRef) {\n    super();\n  }\n\n  private _config: QueryBuilderProps = {};\n\n  @Input()\n  get config() {\n    return this._config;\n  }\n\n  set config(config) {\n    CommonsUtils.defaults(this._config, config, DEFAULT_QUERY_BUILDER_PROPS);\n    LogUtils.debug(this, 'æ¥è¯¢æé å¨éç½®', this._config);\n  }\n\n  @Input()\n  get value(): QueryRuleSet {\n    return this.ruleSet;\n  }\n\n  set value(value: QueryRuleSet) {\n    this.ruleSet = value || {condition: 'AND', rules: []};\n  }\n\n  validate(control: AbstractControl): ValidationErrors | null {\n    const errors: { [key: string]: any } = {};\n    const ruleErrorStore = [];\n    let hasErrors = false;\n\n    if (!this.config.allowEmptyRuleSet && this.checkEmptyRuleInRuleSet(this.value)) {\n      errors.empty = 'æ¥è¯¢å®ä¹ä¸è½ä¸ºç©º.';\n      hasErrors = true;\n    }\n\n    this.validateRulesInRuleSet(this.value, ruleErrorStore);\n\n    if (ruleErrorStore.length) {\n      errors.rules = ruleErrorStore;\n      hasErrors = true;\n    }\n    return hasErrors ? errors : null;\n  }\n\n  ruleSetStyle(index = 0) {\n    const bgColor = Object.keys(THEME_COLORS).filter((color, i) => i === index);\n    if (bgColor.length === 0) {\n      bgColor[0] = 'blue';\n    }\n    return {\n      'border-left-width': '5px',\n      'border-left-style': 'solid',\n      'border-left-color': THEME_COLORS[bgColor[0]]\n    };\n  }\n\n  getOperators(field: DataField): DataItem[] {\n    if (CommonsUtils.isFunction(this.config.operators)) {\n      return (<Function>this.config.operators)(field);\n    } else {\n      const operators = [];\n      Object.keys(this.config.operators).forEach(key => {\n        if (key === field.key) {\n          operators.push(this.config.operators[key]);\n        }\n      });\n      return operators;\n    }\n  }\n\n  getFields(entityKey?: string): DataField[] {\n    if (this.config.entities && entityKey) {\n      return this.config.fields.filter((field) => {\n        return field && field['entityKey'] === entityKey;\n      });\n    } else {\n      return this.config.fields;\n    }\n  }\n\n  getField(rule: QueryRule): DataField {\n    const fields = this.getFields(rule.entity);\n    if (fields) {\n      const matched = fields.filter(field => field.key === rule.field);\n      if (matched && matched.length > 0) {\n        return matched[0];\n      }\n    }\n    return undefined;\n  }\n\n  getClassNames(...args): string {\n    const styleClasses = this.config.styleClasses;\n    const classNames = args.map((id) => styleClasses[id]).filter((c) => !!c);\n    return classNames.length ? classNames.join(' ') : null;\n  }\n\n  isInValidRule(rule) {\n    return this.config.allowRuleSet && rule.rules && rule.rules.length === 0;\n  }\n\n  getRuleClassName(rule): string {\n    let cls = this.getClassNames('row', 'connector', 'transition');\n    cls += ' ' + this.getClassNames(rule['condition'] ? 'ruleSet' : 'rule');\n    // if (ruleMeta.invalid) {\n    // cls += ' ' + this.getClassNames('invalidRuleSet');\n    // }\n    return cls;\n  }\n\n  getDefaultDataField(entity: DataEntity): DataField {\n    if (!entity) {\n      return null;\n    } else if (entity.defaultField !== undefined) {\n      return this.getDefaultValue(entity.defaultField);\n    } else {\n      const entityDataFields = this.config.fields.filter((field) => {\n        return field && field['entityKey'] === entity.key;\n      });\n      if (entityDataFields && entityDataFields.length) {\n        return entityDataFields[0];\n      }\n    }\n  }\n\n  getDefaultOperator(field: DataField): string {\n    if (field && field['defaultOperator'] !== undefined) {\n      return this.getDefaultValue(field['defaultOperator']);\n    } else {\n      const operators = this.getOperators(field);\n      if (operators && operators.length) {\n        //  return operators[0];\n      }\n    }\n  }\n\n  addRule(): void {\n    const parent = this.ruleSet;\n    if (this.config.addRule) {\n      this.config.addRule(parent);\n    } else {\n      const field = this.config.fields[0];\n      parent.rules = [\n        ...parent.rules,\n        {\n          field: field.key,\n          entity: field['entityKey'],\n          operator: this.getDefaultOperator(field),\n          value: this.getDefaultValue(field.defaultValue)\n        }\n      ];\n    }\n  }\n\n  addRuleSet(): void {\n    const parent = this.ruleSet;\n    if (this.config.addRuleSet) {\n      this.config.addRuleSet(parent);\n    } else {\n      parent.rules = [\n        ...parent.rules,\n        {condition: 'AND', rules: []}\n      ];\n    }\n  }\n\n  removeRule(rule: QueryRule): void {\n    const parent = this.ruleSet;\n    if (this.config.removeRule) {\n      this.config.removeRule(rule, parent);\n    } else {\n      parent.rules = parent.rules.filter((r) => r !== rule);\n    }\n  }\n\n  removeRuleSet(ruleSet?: QueryRuleSet): void {\n    ruleSet = ruleSet || this.ruleSet;\n    const parent = this.parentRuleSet;\n    if (this.config.removeRuleSet) {\n      this.config.removeRuleSet(ruleSet, parent);\n    } else {\n      parent.rules = parent.rules.filter((r) => r !== ruleSet);\n    }\n  }\n\n  changeCondition(value): void {\n    this.ruleSet.condition = value;\n  }\n\n  changeField(key: string, rule: QueryRule): void {\n\n    const field: DataField = this.config.fields[key];\n\n    if (field && field.defaultValue !== undefined) {\n      rule.value = this.getDefaultValue(field.defaultValue);\n    } else {\n      delete rule.value;\n    }\n\n    rule.operator = this.getDefaultOperator(field);\n  }\n\n  changeEntity(entityValue: string, rule: QueryRule): void {\n    if (this.disabled) {\n      return;\n    }\n\n    // const currentEntity: DataEntity = this.config.entities.find((e) => e.value === entityValue);\n    // const defaultDataField: DataField = this.getDefaultDataField(currentEntity);\n\n    // if (defaultDataField) {\n    //   this.changeDataField(defaultDataField.key, rule);\n    // }\n  }\n\n  getDefaultValue(defaultValue: any): any {\n    switch (typeof defaultValue) {\n      case 'function':\n        return defaultValue();\n      default:\n        return defaultValue;\n    }\n  }\n\n  context(context?: {}) {\n    return {\n      qb: <QueryBuilderComponent>this,\n      ...context\n    };\n  }\n\n  private checkEmptyRuleInRuleSet(ruleSet: QueryRuleSet): boolean {\n    if (!ruleSet || !ruleSet.rules || ruleSet.rules.length === 0) {\n      return true;\n    } else {\n      return ruleSet.rules.some((item: QueryRuleSet) => {\n        if (item.rules) {\n          return this.checkEmptyRuleInRuleSet(item);\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n\n  private validateRulesInRuleSet(ruleSet: QueryRuleSet, errorStore: any[]) {\n    if (ruleSet && ruleSet.rules && ruleSet.rules.length > 0) {\n      ruleSet.rules.forEach((item) => {\n        if ((item as QueryRuleSet).rules) {\n          return this.validateRulesInRuleSet(item as QueryRuleSet, errorStore);\n        } else if ((item as QueryRule).field) {\n          const field = this.config.fields[(item as QueryRule).field];\n          if (field && field['validator'] && field['validator'].apply) {\n            const error = field['validator'](item as QueryRule, ruleSet);\n            if (error != null) {\n              errorStore.push(error);\n            }\n          }\n        }\n      });\n    }\n  }\n\n}\n","import {ChangeDetectionStrategy, Component, EventEmitter, Input, Output} from '@angular/core';\nimport {QueryRule} from '@er/types';\nimport {BaseComponent} from '../../../bases/component';\nimport {QueryBuilderComponent} from '../component';\n\n\n@Component({\n  selector: 'er-query-builder-rule',\n  templateUrl: 'tpl.html',\n  styleUrls: ['styles.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class QueryBuilderRuleComponent extends BaseComponent {\n\n  @Input() ruleIndex: number;\n\n  @Output() ruleChange = new EventEmitter();\n\n  constructor(public qb: QueryBuilderComponent) {\n    super();\n  }\n\n  private _rule: QueryRule;\n\n  @Input()\n  get rule(): QueryRule {\n    return this._rule;\n  }\n\n  set rule(rule) {\n    this._rule = rule;\n    this.ruleChange.emit(this._rule);\n  }\n}\n","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, ComponentRef, OnInit} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\nimport {BaseComponent} from '../../bases/component';\nimport {ComponentUtils} from '../../utils/component';\nimport {LogUtils} from '../../utils/log';\nimport {RouteUtils} from '../../utils/nav';\n\n\n/**\n * ä¸è½å¤æ¬¡åå»ºç»ä»¶ï¼ä¸è½ç¨\n */\n@Component({\n  selector: 'er-route-bind',\n  template: `\n    <ndc-dynamic [ndcDynamicComponent]=\"type\"\n                 [ndcDynamicInputs]=\"inputs\"\n                 [ndcDynamicOutputs]=\"outputs\"\n                 (ndcDynamicCreated)=\"created($event)\"\n    >\n    </ndc-dynamic>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RouteDataPropsBindComponent extends BaseComponent implements OnInit {\n\n  props: {};\n\n  type: any;\n\n  inputs: {};\n\n  outputs: {};\n\n  hooks: {};\n\n  constructor(private cd: ChangeDetectorRef) {\n    super();\n  }\n\n  ngOnInit() {\n    this.$subscriptions = RouteUtils.getActiveRoute().data.subscribe(data => {\n      if (!data['$component']) {\n        LogUtils.error(this, 'æ²¡æå®ä¹ç»ä»¶ç±»å', data);\n        return;\n      }\n      let activeRoute = RouteUtils.getActiveRoute();\n      const params = {\n        ...activeRoute.snapshot.params || {},\n        ...activeRoute.snapshot.queryParams || {}\n      };\n      while (activeRoute && !activeRoute.snapshot.data['$props']) {\n        activeRoute = activeRoute.parent;\n      }\n      const routeData = {\n        ...activeRoute.snapshot.data,\n        ...data\n      };\n      LogUtils.debug(this, 'è·¯ç±æ°æ®', routeData);\n      let props = routeData['$resolvedProps'] || routeData['$props'];\n      if (routeData['$propsKey']) {\n        props = CommonsUtils.get(props, routeData['$propsKey']);\n      }\n      const component = routeData['$component'];\n      Object.keys(data).forEach(key => {\n        if (CommonsUtils.isFunction(data[key])) {\n          data[key] = (<Function>data[key])(props, params, data);\n        } else if (CommonsUtils.isString(data[key]) && data[key].startsWith(':')) {\n          const param = (<string>data[key]).substring(1);\n          if (param === 'USER_ID') {\n          } else if (params[param]) {\n            props[key] = params[param];\n          }\n        } else if (key !== '$component' && key !== '$propsKey') {\n          props[key] = data[key];\n        }\n      });\n\n      this.type = component;\n\n      this.props = props;\n\n      this.inputs = props['inputs'] || props || {};\n\n      this.outputs = props['outputs'] || {};\n\n      if (props['hooks']) {\n        this.hooks = props['hooks'];\n        delete props['hooks'];\n      }\n\n      if (!props['inputs'] && !props['outputs']) {\n        props['$props'] = CommonsUtils.copy(props);\n      }\n\n      this.cd.detectChanges();\n    });\n  }\n\n  created(componentRef: ComponentRef<any>) {\n    if (!CommonsUtils.isEmpty(this.hooks)) {\n      const constructor = ComponentUtils.getConstructor(componentRef);\n      const destructor = constructor.prototype['ngOnDestroy'];\n      ComponentUtils.bindLifeCycles(componentRef.instance, this.hooks, constructor, destructor);\n    }\n  }\n}\n","import {Component, Input} from '@angular/core';\nimport {ConfigUtils} from '@er/utils';\n\n@Component({\n  selector: 'wechat-qrcode',\n  template: `\n    <iframe [src]=\"qrCodeUrl|erSafeHtml:'resource'\" [width]=\"width\" [height]=\"height\" scrolling=\"no\" [attr.frameborder]=\"0\"></iframe>\n  `,\n  styles: []\n})\nexport class WechatQrCodeComponent {\n\n  @Input() height = 300;\n\n  @Input() width = 300;\n\n  private baseUrl = 'https://open.weixin.qq.com/connect/qrconnect';\n\n  get qrCodeUrl() {\n    const wechat = ConfigUtils.getConfig().wechat;\n    const redirect = encodeURIComponent(wechat.redirect_uri);\n    let url = `${this.baseUrl}?appid=${wechat.appid}&redirect_uri=${redirect}&scope=${wechat.scope}&response_type=code`;\n    url += wechat.style ? '&style=' + wechat.style : '';\n    url += wechat.self_redirect ? '&self_redirect=' + wechat.self_redirect : '';\n    url += wechat.href ? '&href=' + wechat.href : '';\n    return url;\n  }\n}\n\n// 'https://open.weixin.qq.com/connect/qrconnect?appid=wxbdc5610cc59c1631&redirect_uri=https%3A%2F%2Fpassport.yhd.com%2Fw2echat%2Fcallback.do&response_type=code&scope=snsapi_login';\n\n// 'https://open.weixin.qq.com/connect/qrconnect?appid=wxcfb1ab30687c02ae&redirect_uri=http%3A%2F%2Fwww.hbsrcfwj.cn%2Findex&response_type=code&scope=snsapi_login';\n\n// https://open.weixin.qq.com/connect/qrconnect?appid=wxcfb1ab30687c02ae&redirect_uri=http%3A%2F%2Fwww.hbsrcfwj.cn%2Findex&scope=snsapi_login&response_type=code&style=black&self_redirect=true\n","import {AnimateNumberComponent} from './animate-number/component';\nimport {BreadcrumbsComponent} from './breadcrumb/component';\nimport {StateButtonComponent} from './button/component';\nimport {StateButtonsComponent} from './buttons/component';\nimport {DataItemComponent} from './data-item/component';\nimport {DynaCompComponent} from './dyna-component/component';\nimport {DynaContentComponent} from './dyna-content/component';\nimport {HttpStatusComponent} from './http-status/component';\nimport {ContainerComponent} from './layout/container/component';\nimport {FluidContainerComponent} from './layout/fluid/component';\nimport {LeftRightContainerComponent} from './layout/left-right/component';\nimport {PhonePreviewComponent} from './layout/phone-preview/component';\nimport {QueryBuilderComponent} from './query-builder/component';\nimport {QueryBuilderRuleComponent} from './query-builder/rule/component';\nimport {RouteDataPropsBindComponent} from './route-bind/component';\nimport {WechatQrCodeComponent} from './we-chat/component';\n\nexport * from './breadcrumb/component';\nexport * from './button/component';\nexport * from './buttons/component';\nexport * from './dyna-content/component';\nexport * from './layout/container/component';\nexport * from './data-item/component';\nexport * from './http-status/component';\nexport * from './layout/fluid/component';\nexport * from './layout/left-right/component';\nexport * from './layout/phone-preview/component';\nexport * from './route-bind/component';\nexport * from './query-builder/component';\nexport * from './query-builder/rule/component';\nexport * from './animate-number/component';\nexport * from './dyna-component/component';\n\nexport const CoreComponents = [\n  BreadcrumbsComponent,\n  DataItemComponent,\n  HttpStatusComponent,\n  DynaContentComponent,\n  StateButtonComponent,\n  StateButtonsComponent,\n  ContainerComponent,\n  FluidContainerComponent,\n  LeftRightContainerComponent,\n  PhonePreviewComponent,\n  RouteDataPropsBindComponent,\n  QueryBuilderComponent,\n  QueryBuilderRuleComponent,\n  AnimateNumberComponent,\n  WechatQrCodeComponent,\n  DynaCompComponent\n];\n","import {NgIf} from '@angular/common';\nimport {Directive, EmbeddedViewRef, EventEmitter, Input, OnDestroy, Output, TemplateRef, ViewContainerRef} from '@angular/core';\nimport {Subject} from 'rxjs/index';\nimport {Observable} from 'rxjs/internal/Observable';\nimport {takeUntil} from 'rxjs/operators';\n\nfunction animationEndSafe(el: Element, maxWait: number): Observable<{}> {\n  return Observable.create((observer) => {\n    el.addEventListener('animationend', observer);\n    setTimeout(observer, maxWait);\n  });\n  // return new Promise((resolve, reject) => {\n  //   el.addEventListener('animationend', resolve);\n  //   setTimeout(resolve, maxWait);\n  // });\n}\n\n@Directive({\n  selector: '[erAnimatedIf]'\n})\nexport class AnimatedIfDirective extends NgIf implements OnDestroy {\n\n  @Output() animatedIfOnShow = new EventEmitter<any>(false);\n  @Output() animatedIfOnHide = new EventEmitter<any>(false);\n\n  private visible = false;\n  protected destroyed$: Subject<void> = new Subject<void>();\n\n  constructor(private viewContainer: ViewContainerRef, _templateRef: TemplateRef<any>) {\n    super(viewContainer, _templateRef);\n  }\n\n  @Input()\n  set erAnimatedIf(val: boolean) {\n    if (this.visible && !val) {\n      this.hide();\n    } else if (!this.visible && val) {\n      this.show();\n    }\n    this.visible = val;\n  }\n\n  private getContainer(): HTMLElement | null {\n    if (this.viewContainer.length > 0) {\n      return (this.viewContainer.get(0) as EmbeddedViewRef<any>).rootNodes[0];\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Hides the element. Animation is performed through css on the container.\n   * This method will set the class to hiding and preserve the element for the animation duration.\n   */\n  private hide() {\n    const container = this.getContainer();\n    if (!!container) {\n      container.classList.remove('showing');\n      container.classList.add('hiding');\n      animationEndSafe(container, 1000)\n        .pipe(\n          takeUntil(this.destroyed$)\n        )\n        .subscribe(() => {\n        this.ngIf = this.visible;\n        container.classList.remove('hiding');\n      });\n      this.animatedIfOnHide.emit();\n    }\n  }\n\n  /**\n   * Shows the element. Animation is performed through css on the container\n   */\n  private show() {\n    this.ngIf = true;\n    const container = this.getContainer();\n    if (!!container) {\n      container.classList.remove('hiding');\n      container.classList.add('showing');\n      animationEndSafe(container, 1000)\n        .pipe(\n          takeUntil(this.destroyed$)\n        )\n        .subscribe(() => {\n        container.classList.remove('showing');\n      });\n      this.animatedIfOnShow.emit();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n}\n\n/**\n *  <p>Toggle element with animation <input type=checkbox [(ngModel)]=\"isVisible\"><p>\n <p>\n <span class=\"fancyBox\" *appAnimatedIf=\"isVisible\">Click the checkbox above to toggle me!</span>\n </p>\n **/\n","import {Directive, ElementRef, Input, OnInit} from '@angular/core';\nimport {CommonsUtils, DomUtils} from '@er/utils';\n\n@Directive({\n  selector: '[erAnimate]'\n})\nexport class AnimateDirective implements OnInit {\n\n  @Input('erAnimate') animation: string;\n\n  private _animations = [\n    'fadeIn',\n    'fadeInLeft',\n    'fadeInRight',\n    'fadeInUp',\n    'fadeInDown',\n    'zoomIn',\n    'zoomInLeft',\n    'zoomInRight',\n    'zoomInUp',\n    'slideInDown',\n    'slideInLeft',\n    'slideInRight',\n    'slideInUp'\n  ];\n\n  constructor(private el: ElementRef) {\n  }\n\n  ngOnInit() {\n    let classes = 'animated ';\n    if (this.animation) {\n      classes += this.animation;\n    } else {\n      classes += this._animations[CommonsUtils.getRandomNumber(this._animations.length - 1)];\n    }\n    DomUtils.addClasses(this.el.nativeElement, classes);\n  }\n}\n","import {ComponentRef, Directive, ElementRef, Input, OnInit, Renderer2, ViewContainerRef} from '@angular/core';\nimport {Context} from '@er/types';\nimport {CommonsUtils} from '@er/utils';\nimport {BaseDirective} from '../../bases/directive';\nimport {DynaComponentUtils} from '../../utils/dyna';\n\n@Directive({\n  selector: '[erDynaTemplate]',\n})\nexport class DynaTemplateDirective extends BaseDirective implements OnInit {\n\n  @Input('erDynaTemplate') template: string;\n  @Input() context: Context;\n\n  private componentRef: ComponentRef<{}>;\n\n  constructor(private viewContainerRef: ViewContainerRef,\n              private el: ElementRef,\n              private renderer: Renderer2) {\n    super();\n  }\n\n  ngOnInit() {\n    if (CommonsUtils.isEmptyString(this.template)) { this.template = this.el.nativeElement.innerHTML; }\n    if (CommonsUtils.isEmptyString(this.template)) { return; }\n    this.template = this.template.replace(/\\[\\[/g, '{{');\n    this.template = this.template.replace(/]]/g, '}}');\n    this.componentRef = DynaComponentUtils.createComponentByTemplate(\n      this.viewContainerRef,\n      this.template,\n    );\n    const parent = this.el.nativeElement.parentNode;\n    this.renderer.removeChild(parent, this.el.nativeElement);\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    if (this.componentRef) {\n      this.componentRef.destroy();\n      this.componentRef = null;\n    }\n  }\n}\n","import {Directive, ElementRef, HostListener, Input} from '@angular/core';\nimport {BaseDirective} from '../../bases/directive';\n\n@Directive({selector: '[erFocusHighlight]'})\nexport class FocusHighlightDirective extends BaseDirective {\n\n  @Input() bgColor: string;\n\n  defaultBgColor = 'yellow';\n\n  constructor(private el: ElementRef) {\n    super();\n  }\n\n  @HostListener('mouseenter')\n  onMouseEnter() {\n    this.highlight(this.bgColor || this.defaultBgColor);\n  }\n\n  @HostListener('mouseleave')\n  onMouseLeave() {\n    this.highlight(null);\n  }\n\n  private highlight(color: string) {\n    this.el.nativeElement.style.backgroundColor = color;\n  }\n}\n","import {AfterViewChecked, AfterViewInit, Directive, ElementRef, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {BaseDirective} from '../../bases/directive';\n\n@Directive({\n  selector: '[erHighlight]'\n})\nexport class HighlightDirective extends BaseDirective implements OnChanges, AfterViewInit, AfterViewChecked {\n\n  @Input('erHighlight') searchTerm = undefined;\n  @Input() caseSensitive = true;\n\n  private viewRendered = false;\n  private WRAPPER_TOKEN = '==--==##';\n\n  constructor(private el: ElementRef) {\n    super();\n  }\n\n  private get caseSensitivity(): string {\n    return this.caseSensitive ? '' : 'i';\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.highlightSearchTerm();\n  }\n\n  ngAfterViewInit(): void {\n    this.highlightSearchTerm();\n  }\n\n  ngAfterViewChecked(): void {\n    this.viewRendered = true;\n  }\n\n  highlightSearchTerm() {\n    if (!this.searchTerm) {\n      if (this.viewRendered) {\n        this.removePreviouslyMarkedTextInNode();\n      }\n      return;\n    }\n\n    if (this.el.nativeElement) {\n      this.removePreviouslyMarkedTextInNode();\n      this.markMatchedTextTokens(this.el.nativeElement);\n    }\n  }\n\n  private markMatchedTextTokens(htmlNode: HTMLElement) {\n    const _searchTerm = this.getSearchTerm();\n    const searchRegex = new RegExp(_searchTerm, 'gmi');\n\n    const _searchTermUniqueTokens = this.getUniqueTokenWrappedSearchTerm();\n    const searchRegexUniqueTokens = new RegExp(_searchTermUniqueTokens, 'gmi');\n    this.traverseHtmlElementsTree(htmlNode, e => {\n      this.traverseNodesInElement(htmlNode.childNodes, node => this.wrapUniqueTokensAroundMatchedText(node, searchRegex));\n    });\n\n    this.markMatchedTextAndRemoveUniqueTokens(htmlNode, searchRegexUniqueTokens);\n  }\n\n  private markMatchedTextAndRemoveUniqueTokens(htmlNode: HTMLElement, searchRegex: RegExp) {\n    if (htmlNode.innerHTML) {\n      const innerHtml = htmlNode.innerHTML;\n      const newHtml = innerHtml.replace(searchRegex, match => {\n        const wrapperLength = this.WRAPPER_TOKEN.length;\n        const markedStr = match.substr(wrapperLength, match.length - (wrapperLength * 2));\n        return `<mark>${markedStr}</mark>`;\n      });\n\n      htmlNode.innerHTML = newHtml;\n    }\n  }\n\n  private traverseNodesInElement(nodes: NodeList, visitCallback: (node: Node) => any) {\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      if (node.nodeType === 3) {\n        visitCallback(node);\n      }\n    }\n  }\n\n  private wrapUniqueTokensAroundMatchedText(htmlNode: Node, searchRegex: RegExp) {\n    const innerText = htmlNode.nodeValue;\n    const newText = innerText.replace(searchRegex, `${this.WRAPPER_TOKEN}$&${this.WRAPPER_TOKEN}`);\n    htmlNode.nodeValue = newText;\n  }\n\n  private traverseHtmlElementsTree(currentNode: HTMLElement, visitCallback: (node: HTMLElement) => any) {\n    if (currentNode) {\n      visitCallback(currentNode);\n    }\n\n    for (let i = 0; i < currentNode.children.length; i++) {\n      const childNode = currentNode.children[i];\n      this.markMatchedTextTokens(<HTMLElement>childNode);\n    }\n  }\n\n  private removePreviouslyMarkedTextInNode() {\n    const node = this.el.nativeElement;\n    const markingPattern = new RegExp('<mark>|<\\/mark>', 'g');\n    const cleanText = node.innerHTML.replace(markingPattern, '');\n    node.innerHTML = cleanText;\n  }\n\n  // private highlightedNewTextInNode() {\n  //   const node = this.el.nativeElement;\n  //   const htmlNegativeLookaheadPattern = '(?![^<>]*>)';\n  //   const searchTermPattern = this.getSearchTerm();\n  //   const searchRegex = new RegExp(searchTermPattern + htmlNegativeLookaheadPattern, 'gmi');\n  //   const markedText = node.innerHTML.replace(searchRegex, '<mark>$&</mark>');\n  //   node.innerHTML = markedText;\n  // }\n  private getSearchTerm() {\n    let escapedSearchTerm = `${this.escapeRegExp(this.searchTerm)}`;\n    const spaceToMultiMatchRegex = new RegExp(' ', 'gm');\n    escapedSearchTerm = escapedSearchTerm.replace(spaceToMultiMatchRegex, '|');\n    return escapedSearchTerm;\n  }\n\n  private getUniqueTokenWrappedSearchTerm() {\n    let escapedSearchTerm = this.escapeRegExp(this.searchTerm);\n    const spaceToMultiMatchRegex = new RegExp(' ', 'gm');\n    escapedSearchTerm = escapedSearchTerm.replace(spaceToMultiMatchRegex, `${this.WRAPPER_TOKEN}|${this.WRAPPER_TOKEN}`);\n    escapedSearchTerm = `${this.WRAPPER_TOKEN}${escapedSearchTerm}${this.WRAPPER_TOKEN}`;\n    return escapedSearchTerm;\n  }\n\n  private escapeRegExp(str) {\n    return str.replace('/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g', '\\\\$&');\n  }\n}\n","export class ObjectDiff {\n\n  private static instance: ObjectDiff = undefined;\n  private openChar = '{';\n  private closeChar = '}';\n\n  static diff(obj1, obj2): string {\n    if (!ObjectDiff.instance) {\n      ObjectDiff.instance = new ObjectDiff();\n    }\n    const diff = ObjectDiff.instance.diffOwnProperties(obj1, obj2);\n    return '<pre>' + ObjectDiff.instance.formatChangesToHtml(diff) + '</pre>';\n  }\n\n  diff(a, b, shallow, isOwn) {\n\n    if (a === b) {\n      return this.equalObj(a);\n    }\n\n    const diffValue = {};\n    let equal = true;\n\n    if (!a) {\n      a = {};\n    }\n\n    for (const key in a) {\n      if ((!isOwn && key in b) || (isOwn && b && b.hasOwnProperty(key))) {\n        if (a[key] === b[key]) {\n          diffValue[key] = this.equalObj(a[key]);\n        } else {\n          if (!shallow && this.isValidAttr(a[key], b[key])) {\n            const valueDiff = this.diff(a[key], b[key], shallow, isOwn);\n            if (valueDiff.changed === 'equal') {\n              diffValue[key] = this.equalObj(a[key]);\n            } else {\n              equal = false;\n              diffValue[key] = valueDiff;\n            }\n          } else {\n            equal = false;\n            diffValue[key] = {\n              changed: 'primitive change',\n              removed: a[key],\n              added: b[key]\n            };\n          }\n        }\n      } else {\n        equal = false;\n        diffValue[key] = {\n          changed: 'removed',\n          value: a[key]\n        };\n      }\n    }\n\n    for (const key in b) {\n      if ((!isOwn && !(key in a)) || (isOwn && typeof a !== 'undefined' && !a.hasOwnProperty(key))) {\n        equal = false;\n        diffValue[key] = {\n          changed: 'added',\n          value: b[key]\n        };\n      }\n    }\n\n    if (equal) {\n      return this.equalObj(a);\n    } else {\n      return {\n        changed: 'object change',\n        value: diffValue\n      };\n    }\n  }\n\n\n  diffOwnProperties(a, b, shallow?) {\n    return this.diff(a, b, shallow, true);\n  }\n\n  formatToJsonXMLString(changes, shallow?) {\n    const properties = [];\n\n    const diff = changes.value;\n    if (changes.changed === 'equal') {\n      return this.inspect(diff, shallow);\n    }\n\n    for (const key in diff) {\n      properties.push(this.formatChange(key, diff[key], shallow));\n    }\n\n    return '<span>' + this.openChar + '</span>\\n<div class=\"diff-level\">' + properties.join('<span>,</span>\\n') + '\\n</div><span>' + this.closeChar + '</span>';\n\n  }\n\n  formatToJson(obj, shallow) {\n    return this.inspect(obj, shallow);\n  }\n\n  formatChangesToHtml(changes, shallow?) {\n    const properties = [];\n\n    if (changes.changed === 'equal') {\n      return '';\n    }\n\n    const diff = changes.value;\n\n    for (const key in diff) {\n      const changed = diff[key].changed;\n      if (changed !== 'equal')\n        properties.push(this.formatChange(key, diff[key], shallow, true));\n    }\n\n    return '<span>' + this.openChar + '</span>\\n<div class=\"diff-level\">' + properties.join('<span>,</span>\\n') + '\\n</div><span>' + this.closeChar + '</span>';\n\n  }\n\n  equalObj(obj) {\n    return {\n      changed: 'equal',\n      value: obj\n    };\n  }\n\n  isValidAttr(a, b) {\n    const typeA = typeof a;\n    const typeB = typeof b;\n    return (a && b && (typeA === 'object' || typeA === 'function') && (typeB === 'object' || typeB === 'function'));\n  }\n\n  formatChange(key, diffItem, shallow, diffOnly?) {\n    const changed = diffItem.changed;\n    let property;\n    switch (changed) {\n      case 'equal':\n        property = (this.stringifyObjectKey(this.escapeHTML(key)) + '<span>: </span>' + this.inspect(diffItem.value));\n        break;\n\n      case 'removed':\n        property = ('<del class=\"diff\">' + this.stringifyObjectKey(this.escapeHTML(key)) + '<span>: </span>' + this.inspect(diffItem.value) + '</del>');\n        break;\n\n      case 'added':\n        property = ('<ins class=\"diff\">' + this.stringifyObjectKey(this.escapeHTML(key)) + '<span>: </span>' + this.inspect(diffItem.value) + '</ins>');\n        break;\n\n      case 'primitive change':\n        const prefix = this.stringifyObjectKey(this.escapeHTML(key)) + '<span>: </span>';\n        property = (\n          '<del class=\"diff diff-key\">' + prefix + this.inspect(diffItem.removed) + '</del><span>,</span>\\n' +\n          '<ins class=\"diff diff-key\">' + prefix + this.inspect(diffItem.added) + '</ins>');\n        break;\n\n      case 'object change':\n        property = shallow ? '' : (this.stringifyObjectKey(key) + '<span>: </span>' + (diffOnly ? this.formatChangesToHtml(diffItem) : this.formatToJsonXMLString(diffItem)));\n        break;\n    }\n\n    return property;\n  }\n\n  stringifyObjectKey(key) {\n    return /^[a-z0-9_$]*$/i.test(key) ?\n      key :\n      JSON.stringify(key);\n  }\n\n\n  escapeHTML(string) {\n    return string.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  }\n\n  inspect(obj, shallow?) {\n\n    const that = this;\n\n    return _inspect('', obj, shallow);\n\n    function _inspect(accumulator, obj, shallow?) {\n      switch (typeof obj) {\n        case 'object':\n          if (!obj) {\n            accumulator += 'null';\n            break;\n          }\n          if (shallow) {\n            accumulator += '[object]';\n            break;\n          }\n          const keys = Object.keys(obj);\n          const length = keys.length;\n          if (length === 0) {\n            accumulator += '<span>' + that.openChar + that.closeChar + '</span>';\n          } else {\n            accumulator += '<span>' + that.openChar + '</span>\\n<div class=\"diff-level\">';\n            for (let i = 0; i < length; i++) {\n              const key = keys[i];\n              accumulator = _inspect(accumulator + that.stringifyObjectKey(that.escapeHTML(key)) + '<span>: </span>', obj[key]);\n              if (i < length - 1) {\n                accumulator += '<span>,</span>\\n';\n              }\n            }\n            accumulator += '\\n</div><span>' + that.closeChar + '</span>';\n          }\n          break;\n\n        case 'string':\n          accumulator += JSON.stringify(that.escapeHTML(obj));\n          break;\n\n        case 'undefined':\n          accumulator += 'undefined';\n          break;\n\n        default:\n          accumulator += that.escapeHTML(String(obj));\n          break;\n      }\n      return accumulator;\n    }\n  }\n}\n","import {ChangeDetectorRef, Directive, ElementRef, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport JSONFormatter from 'json-formatter-js';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\nimport {BaseDirective} from '../../bases/directive';\nimport {ObjectDiff} from './diff';\n\nexport {ObjectDiff} from './diff';\n\n@Directive({\n  selector: '[erJsonViewer]'\n})\nexport class JsonViewerDirective extends BaseDirective implements OnChanges {\n\n  @Input('erJsonViewer') model: {};\n\n  @Input('current') showCurrent = true;\n\n  @Input() openLevel = 2;\n\n  @Input('diff') showDiff = false;\n\n  private diff: string;\n\n  constructor(private el: ElementRef, private cd: ChangeDetectorRef) {\n    super();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.model) {\n      this.model = changes.model.currentValue;\n      if (this.model) {\n        Object.keys(this.model).forEach(key => {\n          if (this.model[key] instanceof BehaviorSubject) {\n            this.model[key] = this.model[key].value;\n          } else if (this.model[key] instanceof Observable) {\n            (this.model[key] as Observable<any>)\n              .pipe(\n                takeUntil(this.destroyed$)\n              )\n              .subscribe(v => this.model[key] = v);\n          } else if (this.showDiff) {\n            try {\n              this.diff = ObjectDiff.diff(changes.model.previousValue, changes.model.currentValue);\n            } catch (e) {\n            }\n          }\n        });\n      }\n      this.showJson();\n    }\n  }\n\n  showJson() {\n    this.el.nativeElement.innerHTML = '';\n    if (this.showCurrent) {\n      const formatter = new JSONFormatter(this.model || {}, this.openLevel, {\n        hoverPreviewEnabled: true\n      });\n      try {\n        const divEle: HTMLDivElement = formatter.render();\n        divEle.classList.add('json-viewer');\n        this.el.nativeElement.appendChild(divEle);\n      } catch (e) {\n      }\n    }\n    if (this.showDiff) {\n      const divEle = document.createElement('div');\n      divEle.classList.add('diff-viewer');\n      divEle.innerHTML = this.diff;\n      this.el.nativeElement.appendChild(divEle);\n    }\n  }\n}\n","import {Directive, ElementRef, HostBinding, Input} from '@angular/core';\n\n@Directive({\n  selector: '[movableHandle]'\n})\nexport class MovableHandleDirective {\n\n  @HostBinding('class.movable-enabled')\n  public movableEnabled = false;\n  @HostBinding('class.movable-moving')\n  public isMoving = false;\n  @Input()\n  public movableHandle: string;\n  @HostBinding('class.movable-handle')\n  protected isHandle = true;\n\n  constructor(public element: ElementRef) {\n  }\n\n}\n","import {\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectorRef,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Input,\n  QueryList\n} from '@angular/core';\nimport {MovableHandleDirective} from './movable-handle.directive';\n\nexport interface Coordinates {\n  top: number;\n  left: number;\n}\n\nexport interface Rects {\n  top: number;\n  left: number;\n  height: number;\n  width: number;\n}\n\n// workaround to prevent error in MS Edge\nexport interface ITouchEvent extends UIEvent {\n  changedTouches: Coordinates[];\n}\n\nexport type Positions = Coordinates | Rects | ITouchEvent | MouseEvent;\n\nexport class Position {\n  public top: number;\n  public left: number;\n  public height: number = null;\n  public width: number = null;\n\n  constructor(pos: Positions) {\n    if (this.containsNumberProp(pos, ['top', 'left'])) {\n      this.top = (<any>pos).top;\n      this.left = (<any>pos).left;\n      if (this.containsNumberProp(pos, ['height', 'width'])) {\n        this.height = (<any>pos).height;\n        this.width = (<any>pos).width;\n      }\n    } else if (this.containsNumberProp(pos, ['clientY', 'clientX'])) {\n      this.top = (<any>pos).clientY;\n      this.left = (<any>pos).clientX;\n    } else if ((<any>pos).changedTouches\n      && (<any>pos).changedTouches.length > 0\n      && (<any>pos).changedTouches[0]\n      && this.containsNumberProp((<any>pos).changedTouches[0], ['clientY', 'clientX'])\n    ) {\n      this.top = (<any>pos).changedTouches[0].clientY;\n      this.left = (<any>pos).changedTouches[0].clientX;\n    }\n  }\n\n  public get bottom() {\n    return (this.height === null) ? null : this.top + this.height;\n  }\n\n  public get right() {\n    return (this.width === null) ? null : this.left + this.width;\n  }\n\n  public minus(position: Coordinates) {\n    return new Position({\n      top: (this.top - position.top),\n      left: (this.left - position.left),\n      height: this.height,\n      width: this.width\n    });\n  }\n\n  public plus(position: Coordinates) {\n    return new Position({\n      top: (this.top + position.top),\n      left: (this.left + position.left),\n      height: this.height,\n      width: this.width\n    });\n  }\n\n  protected containsNumberProp(object: any, props: string[]) {\n    return props.every(prop => prop in object && typeof object[prop] === 'number');\n  }\n}\n\n\n@Directive({\n  selector: '[movable]'\n})\nexport class MovableDirective implements AfterViewInit, AfterContentInit {\n\n  @Input()\n  public movableConstrained = true;\n  @Input()\n  public movableConstraint: string;\n  /** saved start position when moving starts. */\n  protected startPosition: Position;\n  /** true if moving is in progress. */\n  @HostBinding('class.movable-moving')\n  protected isMoving = false;\n  @HostBinding('class.movable-handle')\n  protected isHandle = false;\n  /** set position style on host to relative. */\n  @HostBinding('style.position')\n  protected positionStyle: string;\n  /** current Y position of the native element. */\n  @HostBinding('style.top.px')\n  protected positionTop: number;\n  /** current X position of the native element. */\n  @HostBinding('style.left.px')\n  protected positionLeft: number;\n  /** set class on host to indicate movable support. */\n  @HostBinding('class.movable')\n  protected isMovable = true;\n  protected movableName: string;\n  @ContentChildren(MovableHandleDirective, {descendants: true})\n  protected allHandles: QueryList<MovableHandleDirective>;\n  protected handles: MovableHandleDirective[] = [];\n\n  constructor(public element: ElementRef, protected cd: ChangeDetectorRef) {\n  }\n\n  /** set class depending on the status. */\n  @HostBinding('class.movable-enabled')\n  protected _movableEnabled = true;\n\n  protected get movableEnabled() {\n    return this._movableEnabled;\n  }\n\n  /** optional input to toggle movable status. */\n  @Input()\n  protected set movableEnabled(value: boolean) {\n    this._movableEnabled = value;\n    // propagate enabled status to handles\n    if (this.handles.length > 0) {\n      this.handles.forEach(handle => handle.movableEnabled = value);\n    }\n  }\n\n  @Input()\n  protected set movable(value: string) {\n    this.movableName = value;\n  }\n\n  ngAfterViewInit() {\n    const position = this.getStyle(this.element.nativeElement, 'position');\n    if (position === 'static') {\n      this.positionStyle = 'relative';\n      this.cd.detectChanges();\n    }\n  }\n\n  ngAfterContentInit() {\n    this.allHandles.changes.subscribe((handles: QueryList<MovableHandleDirective>) => this.updateQuery(handles));\n    // TODO: workaround for https://github.com/angular/angular/issues/12818 and https://github.com/angular/angular/issues/9689\n    // manually trigger first update.\n    this.updateQuery(this.allHandles);\n  }\n\n  protected updateQuery(handles: QueryList<MovableHandleDirective>) {\n    this.handles = handles.filter(handle => handle.movableHandle === this.movableName);\n    // fallback to this as handle if not specified\n    if (this.handles.length === 0) {\n      this.isHandle = true;\n    }\n    // propagate enabled status to handles\n    if (this.handles.length > 0) {\n      this.handles.forEach(handle => handle.movableEnabled = this.movableEnabled);\n    }\n  }\n\n  @HostListener('mousedown', ['$event'])\n  protected onMouseDown(event: MouseEvent) {\n    this.startMoving(event);\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  protected onMouseUp(event: MouseEvent) {\n    this.stopMoving();\n  }\n\n  // using document to move even pointer leaves the host (fast moving)\n  @HostListener('document:mousemove', ['$event'])\n  protected onMouseMove(event: MouseEvent) {\n    this.moveElement(event);\n  }\n\n  @HostListener('touchstart', ['$event'])\n  protected onTouchStart(event: ITouchEvent) {\n    this.startMoving(event);\n  }\n\n  @HostListener('document:touchend', ['$event'])\n  protected onTouchEnd(event: ITouchEvent) {\n    this.stopMoving();\n  }\n\n  // using document to move even pointer leaves the host (fast moving)\n  @HostListener('document:touchmove', ['$event'])\n  protected onTouchMove(event: any) {\n    this.moveElement(event);\n  }\n\n  protected startMoving(event: ITouchEvent | MouseEvent) {\n    if (this.isEventInHandle(event) && this.movableEnabled) {\n      this.startPosition = new Position(event).minus(this.getRelativeRect(this.element.nativeElement));\n      this.isMoving = true;\n      if (this.handles.length > 0) {\n        this.handles.forEach(handle => handle.isMoving = true);\n      }\n      this.cd.detectChanges();\n    }\n  }\n\n  protected stopMoving() {\n    this.isMoving = false;\n    if (this.handles.length > 0) {\n      this.handles.forEach(handle => handle.isMoving = false);\n    }\n    this.cd.detectChanges();\n  }\n\n  protected moveElement(event: ITouchEvent | MouseEvent) {\n    if (this.isMoving) {\n      let moved = false;\n      const newPosition = new Position(event).minus(this.startPosition);\n      if (!this.movableConstrained) {\n        this.positionTop = newPosition.top;\n        this.positionLeft = newPosition.left;\n        moved = true;\n      } else {\n        const constainedByElement: HTMLElement = this.element.nativeElement.ownerDocument.getElementById(this.movableConstraint);\n        let constainedByAbsPos: Position;\n        if (constainedByElement) {\n          constainedByAbsPos = new Position(constainedByElement.getBoundingClientRect());\n        } else {\n          constainedByAbsPos = this.getViewPos(this.element.nativeElement);\n        }\n        const elementAbsPos = new Position(this.element.nativeElement.getBoundingClientRect());\n        const diffAbsToRel = elementAbsPos.minus(this.getRelativeRect(this.element.nativeElement));\n        const newAbsPos = diffAbsToRel.plus(newPosition);\n        if (newAbsPos.top >= constainedByAbsPos.top && newAbsPos.bottom <= constainedByAbsPos.bottom) {\n          this.positionTop = newPosition.top;\n          moved = true;\n        } else {\n          if (newAbsPos.top < constainedByAbsPos.top) {\n            // max to top limit, to prevent sticking of the movable on fast move\n            this.positionTop = constainedByAbsPos.minus(diffAbsToRel).top;\n            moved = true;\n          }\n          if (newAbsPos.bottom > constainedByAbsPos.bottom) {\n            // max to bottom limit, to prevent sticking of the movable on fast move\n            this.positionTop = constainedByAbsPos.minus(diffAbsToRel).bottom - elementAbsPos.height;\n            moved = true;\n          }\n        }\n        if (newAbsPos.left >= constainedByAbsPos.left && newAbsPos.right <= constainedByAbsPos.right) {\n          this.positionLeft = newPosition.left;\n          moved = true;\n        } else {\n          if (newAbsPos.left < constainedByAbsPos.left) {\n            // max to left limit, to prevent sticking of the movable on fast move\n            this.positionLeft = constainedByAbsPos.minus(diffAbsToRel).left;\n            moved = true;\n          }\n          if (newAbsPos.right > constainedByAbsPos.right) {\n            // max to right limit, to prevent sticking of the movable on fast move\n            this.positionLeft = constainedByAbsPos.minus(diffAbsToRel).right - elementAbsPos.width;\n            moved = true;\n          }\n        }\n      }\n      if (moved) {\n        // prevent selection and other side effects during moving, only when position moved, i.e. to allow buttons to be clicked\n        event.preventDefault();\n        event.stopPropagation();\n        this.cd.detectChanges();\n      }\n    }\n  }\n\n  protected isEventInHandle(event: ITouchEvent | MouseEvent): boolean {\n    let srcElement = event.target || event.srcElement;\n    if (this.isHandle) {\n      // check parent elements too.\n      while (srcElement instanceof HTMLElement && srcElement !== this.element.nativeElement && srcElement.parentElement) {\n        srcElement = srcElement.parentElement;\n      }\n      return this.element.nativeElement === srcElement;\n    } else {\n      return this.handles.some(handle => {\n        // check parent elements too.\n        while (srcElement instanceof HTMLElement && srcElement !== handle.element.nativeElement && srcElement.parentElement) {\n          srcElement = srcElement.parentElement;\n        }\n        return handle.element.nativeElement === srcElement;\n      });\n    }\n  }\n\n  protected getRelativeRect(element: HTMLElement): Position {\n    return new Position({\n      top: this.parseStyleInt(this.getStyle(element, 'top')) || 0,\n      left: this.parseStyleInt(this.getStyle(element, 'left')) || 0,\n      height: this.parseStyleInt(this.getStyle(element, 'height')) || 0,\n      width: this.parseStyleInt(this.getStyle(element, 'width')) || 0\n    });\n  }\n\n  protected parseStyleInt(value: string) {\n    return parseInt(value, 10);\n  }\n\n  protected getStyle(element: HTMLElement, property: string) {\n    const view = this.getView(element);\n    return view.getComputedStyle(element, null).getPropertyValue(property);\n  }\n\n  protected getView(element: HTMLElement) {\n    let view = element.ownerDocument.defaultView;\n    if (!view || view.opener) {\n      view = window;\n    }\n    return view;\n  }\n\n\n  protected getViewPos(element: HTMLElement) {\n    const view = this.getView(element);\n    return new Position({\n      top: 0,\n      left: 0,\n      height: view.innerHeight || element.ownerDocument.documentElement.clientHeight,\n      width: view.innerWidth || element.ownerDocument.documentElement.clientWidth\n    });\n  }\n\n}\n","import {AfterViewInit, Directive, ElementRef, Input, Renderer2} from '@angular/core';\n\n@Directive({\n  selector: '[erPosition]'\n})\nexport class PositionDirective implements AfterViewInit {\n\n  @Input('erPosition') positionClass: string;\n\n  constructor(private el: ElementRef, private render: Renderer2) {\n  }\n\n  ngAfterViewInit() {\n    this.render.addClass(this.el.nativeElement.parentNode, 'd-flex');\n    this.render.addClass(this.el.nativeElement.parentNode, 'align-items-center');\n    this.render.addClass(this.el.nativeElement.parentNode, 'justify-content-center');\n    this.render.addClass(this.el.nativeElement, this.positionClass || 'text-center');\n  }\n}\n","import {Directive, ElementRef, OnInit} from '@angular/core';\n\n@Directive({\n  selector: '[erInsideOut]'\n})\nexport class RemoveMeDirective implements OnInit {\n\n  private parentContent;\n\n  constructor(private el: ElementRef) {\n  }\n\n  ngOnInit() {\n    const nativeElement: HTMLElement = this.el.nativeElement;\n    const parentElement = nativeElement.parentElement;\n    if (!this.parentContent) {\n      this.parentContent = parentElement.innerHTML;\n    } else {\n      parentElement.innerHTML = this.parentContent;\n    }\n    // move all children out of the element\n    while (nativeElement.firstChild) {\n      parentElement.insertBefore(nativeElement.firstChild, nativeElement);\n    }\n    // remove the empty element(the host)\n    parentElement.removeChild(nativeElement);\n  }\n}\n","import {Directive, Input, ViewContainerRef} from '@angular/core';\nimport {BaseDirective} from '../../bases/directive';\n\n@Directive({\n  selector: '[erSelector]'\n})\nexport class SelectorDirective extends BaseDirective {\n\n  @Input('erSelector') id: any;\n\n  constructor(private viewContainerRef: ViewContainerRef) {\n    super();\n  }\n\n  get hostComponent() {\n    return this.viewContainerRef['_data'].componentView.component;\n  }\n}\n","import {AfterViewInit, ElementRef, Input, OnInit, Renderer2} from '@angular/core';\nimport {ConfigUtils} from '@er/utils';\nimport {BaseDirective} from '../../bases/directive';\n\n\nexport abstract class SpinnerBaseDirective extends BaseDirective implements OnInit, AfterViewInit {\n\n  @Input() spinnerClass: string;\n  @Input() position: 'left' | 'right' | 'center' = 'right';\n\n  spinElement: any;\n  containerElement: any;\n\n  constructor(protected el: ElementRef, protected renderer: Renderer2) {\n    super();\n  }\n\n  abstract onInit(): void;\n\n  ngOnInit(): void {\n    this.onInit();\n  }\n\n  ngAfterViewInit() {\n    this.spinElement = this.createElement('span', ['spinner', this.position, 'd-none']);\n    if (!this.spinnerClass) {\n      this.spinnerClass = ConfigUtils.getConfig().onLoading || 'fa fa-cog fa-spin fa-spin-2x';\n    }\n    const spinnerEle = this.createElement('i', this.spinnerClass.split(' '));\n    this.renderer.appendChild(this.spinElement, spinnerEle);\n    this.placeSpin();\n  }\n\n  protected placeSpin() {\n    const element = this.el.nativeElement;\n    if (element instanceof HTMLDivElement) {\n      this.addSpin(element);\n    } else if (element instanceof HTMLButtonElement) {\n      this.appendChildSpin(element);\n    } else if (element instanceof HTMLImageElement) {\n      this.replaceWithWrapper();\n    } else if (element instanceof HTMLUListElement) {\n      this.replaceWithWrapper();\n    } else if (element instanceof HTMLInputElement) {\n      switch (element.type) {\n        case 'text':\n        case 'file': {\n          this.replaceWithWrapper();\n          break;\n        }\n        case 'checkbox':\n        case 'radio':\n        case 'button': {\n          this.replaceWithWrapper('span');\n          break;\n        }\n        default:\n          this.replaceWithWrapper();\n      }\n    } else {\n      this.replaceWithWrapper();\n    }\n  }\n\n  protected appendChildSpin(parent) {\n    this.renderer.appendChild(parent, this.spinElement);\n  }\n\n  protected addSpin(parent) {\n    this.renderer.addClass(parent, 'spin-container');\n    this.renderer.removeClass(this.spinElement, this.position);\n    this.renderer.addClass(this.spinElement, 'fa-2x');\n    this.renderer.addClass(this.spinElement, 'center');\n    this.appendChildSpin(parent);\n  }\n\n  protected replaceWithWrapper(tag = 'div') {\n    this.containerElement = this.createElement(tag, ['spin-container']);\n    const parent = this.el.nativeElement.parentNode;\n    this.renderer.insertBefore(parent, this.containerElement, this.el.nativeElement);\n    this.renderer.removeChild(parent, this.el.nativeElement);\n    if (tag !== 'div') {\n      this.renderer.addClass(this.spinElement, 'spin-inline');\n      if (this.position === 'left') {\n        this.renderer.appendChild(this.containerElement, this.spinElement);\n        this.renderer.appendChild(this.containerElement, this.el.nativeElement);\n      }\n    } else {\n      this.renderer.appendChild(this.containerElement, this.el.nativeElement);\n      this.renderer.appendChild(this.containerElement, this.spinElement);\n    }\n  }\n\n\n  protected createElement(tag, classNames: string[]): any {\n    const element = this.renderer.createElement(tag);\n    if (classNames) {\n      classNames.forEach(className =>\n        this.renderer.addClass(element, className));\n    }\n    return element;\n  }\n\n}\n","import {Directive, ElementRef, Input, Renderer2} from '@angular/core';\nimport {StateNames} from '@er/types';\nimport {StatesUtils} from '@er/utils';\nimport {SpinnerBaseDirective} from '../base';\n\n\n@Directive({\n  selector: '[erHttpState]'\n})\nexport class HttpSpinnerDirective extends SpinnerBaseDirective {\n\n  @Input('erHttpState') spinnerTag: string;\n\n  constructor(el: ElementRef, renderer: Renderer2) {\n    super(el, renderer);\n  }\n\n  onInit(): void {\n    this.$subscriptions = StatesUtils.observe(StateNames.http, this.spinnerTag)\n      .subscribe(state => {\n        if (state && state.start) {\n          this.renderer.removeClass(this.spinElement, 'd-none');\n          this.renderer.setAttribute(this.el.nativeElement, 'disabled', 'true');\n          if (this.containerElement) {\n            this.renderer.setStyle(this.el.nativeElement, 'opacity', 0.5);\n          }\n        } else {\n          if (this.spinElement) {\n            this.renderer.addClass(this.spinElement, 'd-none');\n            this.renderer.removeAttribute(this.el.nativeElement, 'disabled');\n            if (this.containerElement) {\n              this.renderer.setStyle(this.el.nativeElement, 'opacity', 1);\n            }\n          }\n        }\n      });\n  }\n}\n","import {Directive, ElementRef, Input, Renderer2} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {SpinnerBaseDirective} from '../base';\n\n\n@Directive({\n  selector: '[erNotifySpinner]'\n})\nexport class NotifySpinnerDirective extends SpinnerBaseDirective {\n\n  @Input('notifySpinner') notifier: Observable<boolean>;\n\n  constructor(el: ElementRef, renderer: Renderer2) {\n    super(el, renderer);\n  }\n\n  onInit(): void {\n    this.$subscriptions =\n      this.notifier\n        .subscribe(state => {\n          !!state\n            ? this.renderer.removeClass(this.spinElement, 'd-none')\n            : this.renderer.addClass(this.spinElement, 'd-none');\n        });\n  }\n}\n","import {Directive, ElementRef, Input, Renderer2} from '@angular/core';\nimport {ColorUtils, CommonsUtils} from '@er/utils';\nimport {BaseDirective} from '../../bases/directive';\n\n\n@Directive({\n  selector: '[erTag]'\n})\nexport class TagDirective extends BaseDirective {\n\n  @Input() text: string;\n\n  @Input() bg: string;\n\n  @Input() color: string;\n\n  constructor(private el: ElementRef, private render: Renderer2) {\n    super();\n  }\n\n  ngAfterViewInit() {\n    if (!CommonsUtils.isEmpty(this.color)) {\n      this.render.setStyle(this.el.nativeElement, 'color', this.color);\n    }\n    if (!CommonsUtils.isEmpty(this.bg)) {\n      this.render.setStyle(this.el.nativeElement, 'background-color', this.bg);\n    }\n    if (CommonsUtils.isEmpty(this.color) && CommonsUtils.isEmpty(this.bg)) {\n      if (!this.text) {\n        this.text = this.el.nativeElement.innerHTML;\n      }\n      this.render.setStyle(this.el.nativeElement, 'background', ColorUtils.getColor(this.text));\n      this.render.setStyle(this.el.nativeElement, 'color', 'white');\n    }\n    this.render.addClass(this.el.nativeElement, 'badge-pill');\n    this.render.addClass(this.el.nativeElement, 'badge');\n  }\n}\n","import {AnimatedIfDirective} from './animate-if/directive';\nimport {AnimateDirective} from './animate/directive';\nimport {ApiDataDirective} from './api-data/directive';\nimport {DynaTemplateDirective} from './dyna-template/directive';\nimport {FocusHighlightDirective} from './focus-high-light/directive';\nimport {HighlightDirective} from './high-light/directive';\nimport {JsonViewerDirective} from './json-viewer/directive';\nimport {MovableHandleDirective} from './movable/movable-handle.directive';\nimport {MovableDirective} from './movable/movable.directive';\nimport {PositionDirective} from './position/directive';\nimport {PropsBindDirective} from './props-bind/directive';\nimport {RemoveMeDirective} from './remove-me/directive';\nimport {SelectorDirective} from './selector/directive';\nimport {HttpSpinnerDirective} from './state-spinner/http/directive';\nimport {NotifySpinnerDirective} from './state-spinner/notify/directive';\nimport {TagDirective} from './text-tag/directive';\nimport {TypedTemplateDirective} from './typed-template/directive';\n\nexport * from './animate/directive';\nexport * from './api-data/directive';\nexport * from './typed-template/directive';\nexport * from './dyna-template/directive';\nexport * from './props-bind/directive';\nexport * from './text-tag/directive';\nexport * from './selector/directive';\nexport * from './position/directive';\nexport * from './remove-me/directive';\nexport * from './state-spinner/http/directive';\nexport * from './state-spinner/notify/directive';\nexport * from './high-light/directive';\nexport * from './focus-high-light/directive';\nexport * from './movable/movable-handle.directive';\nexport * from './movable/movable.directive';\nexport {JsonViewerDirective, ObjectDiff} from './json-viewer/directive';\n\nexport const CoreDirectives = [\n  AnimateDirective,\n  AnimatedIfDirective,\n  ApiDataDirective,\n  TypedTemplateDirective,\n  DynaTemplateDirective,\n  TagDirective,\n  SelectorDirective,\n  PositionDirective,\n  RemoveMeDirective,\n  PropsBindDirective,\n  MovableDirective,\n  MovableHandleDirective,\n  JsonViewerDirective,\n  HttpSpinnerDirective,\n  NotifySpinnerDirective,\n  HighlightDirective,\n  FocusHighlightDirective\n];\n","import {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {HttpInterceptorConfig} from '@er/types';\nimport {ConfigUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\n\n\n@Injectable()\nexport class HttpAppConfiguredInterceptor implements HttpInterceptor {\n\n  customerInterceptors: HttpInterceptorConfig[];\n\n  constructor() {\n    this.customerInterceptors = ConfigUtils.getConfig().httpInterceptors;\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n   // const cloned = req.clone();\n    // if (this.customerInterceptors) {\n    //   this.customerInterceptors.forEach((interceptor: HttpInterceptorConfig) => {\n    //     if (req && interceptor.request && RegUtils.test(req.url, interceptor.urlPatterns)) {\n    //      // cloned = interceptor.request(cloned);\n    //     }\n    //   });\n    // }\n    return next.handle(req);\n      // .pipe(\n      //    map(response => {\n      //      if (this.customerInterceptors) {\n      //        this.customerInterceptors.forEach((interceptor: HttpInterceptorConfig) => {\n      //          if (interceptor.response && RegUtils.test(req.url, interceptor.urlPatterns)) {\n      //            interceptor.response(response);\n      //          }\n      //        });\n      //        return response;\n      //      } else {\n      //        return response;\n      //      }\n      //    })\n      // );\n  }\n}\n","import {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {NotifyLevel, StateNames} from '@er/types';\nimport {ConfigUtils, StatesUtils} from '@er/utils';\nimport {Observable, throwError, TimeoutError} from 'rxjs';\nimport {catchError} from 'rxjs/operators';\nimport {RouteUtils} from '../../utils/nav';\n\n@Injectable()\nexport class HttpErrorHandlerInterceptor implements HttpInterceptor {\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(req)\n      .pipe(\n        catchError((err) => {\n          if (err instanceof HttpErrorResponse) {\n            if (err.status === 401) {\n              RouteUtils.nav(ConfigUtils.getConfig().auth.loginRouter);\n            } else if (err.status === 403) {\n              StatesUtils.create(StateNames.notify, {\n                message: 'æ²¡ææä½æéï¼',\n                level: NotifyLevel.ERROR\n              });\n            } else {\n              this.errorHandler(err);\n            }\n          } else if (err instanceof TimeoutError) {\n            StatesUtils.create(StateNames.notify, {\n              message: 'ç½ç»è®¿é®è¶æ¶ï¼',\n              level: NotifyLevel.ERROR\n            });\n          }\n          return throwError(err);\n        })\n      );\n  }\n\n  private errorHandler(err: HttpErrorResponse) {\n    let message = '';\n    if (err.error instanceof Error) {\n      message = err.error.message;\n    } else {\n      if (err.status === 0) {\n        message = 'ç½ç»é¾æ¥å·²æ­å¼';\n      } else if (err.status === 404) {\n        message = 'è¯·æ±å°åä¸å­å¨';\n      } else if (err.status === 500) {\n        message = 'æå¡å¨ç¨åºéè¯¯';\n      } else {\n        message = 'æ°æ®è¯·æ±éè¯¯';\n      }\n    }\n    StatesUtils.create(StateNames.notify, {\n      level: NotifyLevel.ERROR,\n      message: `${message},éè¯¯ä»£ç :ã${err.status}ã`,\n      title: 'ç½ç»è®¿é®å¤±è´¥'\n    });\n  }\n}\n\n\n","import {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {User} from '@er/types';\nimport {ConfigUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {AuthUtils} from '../../utils/auth';\n\n@Injectable()\nexport class HttpJwtAuthInterceptor implements HttpInterceptor {\n\n  private readonly headerName: string;\n\n  private readonly authScheme: string;\n\n  constructor() {\n    this.headerName = ConfigUtils.getConfig().auth.headerName;\n    this.authScheme = ConfigUtils.getConfig().auth.authScheme;\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const currentUser: User = AuthUtils.getCurrentUser();\n    if (currentUser && currentUser.jwtToken) {\n      //  if (JwtUtils.isValid(currentUser.jwtToken))\n      {\n        req = req.clone({\n          setHeaders: {\n            [this.headerName]: `${this.authScheme}${currentUser.jwtToken}`\n          }\n        });\n      }\n    }\n    return next.handle(req);\n  }\n}\n","import {StateNames} from '@er/types';\nimport {ConfigUtils, StatesUtils} from '@er/utils';\nimport {BehaviorSubject} from 'rxjs';\nimport {first} from 'rxjs/operators';\nimport {HttpUtils} from '../http';\nimport {LogUtils} from '../log';\n\n\nexport class DateSyncUtils {\n\n  static timeServer$: BehaviorSubject<Date> = new BehaviorSubject(new Date());\n\n  private static interval = undefined;\n\n  static start() {\n    const timeServer = ConfigUtils.getConfig().api.servers.timer;\n    if (timeServer) {\n      HttpUtils.request({\n          uri: timeServer.uri,\n          observe: 'events'\n        })\n        .pipe(first())\n        .subscribe(response => {\n          const dates = response.headers && response.headers.getAll('Date');\n          if (dates) {\n            LogUtils.info('DateSyncUtils', 'åæ­¥æå¡å¨æ¶é´', dates);\n            if (dates && dates.length > 0) {\n              DateSyncUtils.updateLocalDate(dates[0]);\n            }\n          }\n        });\n    }\n  }\n\n  static updateLocalDate(date) {\n    const d = new Date(date);\n    DateSyncUtils.timeServer$.next(d);\n    DateSyncUtils.stopSyncSchedule();\n    DateSyncUtils.startRefreshSchedule();\n    DateSyncUtils.startSyncSchedule();\n  }\n\n  private static stopSyncSchedule() {\n    if (DateSyncUtils.interval) {\n      clearInterval(DateSyncUtils.interval);\n    }\n  }\n\n  private static startRefreshSchedule() {\n    DateSyncUtils.interval = setInterval(() => {\n      const d = DateSyncUtils.timeServer$.value;\n      d.setSeconds(DateSyncUtils.timeServer$.value.getSeconds() + 1);\n      DateSyncUtils.timeServer$.next(d);\n      StatesUtils.create(StateNames.serverTime, {date: d}, true);\n    }, 1000);\n  }\n\n  private static startSyncSchedule() {\n    setInterval(() => {\n      DateSyncUtils.start();\n    }, 1000 * 60 * 15);\n  }\n}\n","import {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {StateNames} from '@er/types';\nimport {ConfigUtils, StatesUtils} from '@er/utils';\nimport {Observable, throwError} from 'rxjs';\nimport {catchError, tap} from 'rxjs/operators';\nimport {LogService} from '../../services/log/service';\nimport {DateSyncUtils} from '../../utils/date-sync';\n\n@Injectable()\nexport class HttpLogInterceptor implements HttpInterceptor {\n\n  constructor(private logService: LogService) {\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const started = Date.now();\n    return next.handle(req)\n      .pipe(\n        tap(event => {\n          if (event instanceof HttpResponse) {\n            const elapsed = Date.now() - started;\n            StatesUtils.set(StateNames.httpTimer, {elapsed});\n            const dates = event.headers.getAll('Date');\n            if (dates && dates.length > 0) {\n              DateSyncUtils.updateLocalDate(dates[0]);\n            }\n          }\n        }),\n        catchError((err) => {\n          if (!ConfigUtils.getConfig().isProduction) {\n            this.logService.debug(this, 'ç½ç»è¯·æ±å¤±è´¥ï¼', req.url, err);\n          }\n          return throwError(err);\n        })\n      );\n  }\n}\n","import {HttpEvent, HttpEventType, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {StateNames} from '@er/types';\nimport {StatesUtils} from '@er/utils';\nimport {Observable, throwError} from 'rxjs';\nimport {catchError, tap} from 'rxjs/operators';\n\n@Injectable()\nexport class HttpProgressInterceptor implements HttpInterceptor {\n\n  private inProcess = 0;\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    return next\n      .handle(req).pipe(\n        tap(event => {\n          if (event.type === HttpEventType.Sent) {\n            StatesUtils.update(StateNames.rootHttp, {inProcess: ++this.inProcess, request: req});\n          } else if (event instanceof HttpResponse) {\n            StatesUtils.update(StateNames.rootHttp, {inProcess: --this.inProcess, request: req});\n          }\n        }),\n        catchError((err) => {\n          StatesUtils.update(StateNames.rootHttp, {inProcess: --this.inProcess, request: req});\n          return throwError(err);\n        })\n      );\n  }\n}\n","import {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {ConfigUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {timeout} from 'rxjs/operators';\n\n@Injectable()\nexport class HttpTimeoutInterceptor implements HttpInterceptor {\n\n  timeout: number;\n\n  constructor() {\n    this.timeout = ConfigUtils.getConfig().httpTimeout || 5000;\n  }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const reqTimeout = Number(req.headers.get('timeout')) || this.timeout;\n    return next.handle(req)\n      .pipe(\n        timeout(reqTimeout)\n      );\n  }\n}\n","import {HttpRequest} from '@angular/common/http';\nimport {CommonsUtils} from '@er/utils';\n\nexport function esBoundInterceptor(bounds: any | any[]) {\n\n  return (req: HttpRequest<any>): HttpRequest<any> => {\n\n    let must = [];\n\n    const query = CommonsUtils.get(req, 'body.query');\n\n    if (query) {\n      const bool = CommonsUtils.get(req, 'body.query.bool');\n      if (!bool) {\n        must.push(query);\n      }\n    }\n\n    must = CommonsUtils.get(req, 'body.query.bool.must', must);\n\n    if (!CommonsUtils.isArray(must)) {\n      must = [must];\n    }\n\n    let _bounds = bounds;\n    if (!CommonsUtils.isArray(bounds)) {\n      _bounds = [bounds];\n    }\n\n    _bounds.forEach(bound => {\n      if (must.indexOf(bound) === -1) {\n        if (bound.toJSON) {\n          must.push(bound.toJSON());\n        } else if (CommonsUtils.isFunction(bound)) {\n          must.push(bound(req));\n        } else if (CommonsUtils.isJson(bound)) {\n          must.push(bound);\n        }\n      }\n    });\n    \n    CommonsUtils.set(req, 'body.query.bool.must', must);\n    console.log(must)\n    return req;\n  };\n}\n","export function credentialHttpRequestInterceptor() {\n\n}","import {HTTP_INTERCEPTORS} from '@angular/common/http';\nimport {HttpAppConfiguredInterceptor} from './customer/interceptor';\nimport {HttpErrorHandlerInterceptor} from './error/interceptor';\nimport {HttpJwtAuthInterceptor} from './jwt/interceptor';\nimport {HttpLogInterceptor} from './log/interceptor';\nimport {HttpProgressInterceptor} from './progress/interceptor';\nimport {HttpTimeoutInterceptor} from './timeout/interceptor';\n\nexport {HttpAppConfiguredInterceptor} from './customer/interceptor';\nexport {HttpErrorHandlerInterceptor} from './error/interceptor';\nexport {HttpJwtAuthInterceptor} from './jwt/interceptor';\nexport {HttpProgressInterceptor} from './progress/interceptor';\nexport {HttpLogInterceptor} from './log/interceptor';\nexport {HttpTimeoutInterceptor} from './timeout/interceptor';\nexport * from './customer/preset/all';\n\nexport const CoreInterceptors = [\n  {provide: HTTP_INTERCEPTORS, useClass: HttpErrorHandlerInterceptor, multi: true},\n  {provide: HTTP_INTERCEPTORS, useClass: HttpProgressInterceptor, multi: true},\n  {provide: HTTP_INTERCEPTORS, useClass: HttpLogInterceptor, multi: true},\n  {provide: HTTP_INTERCEPTORS, useClass: HttpTimeoutInterceptor, multi: true},\n  {provide: HTTP_INTERCEPTORS, useClass: HttpJwtAuthInterceptor, multi: true},\n  {provide: HTTP_INTERCEPTORS, useClass: HttpAppConfiguredInterceptor, multi: true}\n];\n\n\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'erKeyValue'\n})\nexport class KeyValuePipe implements PipeTransform {\n  transform(data: { [key: string]: any }): {}[] {\n    const lst = [];\n    Object.keys(data).map(key => {\n      lst.push({key, value: data[key]});\n    });\n    return lst;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'base64Decode'\n})\nexport class Base64DecodePipe implements PipeTransform {\n  transform(value: string): string {\n    return decodeURIComponent(atob( value ))\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'erCommaSeparatedNumber'\n})\nexport class CommaSeparatedNumberPipe implements PipeTransform {\n  transform(value: number, args: string[]): any {\n    const reg = /(^[+-]?\\d+)(\\d{3})/;\n    let n = value.toString();\n\n    while (reg.test(n)) { n = n.replace(reg, '$1' + ',' + '$2'); }\n    return n;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {DataItemProps} from '@er/types';\nimport {DataItemUtils} from '@er/utils';\n\n@Pipe({name: 'erDataItems'})\nexport class DataItemsPipe implements PipeTransform {\n  transform(items: {}[], config: DataItemProps | {}) {\n    if (!items) {\n      return items;\n    }\n    return DataItemUtils.transItems(items, config || {});\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'erDefault'})\nexport class DefaultPipe implements PipeTransform {\n  transform(data: any, dft: any) {\n    return !!data ? data : dft;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\nconst emojiDictionary = [\n  {patterns: [':)', ':-)', '=)'], unicode: 'ð'},\n  {patterns: [':D', ':-D', '=D'], unicode: 'ð'},\n  {patterns: [':(', ':-(', '=('], unicode: 'ð'},\n  {patterns: [':|', ':-|', '=|'], unicode: 'ð'},\n  {patterns: [':*', ':-*', '=*'], unicode: 'ð'},\n  {patterns: ['T_T', 'T.T'], unicode: 'ð­'},\n  {patterns: [':O', ':-O', '=O', ':o', ':-o', '=o'], unicode: 'ð®'},\n  {patterns: [':P', ':-P', '=P', ':p', ':-p', '=p'], unicode: 'ð'},\n  {patterns: ['>.<'], unicode: 'ð£'},\n  {patterns: ['@.@'], unicode: 'ðµ'},\n  {patterns: ['*.*'], unicode: 'ð'},\n  {patterns: ['<3'], unicode: 'â¤ï¸'},\n  {patterns: ['^.^'], unicode: 'ð'},\n  {patterns: [':+1'], unicode: 'ð'},\n  {patterns: [':-1'], unicode: 'ð'}\n];\n\n\n@Pipe({name: 'erEmojify'})\nexport class EmojifyPipe implements PipeTransform {\n  transform(message: string, pipeEnabled = true): string {\n    if (pipeEnabled && message && message.length > 1) {\n      emojiDictionary.forEach(emoji => {\n        emoji.patterns.forEach(pattern => {\n          message = message.replace(pattern, emoji.unicode);\n        });\n      });\n    }\n\n    return message;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n\n@Pipe({\n  name: 'erFilter'\n})\nexport class FilterPipe implements PipeTransform {\n  transform(arr: any[],\n            criteria: { key: string, value: any } | any,\n            matcher?: { startWith: boolean, contains: boolean, regex: boolean, pinyin: boolean }) {\n\n    if (!criteria) return arr;\n\n    return arr.filter(value => {\n      if (CommonsUtils.isJson(value)) {\n        return value[criteria.key] && value[criteria.key].toLowerCase().indexOf(criteria.value.toLowerCase()) > -1;\n      } else\n        return value === criteria;\n    });\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'erHighLight'\n})\nexport class HighLightPipe implements PipeTransform {\n\n  transform(text: any, ...keywords: any[]): any {\n    if (text && keywords.length > 0) {\n      keywords.forEach(keyword => {\n        text = text.replace(new RegExp('(' + keyword + ')', 'gi'),\n          '<span class=\"keyword\">$1</span>')\n      })\n    }\n    return text\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {IdCardUtils} from '@er/utils';\n\n@Pipe({name: 'idCard'})\nexport class IdCardPipe implements PipeTransform {\n  transform(idCardNo: any, attr?: 'gender' | 'birthday' | 'age') {\n    const attrs = IdCardUtils.parse(idCardNo);\n    if (attrs && Object.keys(attrs).length > 0) {\n      return attr ? attrs[attr] : attrs;\n    } else {\n      return '';\n    }\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n@Pipe({name: 'join'})\nexport class JoinPipe implements PipeTransform {\n  transform(arr: any, seperator?: string) {\n    return CommonsUtils.join(arr, seperator);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n\n@Pipe({\n  name: 'erLinkify',\n  pure: false\n})\nexport class LinkifyPipe implements PipeTransform {\n\n  transform(text: string, pipeEnabled = true): string {\n    if (pipeEnabled && !CommonsUtils.isEmpty(text)) {\n      return this.linkify(text);\n    }\n    return text;\n  }\n\n  private linkify(plainText, pipeEnabled = true): string {\n    if (pipeEnabled) {\n      let replacedText;\n      let replacePattern1;\n      let replacePattern2;\n      let replacePattern3;\n\n      // URLs starting with http://, https://, or ftp://\n      replacePattern1 = /(\\b(https?|ftp):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim;\n      replacedText = plainText.replace(replacePattern1, '<a href=\"$1\" target=`${options.target|\"_blank\"}`>$1</a>');\n\n      // URLs starting with \"www.\" (without // before it, or it'd re-link the ones done above).\n      replacePattern2 = /(^|[^\\/])(www\\.[\\S]+(\\b|$))/gim;\n      replacedText = replacedText.replace(replacePattern2, '$1<a href=\"http://$2\" target=`${options.target|\"_blank\"}`>$2</a>');\n\n      // Change email addresses to mailto:: links.\n      replacePattern3 = /(([a-zA-Z0-9\\-\\_\\.])+@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim;\n      replacedText = replacedText.replace(replacePattern3, '<a href=\"mailto:$1\">$1</a>');\n\n      return replacedText;\n    }\n    return plainText;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'erKeys'\n})\nexport class KeysPipe implements PipeTransform {\n\n  transform(src: { [key: string]: any }) {\n    return Object.keys(src);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\ninterface NumbersObject {\n  [key: number]: string;\n  [key: string]: string;\n}\n\n@Pipe({ name: 'erNumberToText' })\nexport class NumberToTextPipe implements PipeTransform {\n\n  private numbers: NumbersObject = {\n    0: '',\n    '00': '',\n    '000': '',\n    1: 'one',\n    2: 'two',\n    3: 'three',\n    4: 'four',\n    5: 'five',\n    6: 'six',\n    7: 'seven',\n    8: 'eight',\n    9: 'nine',\n    10: 'ten',\n    11: 'eleven',\n    12: 'twelve',\n    13: 'thirteen',\n    14: 'fourteen',\n    15: 'fifteen',\n    16: 'sixteen',\n    17: 'seventeen',\n    18: 'eighteen',\n    19: 'nineteen',\n    20: 'twenty',\n    30: 'thirty',\n    40: 'forty',\n    50: 'fifty',\n    60: 'sixty',\n    70: 'seventy',\n    80: 'eighty',\n    90: 'ninety'\n  };\n\n  transform(value: number | string) {\n    let numberWords: Array<String> = [];\n\n    if (typeof value !== 'string') {\n      value = value.toString();\n    }\n\n    if (value.indexOf(',') > -1) {\n      const re = new RegExp(',', 'g');\n      value = value.replace(re, '');\n    }\n\n    let numLength = value.length,\n      numberString = '',\n      divide = Math.ceil(value.length / 3),\n      splits = [];\n\n    for (let i = 0; i < divide; i++) {\n      if (value.length % 3 === 2) {\n        splits.push([value[0], value[1]]);\n        value = value.substring(2);\n      } else if (value.length % 3 === 1) {\n        splits.push([value[0]]);\n        value = value.substring(1);\n      } else {\n        splits.push([value[0], value[1], value[2]]);\n        value = value.substring(3);\n      }\n    }\n\n    switch (divide) {\n      case 2: {\n        numberWords = ['thousand'];\n        break;\n      }\n      case 3: {\n        numberWords = ['million', 'thousand'];\n        break;\n      }\n      case 4: {\n        numberWords = ['billion', 'million', 'thousand'];\n        break;\n      }\n      case 5: {\n        numberWords = ['trillion', 'billion', 'million', 'thousand'];\n        break;\n      }\n    }\n\n\n    for (let i = 0; i < splits.length; i++) {\n      if (numberWords.length > 0) {\n        switch (splits[i].length) {\n          case 1:\n            numberString += this.numbers[splits[i][0]] + ' ' + numberWords[0];\n            break;\n          case 2:\n            if (this.numbers[splits[i][0].toString() + splits[i][1].toString()] !== undefined) {\n              numberString += this.numbers[splits[i][0].toString() + splits[i][1].toString()] + ' ' + numberWords[0];\n            } else {\n              numberString += this.numbers[splits[i][0] + '0'] + ' ' + this.numbers[splits[i][1]] + ' ' + numberWords[0];\n            }\n            break;\n          case 3:\n            if (this.numbers[splits[i][0].toString() + splits[i][1].toString() + splits[i][2].toString()] !== undefined) {\n              numberString = numberString.substring(0, numberString.length - 1);\n              break;\n            } else if (this.numbers[splits[i][1].toString() + splits[i][2].toString()] !== undefined) {\n\n              //Need to properly handle spaces when its double 00's\n              if (splits[i][1].toString() + splits[i][2].toString() === '00') {\n                numberString += this.numbers[splits[i][0]] + ' hundred' + ' ' + numberWords[0];\n              } else {\n                numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1].toString() + splits[i][2].toString()]  + ' ' + numberWords[0];\n              }\n            } else {\n              numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1] + '0'] + ' ' + this.numbers[splits[i][2]]  + ' ' + numberWords[0];\n            }\n            break;\n        }\n\n        numberWords.shift();\n        numberString += ' ';\n      } else {\n        switch (splits[i].length) {\n          case 1:\n            if (splits[i][0] === '0') {\n              numberString += 'zero';\n            } else {\n              numberString += this.numbers[splits[i][0]];\n            }\n\n            break;\n          case 2:\n            if (this.numbers[splits[i][0].toString() + splits[i][1].toString()] !== undefined) {\n              numberString += this.numbers[splits[i][0].toString() + splits[i][1].toString()];\n            } else {\n              numberString += this.numbers[splits[i][0] + '0'] + ' ' + this.numbers[splits[i][1]];\n            }\n\n            break;\n          case 3:\n            if (this.numbers[splits[i][0].toString() + splits[i][1].toString() + splits[i][2].toString()] !== undefined) {\n              numberString = numberString.substring(0, numberString.length - 1);\n              break;\n            } else if (this.numbers[splits[i][1].toString() + splits[i][2].toString()] !== undefined) {\n              numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1].toString() + splits[i][2].toString()];\n            } else {\n              numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1] + '0'] + ' ' + this.numbers[splits[i][2]];\n            }\n\n            break;\n        }\n      }\n    }\n\n    return numberString;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {of} from 'rxjs';\n\n@Pipe({name: 'observable', pure: false})\nexport class ObservablePipe implements PipeTransform {\n  transform(input: any): any {\n    return of(input);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'orderBy', pure: false})\nexport class OrderByPipe implements PipeTransform {\n\n  static _orderByComparator(a: any, b: any): number {\n\n    try { // HACK cuz error when delete entire textbox of number and it compares\n      if ((isNaN(parseFloat(a)) || !isFinite(a)) || (isNaN(parseFloat(b)) || !isFinite(b))) {\n        //Isn't a number so lowercase the string to properly compare\n        if (a.toLowerCase() < b.toLowerCase()) { return -1; }\n        if (a.toLowerCase() > b.toLowerCase()) { return 1; }\n      } else {\n        // Parse strings as numbers to compare properly\n        if (parseFloat(a) < parseFloat(b)) { return -1; }\n        if (parseFloat(a) > parseFloat(b)) { return 1; }\n      }\n    } catch (e) {\n      return 1;\n    }\n\n    return 0; //equal each other\n  }\n\n  /* filter property by string 'parent.child.item.orderKey' */\n  static _getDeepValue(obj: any, propertyPath: string) {\n\n    const pathList = propertyPath.split('??');\n\n    if (pathList.length > 0) {\n      let index = 0,\n        flag = false,\n        result = '';\n\n      while (!flag) {\n        result = getDeepValueByPath(obj, pathList[index]);\n\n        if (result !== undefined) {\n          flag = true;\n        } else {\n          index++;\n\n          if (pathList.length === index) {\n            flag = true;\n          }\n        }\n      }\n\n      return result;\n    } else {\n      return getDeepValueByPath(obj, propertyPath);\n    }\n\n    function getDeepValueByPath(obj, path) {\n      path = path.split('.');\n\n      if (path.length > 0) {\n        for (let i = 0; i < path.length; i++) {\n          if (obj[path[i]] !== undefined) {\n            obj = obj[path[i]];\n          } else {\n            obj = undefined;\n            break;\n          }\n        }\n\n\n        return obj;\n      } else {\n        return obj[path];\n      }\n    }\n  }\n\n  transform(input: any, [config = '+']): any {\n    if (!Array.isArray(input)) { return input; }\n\n    if (!Array.isArray(config) || (Array.isArray(config) && config.length === 1)) {\n      const propertyToCheck: string = !Array.isArray(config) ? config : config[0];\n      const desc = propertyToCheck.substr(0, 1) === '-';\n\n      //Basic array\n      if (!propertyToCheck || propertyToCheck === '-' || propertyToCheck === '+') {\n        return !desc ? input.sort() : input.sort().reverse();\n      } else {\n        const property: string = propertyToCheck.substr(0, 1) === '+' || propertyToCheck.substr(0, 1) === '-'\n          ? propertyToCheck.substr(1)\n          : propertyToCheck;\n\n        return input.sort(function (a: any, b: any) {\n          return !desc\n            ? OrderByPipe._orderByComparator(OrderByPipe._getDeepValue(a, property), OrderByPipe._getDeepValue(b, property))\n            : -OrderByPipe._orderByComparator(OrderByPipe._getDeepValue(a, property), OrderByPipe._getDeepValue(b, property));\n        });\n      }\n    } else {\n      //Loop over property of the array in order and sort\n      return input.sort(function (a: any, b: any) {\n        for (let i = 0; i < config.length; i++) {\n          const desc = config[i].substr(0, 1) === '-';\n          const property = config[i].substr(0, 1) === '+' || config[i].substr(0, 1) === '-'\n            ? config[i].substr(1)\n            : config[i];\n\n          const comparison = !desc\n            ? OrderByPipe._orderByComparator(OrderByPipe._getDeepValue(a, property), OrderByPipe._getDeepValue(b, property))\n            : -OrderByPipe._orderByComparator(OrderByPipe._getDeepValue(a, property), OrderByPipe._getDeepValue(b, property));\n\n          //Don't return 0 yet in case of needing to sort by next property\n          if (comparison !== 0) { return comparison; }\n        }\n\n        return 0; //equal each other\n      });\n    }\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n@Pipe({name: 'erPercent'})\nexport class PercentPipe implements PipeTransform {\n\n  transform(num: number) {\n    if (num && CommonsUtils.isNumber(num)) {\n      return `${num * 100}%`;\n    }\n    return num;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\n\n@Pipe({name: 'erSafeHtml'})\nexport class SafeHtmlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {\n  }\n\n  transform(content, type?) {\n    if (!content) {\n      return '';\n    }\n    switch (type) {\n      case 'url':\n        return this.sanitizer.bypassSecurityTrustUrl(content);\n      case 'resource':\n        return this.sanitizer.bypassSecurityTrustResourceUrl(content);\n      case 'style':\n        return this.sanitizer.bypassSecurityTrustStyle(content);\n      case 'script':\n        return this.sanitizer.bypassSecurityTrustScript(content);\n      default:\n        return this.sanitizer.bypassSecurityTrustHtml(content);\n    }\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'split'})\nexport class SplitPipe implements PipeTransform {\n  transform(data: string, seperator?: string) {\n    if (data) {\n      return data.split(seperator ? seperator : ',');\n    }\n    return [];\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {Style} from '@er/types';\n\n\n@Pipe({name: 'erStyle'})\nexport class StylePipe implements PipeTransform {\n  transform(src: string | Style) {\n    if (typeof src === 'string') {\n      return src;\n    } else {\n      return JSON.stringify(src);\n    }\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n@Pipe({\n  name: 'erSub'\n})\nexport class SubPipe implements PipeTransform {\n  transform(value: any, start?: number, end?: number) {\n    if (!value) { return; }\n    const iStart = start || 0;\n    let iEnd = end;\n    if (CommonsUtils.isString(value)) {\n      if (!iEnd) { iEnd = value.length; }\n      return value.substr(iStart, iEnd) + '...';\n    } else if (CommonsUtils.isArray(value)) {\n      if (!iEnd) { iEnd = value.length; }\n      return (<any[]>value).slice(iStart, iEnd);\n    }\n    return value;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n@Pipe({name: 'erText'})\nexport class TextPipe implements PipeTransform {\n  transform(data: any) {\n    return CommonsUtils.getText(data);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {Observable, timer} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\n@Pipe({\n  name: 'erTimer'\n})\nexport class TimerPipe implements PipeTransform {\n\n  transform(start?: Date): Observable<Date> {\n    if (!start) {\n      start = new Date();\n    }\n   return timer(0, 1000)\n      .pipe(\n        map(() => {\n          start.setSeconds(start.getSeconds() + 1);\n          return new Date(start.getTime());\n        })\n      );\n  }\n}\n","import {ChangeDetectorRef, Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\nimport {BehaviorSubject, Observable, timer} from 'rxjs';\nimport {mapTo, scan, startWith, switchMap, tap} from 'rxjs/operators';\n\n@Pipe({\n  name: 'erTracker'\n})\nexport class TrackerPipe implements PipeTransform {\n\n  currentNumber = 0;\n\n  counter$ = new BehaviorSubject<number>(0);\n\n  constructor(private cd: ChangeDetectorRef) {\n    //   .subscribe();\n  }\n\n  transform(number: number, offset: number = 20): Observable<number> {\n    this.currentNumber = number - CommonsUtils.getRandomNumber(offset);\n    this.counter$.next(this.currentNumber);\n    this.counter$\n      .pipe(\n        switchMap(endRange => {\n          return timer(1000, 200)\n            .pipe(\n              mapTo(this.positiveOrNegative(endRange, this.currentNumber)),\n              startWith(this.currentNumber),\n              scan((acc, curr) => acc + curr),\n              tap(n => console.log(n))\n              //  takeWhile(this.takeUntil(endRange, this.currentNumber))\n            );\n        })\n      ).subscribe(() => this.cd.detectChanges());\n    return this.counter$;\n  }\n\n  private positiveOrNegative(endRange, currentNumber) {\n    return endRange > currentNumber ? 1 : -1;\n  }\n\n  private takeUntil(endRange, currentNumber) {\n    return endRange > currentNumber\n      ? val => val <= endRange\n      : val => val >= endRange;\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {TreeUtils} from '@er/utils';\n\n@Pipe({name: 'erTreeNodes'})\nexport class TreeNodesPipe implements PipeTransform {\n\n  transform(items, keyMap) {\n    if (!items) {\n      return items;\n    }\n    return TreeUtils.transNodes(items, keyMap);\n  }\n}","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n\n@Pipe({\n  name: 'unique'\n})\nexport class UniquePipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    if (value !== undefined && value !== null) {\n      return CommonsUtils.unique(value, args);\n    }\n    return value;\n  }\n\n}\n","import {ElementRef, Pipe, PipeTransform} from '@angular/core';\n\n\n@Pipe({\n  name: 'erUnitNumber'\n})\n\nexport class UnitNumberPipe implements PipeTransform {\n\n  constructor(private ele: ElementRef) {\n  }\n\n  transform(value: number, decimal?: number): string {\n\n    if (!value) {\n      return null;\n    }\n\n    if (typeof value === 'string') {\n      value = parseFloat(value);\n    }\n\n    let number, suffix;\n    const numeral = [\n      {thresholds: 1, suffix: ''},\n      {thresholds: 1e3, suffix: 'K'},\n      {thresholds: 1e6, suffix: 'M'},\n      {thresholds: 1e9, suffix: 'B'},\n      {thresholds: 1e12, suffix: 'T'},\n      {thresholds: 1e15, suffix: 'Q'}\n    ];\n    for (let i = numeral.length - 1; i >= 0; i--) {\n      if (value >= numeral[i].thresholds) {\n        number = value / numeral[i].thresholds;\n        suffix = numeral[i].suffix;\n        break;\n      }\n    }\n    if (value > 1e3) {\n      if (!decimal) {\n        if (number < 10) {\n          number = number.toFixed(1);\n        } else {\n          number = number.toFixed(0);\n        }\n      } else {\n        if (decimal === 0 || decimal === 1 || decimal === 2) {\n          number = number.toFixed(decimal);\n        } else {\n          throw new Error('must be integer 0, 1 or 2');\n        }\n      }\n    } else {\n      if (decimal === 0 || decimal === 1 || decimal === 2) {\n        number = number.toFixed(decimal);\n      } else {\n        number = Math.round(number);\n      }\n    }\n    // add hint of original value\n    // this.ele.nativeElement;\n\n    return number + suffix;\n  }\n}\n\n\n","import {ChangeDetectorRef, NgZone, OnDestroy, Pipe, PipeTransform} from '@angular/core';\nimport {DateUtils} from '@er/utils';\n\n@Pipe({\n  name: 'erUpToNow',\n  pure: false\n})\nexport class UpToNowPipe implements PipeTransform, OnDestroy {\n\n  private timer: number;\n\n  constructor(private cd: ChangeDetectorRef, private ngZone: NgZone) {\n  }\n\n  transform(value: any, due?: Date) {\n    const d = DateUtils.toDate(value);\n    if (!d) {\n      return '';\n    }\n    const span = DateUtils.getDateByNow(d, due);\n    this.removeTimer();\n    const timeToUpdate = (Number.isNaN(span.seconds)) ? 1000 : DateUtils.getUpdateSeconds(span.seconds) * 1000;\n    this.timer = this.ngZone.runOutsideAngular(() => {\n      if (typeof window !== 'undefined') {\n        return window.setTimeout(() => {\n          this.ngZone.run(() => this.cd.detectChanges());\n        }, timeToUpdate);\n      }\n      return null;\n    });\n    return span.message;\n  }\n\n  ngOnDestroy(): void {\n    this.removeTimer();\n  }\n\n  private removeTimer() {\n    if (this.timer) {\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }\n\n\n}\n\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\n@Pipe({name: 'erValue'})\nexport class ValuePipe implements PipeTransform {\n  transform(data: {}, key: string | string[]) {\n    if (CommonsUtils.isJson(data)) {\n      if (key) {\n        return CommonsUtils.get(data, key) || '';\n      } else {\n        return CommonsUtils.toString(data);\n      }\n    } else {\n      return CommonsUtils.toString(data) || '';\n    }\n  }\n}\n","import {KeyValuePipe} from './as-list/pipe';\nimport {Base64DecodePipe} from './base64/pipe';\nimport {CommaSeparatedNumberPipe} from './comma-separate/pipe';\nimport {DataItemsPipe} from './data-items/pipe';\nimport {DefaultPipe} from './default/pipe';\nimport {EmojifyPipe} from './emojify/pipe';\nimport {FilterPipe} from './filter/pipe';\nimport {HighLightPipe} from './high-light/pipe';\nimport {IdCardPipe} from './id-card/pipe';\nimport {JoinPipe} from './join/pipe';\nimport {LinkifyPipe} from './linky/pipe';\nimport {KeysPipe} from './map-keys/pipe';\nimport {NumberToTextPipe} from './number-text/pipe';\nimport {ObservablePipe} from './observable/pipe';\nimport {OrderByPipe} from './order/pipe';\nimport {PercentPipe} from './percent/pipe';\nimport {SafeHtmlPipe} from './safe/pipe';\nimport {SplitPipe} from './split/pipe';\nimport {StylePipe} from './style/pipe';\nimport {SubPipe} from './sub/pipe';\nimport {TextPipe} from './text/pipe';\nimport {TimerPipe} from './timer/pipe';\nimport {TrackerPipe} from './tracker/pipe';\nimport {TreeNodesPipe} from './tree-nodes/pipe';\nimport {UniquePipe} from './unique/pipe';\nimport {UnitNumberPipe} from './unit-number/pipe';\nimport {UpToNowPipe} from './up-to-now/pipe';\nimport {ValuePipe} from './value/pipe';\n\nexport {FilterPipe} from './filter/pipe';\nexport {HighLightPipe} from './high-light/pipe';\nexport {KeysPipe} from './map-keys/pipe';\nexport {SafeHtmlPipe} from './safe/pipe';\nexport {StylePipe} from './style/pipe';\nexport {KeyValuePipe} from './as-list/pipe';\nexport {JoinPipe} from './join/pipe';\nexport {ObservablePipe} from './observable/pipe';\nexport {OrderByPipe} from './order/pipe';\nexport {IdCardPipe} from './id-card/pipe';\nexport {SplitPipe} from './split/pipe';\nexport {UniquePipe} from './unique/pipe';\nexport {Base64DecodePipe} from './base64/pipe';\nexport {CommaSeparatedNumberPipe} from './comma-separate/pipe';\nexport {LinkifyPipe} from './linky/pipe';\nexport {NumberToTextPipe} from './number-text/pipe';\nexport {UnitNumberPipe} from './unit-number/pipe';\nexport {DataItemsPipe} from './data-items/pipe';\nexport {TreeNodesPipe} from './tree-nodes/pipe';\nexport {PercentPipe} from './percent/pipe';\nexport {SubPipe} from './sub/pipe';\nexport {TextPipe} from './text/pipe';\nexport {TimerPipe} from './timer/pipe';\nexport {UpToNowPipe} from './up-to-now/pipe';\nexport {ValuePipe} from './value/pipe';\nexport {DefaultPipe} from './default/pipe';\nexport {TrackerPipe} from './tracker/pipe';\nexport {EmojifyPipe} from './emojify/pipe';\n\nexport const CorePipes = [\n  UpToNowPipe,\n  Base64DecodePipe,\n  CommaSeparatedNumberPipe,\n  LinkifyPipe,\n  NumberToTextPipe,\n  UnitNumberPipe,\n  SubPipe,\n  EmojifyPipe,\n  IdCardPipe,\n  ObservablePipe,\n  StylePipe,\n  SafeHtmlPipe,\n  HighLightPipe,\n  FilterPipe,\n  TrackerPipe,\n  KeyValuePipe,\n  KeysPipe,\n  DataItemsPipe,\n  TreeNodesPipe,\n  JoinPipe,\n  OrderByPipe,\n  SplitPipe,\n  UniquePipe,\n  StylePipe,\n  TextPipe,\n  ValuePipe,\n  DefaultPipe,\n  TimerPipe,\n  PercentPipe\n];\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Route, RouterStateSnapshot} from '@angular/router';\nimport {AuthUtils} from '../../utils/auth';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    const url: string = state.url;\n    return AuthUtils.checkLogin(url);\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    return this.canActivate(route, state);\n  }\n\n  canLoad(route: Route): boolean {\n    const url = `/${route.path}`;\n    return AuthUtils.checkLogin(url);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {CanDeactivate} from '@angular/router';\nimport {ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router/src/router_state';\nimport {Observable} from 'rxjs';\n\nexport interface CanDeactivateComponent {\n  canDeactivate: () => Observable<boolean> | boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeactivateGuard implements CanDeactivate<CanDeactivateComponent> {\n  canDeactivate(component: CanDeactivateComponent, currentRoute: ActivatedRouteSnapshot, currentState: RouterStateSnapshot) {\n    return component.canDeactivate ? component.canDeactivate() : true;\n  }\n}\n","import {LocationStrategy, PathLocationStrategy} from '@angular/common';\nimport {ErrorHandler, Injectable, Injector, NgZone} from '@angular/core';\nimport {DomUtils} from '@er/utils';\nimport {LogService} from '../log/service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GlobalErrorHandler implements ErrorHandler {\n\n  private logService: LogService;\n  private location: LocationStrategy;\n\n  constructor(private injector: Injector,\n              private zone: NgZone) {\n    this.logService = injector.get(LogService);\n    this.location = injector.get(LocationStrategy);\n  }\n\n  handleError(error) {\n    const message = error.message ? error.message : error.toString();\n    const url = this.location instanceof PathLocationStrategy\n      ? this.location.path() : '';\n    this.logService.error(this, message, url, DomUtils.resolveUserAgent());\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {PreloadingStrategy, Route} from '@angular/router';\nimport {Observable, of} from 'rxjs';\nimport {LogUtils} from '../../utils/log';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigurablePreloadingStrategy implements PreloadingStrategy {\n  preloadedModules: string[] = [];\n\n  preload(route: Route, load: () => Observable<any>): Observable<any> {\n    if (route.data && route.data['preload']) {\n\n      this.preloadedModules.push(route.path);\n\n      LogUtils.debug('Preloaded: ', route.path);\n\n      return load();\n    } else {\n      return of(null);\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport {ErRouteData} from '@er/types';\nimport {CommonsUtils} from '@er/utils';\nimport {EMPTY, Observable, of} from 'rxjs';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PathPropsDataResolver implements Resolve<{}> {\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<{}> {\n    const routeData: ErRouteData = route.data;\n    if (routeData) {\n      if (!CommonsUtils.isEmpty(routeData)) {\n        const pathValues = route.url.map(seg => seg.path);\n        if (routeData['$props']) {\n          return of(CommonsUtils.get(routeData['$props'], pathValues.join('.')));\n        }\n      }\n    }\n    if (routeData.resource) {\n      // return forkJoin([]).pipe(\n      //   map(results => ({\n      //     tree: results[0],\n      //     table: results[1]\n      //   }))\n    }\n    return EMPTY;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\n\n/**\n * resolve page model from router\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResourceResolver implements Resolve<any> {\n\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<{ [resourceKey: string]: any }> {\n    if (!route.data || !route.data['props']) { return; }\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {NavigationCancel, NavigationEnd, NavigationError, NavigationStart, Router, RouterEvent} from '@angular/router';\nimport {StateNames} from '@er/types';\nimport {StatesUtils} from '@er/utils';\nimport {RouteUtils} from '../../utils/nav';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RouterStateService {\n\n  constructor(private router: Router) {\n    router.events.subscribe((event: RouterEvent) => {\n      this.navigationInterceptor(event);\n    });\n  }\n\n  private navigationInterceptor(event: RouterEvent) {\n\n    const activeRoute = RouteUtils.getActiveRoute();\n\n    if (event instanceof NavigationStart) {\n      StatesUtils.create(StateNames.nav, {\n        start: true,\n        url: activeRoute.url,\n        outlet: activeRoute.outlet,\n        route: activeRoute\n      });\n    }\n\n    if (event instanceof NavigationEnd) {\n      StatesUtils.update(StateNames.nav, {\n        start: false,\n        status: 'success',\n        url: activeRoute.url,\n        outlet: activeRoute.outlet,\n        route: activeRoute\n      });\n      StatesUtils.update(StateNames.currentRoute, {activeRoute});\n      const title = activeRoute.data && activeRoute.data['title'];\n      if (title) {\n        StatesUtils.update(StateNames.appTitle, {title});\n      }\n    }\n\n    if (event instanceof NavigationCancel) {\n      StatesUtils.update(StateNames.nav, {\n        start: false,\n        status: 'cancel',\n        url: activeRoute.url,\n        outlet: activeRoute.outlet,\n        route: activeRoute\n      });\n    }\n\n    if (event instanceof NavigationError) {\n      StatesUtils.update(StateNames.nav, {\n        start: false,\n        status: 'error',\n        url: activeRoute.url,\n        outlet: activeRoute.outlet,\n        route: activeRoute\n      });\n    }\n  }\n}\n","import {Inject, Injectable, InjectionToken, OnDestroy, Optional} from '@angular/core';\nimport {Title} from '@angular/platform-browser';\nimport {ScheduledTask, StateNames, Task} from '@er/types';\nimport {CommonsUtils, ConfigUtils, StatesUtils} from '@er/utils';\nimport {Subscription, timer} from 'rxjs';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {DiUtils} from '../../utils/di';\n\nexport const BACKGROUND_TASK_TOKEN = new InjectionToken<Task>('BACKGROUND_TASK_TOKEN');\n\n/**\n * used to run background task globally\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaskService implements OnDestroy {\n\n  subs: Subscription[] = [];\n\n  constructor(@Optional() @Inject(BACKGROUND_TASK_TOKEN) tasks: Task[] = []) {\n    StatesUtils.create(StateNames.appTitle, ConfigUtils.getConfig().appTitle, true);\n    setTimeout(() => {\n      this.cleanStates();\n      const _tasks = CommonsUtils.flatten(tasks);\n      if (_tasks && _tasks.length > 0) {\n        _tasks.forEach(task => this.startTask(<Task>task));\n      }\n    }, 2000);\n  }\n\n  updateTitle() {\n    this.subs.push(\n      StatesUtils.observe(StateNames.appTitle)\n        .pipe(\n          filter(state => state && state.hasOwnProperty('title')),\n          map(state => state.title),\n          distinctUntilChanged()\n        )\n        .subscribe(title => {\n          DiUtils.get<Title>(Title).setTitle(title);\n        })\n    );\n  }\n\n  cleanStates() {\n    this.subs.push(\n      timer(30000, 30000)\n        .subscribe(() => {\n          let store = StatesUtils.getStore().value;\n          Object.keys(store).forEach(key => {\n            if (store[key]) {\n              if (!store[key].preserved && (store[key].state && store[key].state.observers.length === 0)) {\n                store = CommonsUtils.omit(store, key);\n              }\n            }\n          });\n          StatesUtils.getStore().next(store);\n        })\n    );\n  }\n\n  startTask(task: Task) {\n    if (CommonsUtils.isFunction(task)) {\n      (task as Function)();\n    } else {\n      const schedule = task as ScheduledTask;\n      let context = schedule.context;\n      if (CommonsUtils.isFunction(schedule.context)) {\n        context = schedule.context();\n      }\n      if (schedule.interval) {\n        this.subs.push(\n          timer(0, schedule.interval)\n            .subscribe(() => {\n              schedule.run(context);\n            })\n        );\n      } else {\n        schedule.run(context);\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subs.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n}\n","import {AuthGuard, DeactivateGuard} from './auth/guards';\nimport {GlobalErrorHandler} from './error/service';\nimport {LogService} from './log/service';\nimport {ConfigurablePreloadingStrategy} from './pre-loading/service';\nimport {PathPropsDataResolver} from './resolver/page-model/service';\nimport {ResourceResolver} from './resource/service';\nimport {RouterStateService} from './router/service';\nimport {TaskService} from './task/service';\n\nexport {GlobalErrorHandler} from './error/service';\nexport {AuthGuard, DeactivateGuard} from './auth/guards';\nexport {ConfigurablePreloadingStrategy} from './pre-loading/service';\nexport {TaskService, BACKGROUND_TASK_TOKEN} from './task/service';\nexport {RouterStateService} from './router/service';\nexport {ResourceResolver} from './resource/service';\nexport {LogService} from './log/service';\nexport {PathPropsDataResolver} from './resolver/page-model/service';\n\nexport const CoreServices = [\n  LogService,\n  ResourceResolver,\n  TaskService,\n  RouterStateService,\n  AuthGuard,\n  DeactivateGuard,\n  GlobalErrorHandler,\n  ConfigurablePreloadingStrategy,\n  PathPropsDataResolver\n];\n","import {Title} from '@angular/platform-browser';\nimport {StateNames} from '@er/types';\nimport {StatesUtils} from '@er/utils';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {DiUtils} from '../utils/di';\n\nexport const updateTitleTask = function () {\n  StatesUtils.observe(StateNames.appTitle)\n    .pipe(\n      filter(appTitle => appTitle && appTitle.hasOwnProperty('title')),\n      map(appTitle => appTitle.title),\n      distinctUntilChanged()\n    )\n    .subscribe(title => {\n      DiUtils.get<Title>(Title).setTitle(title);\n    });\n};\n","import {updateTitleTask} from './update-title';\n\nexport {updateTitleTask} from './update-title';\n\nexport const CORE_TASKS = [\n  updateTitleTask\n];\n","import {Component, Directive, Pipe, Type} from '@angular/core';\nimport 'reflect-metadata';\n\nexport type AllDecorators = Directive & Component & Pipe;\n\nexport class AnnotationsUtils {\n\n  static getFor(type: Type<any>): AllDecorators {\n    const annotations = Reflect.getOwnMetadata('design:type', type);\n\n    if (!Array.isArray(annotations)) {\n      throw Error(`Annotations: Annotations not available for type '${type.name}'`);\n    }\n\n    return annotations[0];\n  }\n\n  static getForDirective(type: Type<any>): Directive {\n    return AnnotationsUtils.getFor(type);\n  }\n\n  static getForComponent(type: Type<any>): Component {\n    return AnnotationsUtils.getFor(type);\n  }\n\n  static getForPipe(type: Type<any>): Pipe {\n    return AnnotationsUtils.getFor(type);\n  }\n\n}\n","import {ApiDataProps, ApiPayload, Order} from '@er/types';\nimport {CommonsUtils, DialogUtils, StatesUtils} from '@er/utils';\nimport * as esb from 'elastic-builder';\nimport {Query} from 'elastic-builder';\nimport {Observable, throwError} from 'rxjs';\nimport {map, tap} from 'rxjs/operators';\nimport {ApiUtils} from '../api';\n\nexport interface NextSeqProps {\n  apiEntry?: string;\n  parent?: string;\n  query?: Query | Query[];\n  parentKey?: string;\n  seqKey?: string;\n  seqLen?: number;\n  withParent?: boolean;\n}\n\nexport interface DistinctValueProps {\n  apiProps?: ApiDataProps;\n  id?: any;\n}\n\nexport class DataUtils {\n\n  static DEFAULT_ROOT_SEQ = '001';\n\n  static DEFAULT_PROPS: NextSeqProps = {\n    parentKey: 'parent.code',\n    seqKey: 'code',\n    seqLen: 3\n  };\n\n  static getNextValue(options: NextSeqProps): Observable<any> {\n    const opt: NextSeqProps = CommonsUtils.defaults(options || {}, DataUtils.DEFAULT_PROPS);\n    const q = CommonsUtils.getArrayValue(opt.query) || [];\n    if (opt.parent) {\n      q.push(esb.termQuery(opt.parentKey, opt.parent));\n    }\n    return ApiUtils.getByQuery(`${opt.apiEntry}`, <ApiPayload>{\n      query: q,\n      sort: {[opt.seqKey]: Order.DESC},\n      size: 1\n    }).pipe(\n      map((data: any) => {\n        const prefix = '0'.repeat(opt.seqLen);\n        let next = 1;\n        if (data.total !== 0) {\n          const last = data.items[0];\n          if (last[opt.seqKey]) {\n            next = parseInt(last[opt.seqKey].replace(/^0+/, '')) + 1;\n          } else {\n            DialogUtils.error('éè¯¯', 'æ æ³çææ°çåºåå·');\n            throwError('æ æ³çææ°çåºåå·');\n          }\n        }\n        const seq = (prefix + next).slice(-prefix.length);\n        if (opt.withParent && opt.parent) {\n          return opt.parent + seq;\n        } else {\n          return seq;\n        }\n      })\n    );\n  }\n\n  static checkDistinct(props: DistinctValueProps): Observable<boolean> {\n    const result$ = ApiUtils.fetch({\n      ...props.apiProps,\n      size: 2\n    }).pipe(\n      map((data) => !data.items || data.items.length === 0 ||\n        (data.items.length === 1 && data.items[0]['id'] === props.id)),\n      tap(distinct => {\n        if (!distinct) {\n          DialogUtils.error('éªè¯å¤±è´¥', `æ°å¼ã${props.apiProps.queryValue}ãå·²ç»å­å¨ï¼è¯·ä¿®æ¹ååæ§è¡æ¬æä½ï¼`);\n        }\n      })\n    );\n    return result$;\n  }\n\n  static onNodeSelect(event, keyOrQuery) {\n    const treeProps = event['$from'].$props;\n    const tableId = CommonsUtils.get(treeProps, '$ext.$container.table.$id');\n    if (tableId) {\n      let q = keyOrQuery;\n      const nodeCode = event.node.data && event.node.data.code;\n      if (nodeCode && CommonsUtils.isString(keyOrQuery)) {\n        q = esb.prefixQuery(keyOrQuery, nodeCode);\n      }\n      StatesUtils.update(tableId, <ApiPayload>{\n        query: nodeCode ? q : esb.matchAllQuery()\n      });\n    }\n  }\n}\n","import {ApiDataProps, DataAttr, DataField, DataType, RegPatterns} from '@er/types';\nimport {CommonsUtils, ConfigUtils} from '@er/utils';\nimport * as esb from 'elastic-builder';\nimport {LogUtils} from '../log';\n\nexport class DataFieldUtils {\n\n  static getFieldDefaultProps(dataField: DataField) {\n    switch (dataField.dataAttr) {\n      case DataAttr.DATA_CODE:\n        return DataFieldUtils.getDataCodeFieldProps(dataField);\n      case DataAttr.URL:\n        dataField.dataType = DataType.STRING;\n        dataField.pattern = RegPatterns.url;\n        break;\n      case DataAttr.PHONE:\n        dataField.dataType = DataType.STRING;\n        dataField.pattern = RegPatterns.phone;\n        break;\n      case DataAttr.ID_CARD:\n        dataField.dataType = DataType.STRING;\n        break;\n      case DataAttr.EMAIL:\n        dataField.dataType = DataType.STRING;\n        dataField.pattern = RegPatterns.email;\n        break;\n      case DataAttr.CURRENCY:\n        dataField.defaultValue = 0;\n        dataField.dataType = DataType.NUMBER;\n        dataField.pattern = RegPatterns.pNumeric;\n        break;\n    }\n    return dataField;\n  }\n\n  static getDefaultFieldName(field: DataField) {\n    if (field) {\n      if (field.defaultKey) {\n        return field.defaultKey;\n      } else {\n        return field.key;\n      }\n    }\n  }\n\n  static getFieldDisplayContent(fieldValue: any, field: DataField) {\n    if (!fieldValue) {\n      return '';\n    }\n    if (field) {\n      if (CommonsUtils.isJson(fieldValue)) {\n        let key;\n        if (field) {\n          key = DataFieldUtils.getDefaultFieldName(field);\n        }\n        if (key) {\n          return CommonsUtils.get(fieldValue, key);\n        } else {\n          const trans = {};\n          Object.keys(fieldValue).forEach(sub => {\n            const label = CommonsUtils.get(field, `fields.${sub}.label`)\n              && CommonsUtils.get(field, `refer.entity.${sub}.label`)\n              && CommonsUtils.get(field, `refer.${sub}.label`);\n            if (label) {\n              trans[label] = fieldValue[sub];\n            } else {\n              trans[sub] = fieldValue[sub];\n            }\n          });\n          fieldValue = trans;\n        }\n      }\n    }\n    if (CommonsUtils.isBoolean(fieldValue)) {\n      return fieldValue ? 'æ¯' : 'å¦';\n    } else {\n      return CommonsUtils.getText(fieldValue);\n    }\n  }\n\n  private static getDataCodeFieldProps(dataField: DataField) {\n    const props = ConfigUtils.getConfig().dataFieldProps.dataCode;\n    if (!dataField.catCode) {\n      LogUtils.error('DataFieldUtils', `dataCodeå­æ®µæ²¡æå®ä¹ãcatCodeãå±æ§`, dataField);\n      return;\n    }\n    return <DataField>{\n      dataType: DataType.JSON,\n      sortKey: props.codeKey,\n      aggKey: props.codeKey,\n      defaultKey: props.nameKey,\n      apiDataProps: <ApiDataProps>{\n        apiEntry: props.apiEntry,\n        searchFields: [props.nameKey, props.codeKey, props.abbrKey],\n        returnFields: [props.nameKey, props.codeKey],\n        query: [\n          esb.termQuery(`${props.catKey}.code`, dataField.catCode),\n          props.inUseKey ? esb.boolQuery().mustNot(esb.termQuery(props.inUseKey, false)) : undefined\n        ],\n        sort: props.codeKey,\n        size: 10\n      },\n      dataItemProps: {\n        labelKey: props.nameKey,\n        valueKey: [props.nameKey, props.codeKey],\n        idKey: props.codeKey,\n        template: (item) => {\n          return `<span><b>${item[props.nameKey]}</b></span>  <span class=\"badge badge-info\"> ${item[props.codeKey]}</span> `;\n        }\n      }\n    };\n  }\n}\n","import {KeyValueChanges} from '@angular/core';\nimport {CommonsUtils} from '@er/utils';\n\nexport class ChangesUtils {\n\n  static getChangeByDiff(diff: KeyValueChanges<any, any>): {\n    changed?: { key: string, value: any, from: any }[],\n    added?: { key: string, value: any }[],\n    deleted?: { key: string, value: any }[]\n  } {\n    if (!diff) { return {}; }\n    const changes = {\n      changed: [],\n      added: [],\n      deleted: []\n    };\n    if (diff) {\n      diff.forEachChangedItem(r => {\n        changes.changed.push({\n          key: r.key,\n          value: r.currentValue,\n          from: r.previousValue\n        });\n      });\n      diff.forEachAddedItem(r => {\n        changes.added.push({\n          key: r.key,\n          value: r.currentValue\n        });\n      });\n      diff.forEachRemovedItem(r => {\n        changes.deleted.push({\n          key: r.key,\n          value: r.previousValue\n        });\n      });\n    }\n    return CommonsUtils.omitBy(changes, CommonsUtils.lodash().isEmpty);\n  }\n}\n","import {ResourceOptions} from '@er/types';\nimport {CommonsUtils, ConfigUtils, StatesUtils} from '@er/utils';\nimport {Observable} from 'rxjs';\nimport {take, tap} from 'rxjs/operators';\nimport {HttpUtils} from '../http';\n\nexport class ResourceUtils {\n\n  static getConfigs(options: ResourceOptions): Observable<any> {\n    let root = '', path;\n    let resourceUri = options.path;\n    const resourcesConfig = {\n      ...ConfigUtils.getConfig().resources,\n      ...options\n    };\n    if (resourcesConfig.root) {\n      if (!resourceUri.startsWith('/')) {\n        root = resourcesConfig.root;\n      } else {\n        resourceUri = resourceUri.substr(1);\n      }\n      if (!resourceUri.endsWith('.json')) {\n        resourceUri += '.json';\n      }\n    } else {\n      root = resourcesConfig.uri;\n    }\n\n    if (options.state) {\n      path = options.state;\n    } else {\n      path = [options.module, options.key];\n    }\n\n    const state = StatesUtils.get(path, true);\n\n    if (!state.value || options.reload) {\n      if (options.initial) {\n        state.next(options.initial);\n      }\n      return HttpUtils.request({\n        uri: `${root}/${resourceUri}`,\n        tag: path,\n        onResponse: (response) => response ? CommonsUtils.restoreJsonFn(response) : null\n      }).pipe(\n        take(1),\n        tap(response => StatesUtils.create(path, response, resourcesConfig.reserve || resourcesConfig.state !== undefined))\n      );\n    } else {\n      return state;\n    }\n  }\n}\n","import {DefaultUrlSerializer, UrlTree} from '@angular/router';\n\nexport class UrlUtils {\n\n  static serializer = new DefaultUrlSerializer();\n\n  static parse(url: string): UrlTree {\n    return UrlUtils.serializer.parse(url.toLowerCase());\n  }\n\n  static serialize(tree: UrlTree): string {\n    return UrlUtils.serialize(tree);\n  }\n}\n","import {ActivatedRouteSnapshot, DetachedRouteHandle} from '@angular/router';\nimport {RouteReuseStrategy} from '@angular/router/';\n\n// https://itnext.io/cache-components-with-angular-routereusestrategy-3e4c8b174d5f\nexport class CachedRouteReuseStrategy implements RouteReuseStrategy {\n  storedRouteHandles = new Map<string, DetachedRouteHandle>();\n  allowRetrieveCache = {};\n\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    if (this.isInOutlet(future['_routerState'].url) || this.isInOutlet(curr['_routerState'].url)) {\n      return future.routeConfig === curr.routeConfig;\n    }\n    return future.routeConfig === curr.routeConfig && (false !== (future.data && future.data.$reuse));\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle | null {\n    return this.storedRouteHandles.get(this.getPath(route)) as DetachedRouteHandle;\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    const path = this.getPath(route);\n    if (this.allowRetrieveCache[path]) {\n      return this.storedRouteHandles.has(this.getPath(route));\n    }\n    return false;\n  }\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    const path = this.getPath(route);\n    if (this.allowRetrieveCache.hasOwnProperty(path)) {\n      return true;\n    }\n    return false;\n  }\n\n  store(route: ActivatedRouteSnapshot, detachedTree: DetachedRouteHandle): void {\n    this.storedRouteHandles.set(this.getPath(route), detachedTree);\n  }\n\n  private isInOutlet(url) {\n    return /.*\\(.*:.*\\).*/.test(url);\n  }\n\n  private getPath(route: ActivatedRouteSnapshot): string {\n    if (route.routeConfig !== null && route.routeConfig.path !== null) {\n      return route.routeConfig.path;\n    }\n    return '';\n  }\n}\n","import {CommonModule} from '@angular/common';\nimport {HttpClientModule} from '@angular/common/http';\nimport {APP_INITIALIZER, InjectionToken, Injector, ModuleWithProviders, NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {RouteReuseStrategy, RouterModule} from '@angular/router';\nimport {ConfigModel, NotifyLevel, NotifyType, StateNames, StompStates} from '@er/types';\nimport {ConfigUtils, StatesUtils} from '@er/utils';\nimport {StompConfig, StompService} from '@stomp/ng2-stompjs';\nimport {DynamicModule} from 'ng-dynamic-component';\nimport {NgPipesModule} from 'ngx-pipes';\nimport {distinctUntilChanged, tap} from 'rxjs/operators';\nimport {CoreComponents} from './components/all';\nimport {CoreDirectives} from './directives/all';\nimport {CoreInterceptors} from './interceptors/all';\nimport {CorePipes} from './pipes/all';\nimport {BACKGROUND_TASK_TOKEN} from './services/all';\nimport {RouterStateService} from './services/router/service';\nimport {CachedRouteReuseStrategy} from './services/strategy/service';\nimport {TaskService} from './services/task/service';\nimport {CORE_TASKS} from './tasks/all';\nimport {DateSyncUtils} from './utils/date-sync';\nimport {DiUtils} from './utils/di';\n\nexport const APP_CONFIG = new InjectionToken<string>('APP_CONFIG');\n\nexport function initialize(appConfig: ConfigModel) {\n  return function () {\n   // ConfigUtils.configApp(appConfig);\n  };\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule,\n    HttpClientModule,\n    NgPipesModule,\n    DynamicModule.withComponents(CoreComponents)\n  ],\n  declarations: [\n    ...CoreComponents,\n    ...CoreDirectives,\n    ...CorePipes\n  ],\n  exports: [\n    CommonModule,\n    RouterModule,\n    HttpClientModule,\n    NgPipesModule,\n    ...CoreComponents,\n    ...CoreDirectives,\n    ...CorePipes\n  ]\n})\nexport class ErCoreModule {\n\n  constructor(private injector: Injector) {\n    if (!DiUtils.injector) {\n      DiUtils.injector = injector;\n      // load services\n      injector.get<RouterStateService>(RouterStateService);\n      injector.get<TaskService>(TaskService);\n      try {\n        const stompService = injector.get<StompService>(StompService);\n        if (stompService && ConfigUtils.getConfig().stomp.enabled) {\n          stompService.state\n            .pipe(\n              distinctUntilChanged(),\n              tap((state: number) => {\n                StatesUtils.update(StateNames.socket, {state: StompStates[state]});\n                StatesUtils.update(StateNames.notify, {\n                  type: state === 0 ? NotifyType.ANNOUNCE : NotifyType.ALERT,\n                  message: `æ¶æ¯æå¡å¨ç¶æï¼${StompStates[state]}`,\n                  level: state === 0 ? NotifyLevel.ERROR : NotifyLevel.INFO\n                });\n              })\n            ).subscribe();\n        }\n      } catch (e) {\n      }\n    }\n  }\n\n  static forRoot(appConfig: ConfigModel): ModuleWithProviders {\n    return {\n      ngModule: ErCoreModule,\n      providers: [\n        {provide: APP_CONFIG, useValue: appConfig},\n        // {\n        //   provide: APP_INITIALIZER,\n        //   useFactory: initialize,\n        //   deps: [APP_CONFIG],\n        //   multi: true\n        // },\n        ...CoreInterceptors,\n        appConfig.stomp.enabled ? StompService : [],\n        appConfig.stomp.enabled ? {provide: StompConfig, useValue: appConfig.stomp} : [],\n        {provide: BACKGROUND_TASK_TOKEN, useValue: DateSyncUtils.start, multi: true},\n        {provide: BACKGROUND_TASK_TOKEN, useValue: CORE_TASKS, multi: true},\n        {\n          provide: RouteReuseStrategy,\n          useClass: CachedRouteReuseStrategy\n        }\n      ]\n    };\n  }\n}\n"],"names":["cacheKey","BehaviorSubject","Observable","Subject","esb.termQuery","esb.prefixQuery","esb.matchAllQuery","esb.boolQuery"],"mappings":"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"}
