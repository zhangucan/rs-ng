/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Pipe } from '@angular/core';
/**
 * @record
 */
function NumbersObject() { }
export class NumberToTextPipe {
    constructor() {
        this.numbers = {
            0: '',
            '00': '',
            '000': '',
            1: 'one',
            2: 'two',
            3: 'three',
            4: 'four',
            5: 'five',
            6: 'six',
            7: 'seven',
            8: 'eight',
            9: 'nine',
            10: 'ten',
            11: 'eleven',
            12: 'twelve',
            13: 'thirteen',
            14: 'fourteen',
            15: 'fifteen',
            16: 'sixteen',
            17: 'seventeen',
            18: 'eighteen',
            19: 'nineteen',
            20: 'twenty',
            30: 'thirty',
            40: 'forty',
            50: 'fifty',
            60: 'sixty',
            70: 'seventy',
            80: 'eighty',
            90: 'ninety'
        };
    }
    /**
     * @param {?} value
     * @return {?}
     */
    transform(value) {
        /** @type {?} */
        let numberWords = [];
        if (typeof value !== 'string') {
            value = value.toString();
        }
        if (value.indexOf(',') > -1) {
            /** @type {?} */
            const re = new RegExp(',', 'g');
            value = value.replace(re, '');
        }
        /** @type {?} */
        let numLength = value.length;
        /** @type {?} */
        let numberString = '';
        /** @type {?} */
        let divide = Math.ceil(value.length / 3);
        /** @type {?} */
        let splits = [];
        for (let i = 0; i < divide; i++) {
            if (value.length % 3 === 2) {
                splits.push([value[0], value[1]]);
                value = value.substring(2);
            }
            else if (value.length % 3 === 1) {
                splits.push([value[0]]);
                value = value.substring(1);
            }
            else {
                splits.push([value[0], value[1], value[2]]);
                value = value.substring(3);
            }
        }
        switch (divide) {
            case 2: {
                numberWords = ['thousand'];
                break;
            }
            case 3: {
                numberWords = ['million', 'thousand'];
                break;
            }
            case 4: {
                numberWords = ['billion', 'million', 'thousand'];
                break;
            }
            case 5: {
                numberWords = ['trillion', 'billion', 'million', 'thousand'];
                break;
            }
        }
        for (let i = 0; i < splits.length; i++) {
            if (numberWords.length > 0) {
                switch (splits[i].length) {
                    case 1:
                        numberString += this.numbers[splits[i][0]] + ' ' + numberWords[0];
                        break;
                    case 2:
                        if (this.numbers[splits[i][0].toString() + splits[i][1].toString()] !== undefined) {
                            numberString += this.numbers[splits[i][0].toString() + splits[i][1].toString()] + ' ' + numberWords[0];
                        }
                        else {
                            numberString += this.numbers[splits[i][0] + '0'] + ' ' + this.numbers[splits[i][1]] + ' ' + numberWords[0];
                        }
                        break;
                    case 3:
                        if (this.numbers[splits[i][0].toString() + splits[i][1].toString() + splits[i][2].toString()] !== undefined) {
                            numberString = numberString.substring(0, numberString.length - 1);
                            break;
                        }
                        else if (this.numbers[splits[i][1].toString() + splits[i][2].toString()] !== undefined) {
                            //Need to properly handle spaces when its double 00's
                            if (splits[i][1].toString() + splits[i][2].toString() === '00') {
                                numberString += this.numbers[splits[i][0]] + ' hundred' + ' ' + numberWords[0];
                            }
                            else {
                                numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1].toString() + splits[i][2].toString()] + ' ' + numberWords[0];
                            }
                        }
                        else {
                            numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1] + '0'] + ' ' + this.numbers[splits[i][2]] + ' ' + numberWords[0];
                        }
                        break;
                }
                numberWords.shift();
                numberString += ' ';
            }
            else {
                switch (splits[i].length) {
                    case 1:
                        if (splits[i][0] === '0') {
                            numberString += 'zero';
                        }
                        else {
                            numberString += this.numbers[splits[i][0]];
                        }
                        break;
                    case 2:
                        if (this.numbers[splits[i][0].toString() + splits[i][1].toString()] !== undefined) {
                            numberString += this.numbers[splits[i][0].toString() + splits[i][1].toString()];
                        }
                        else {
                            numberString += this.numbers[splits[i][0] + '0'] + ' ' + this.numbers[splits[i][1]];
                        }
                        break;
                    case 3:
                        if (this.numbers[splits[i][0].toString() + splits[i][1].toString() + splits[i][2].toString()] !== undefined) {
                            numberString = numberString.substring(0, numberString.length - 1);
                            break;
                        }
                        else if (this.numbers[splits[i][1].toString() + splits[i][2].toString()] !== undefined) {
                            numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1].toString() + splits[i][2].toString()];
                        }
                        else {
                            numberString += this.numbers[splits[i][0]] + ' hundred ' + this.numbers[splits[i][1] + '0'] + ' ' + this.numbers[splits[i][2]];
                        }
                        break;
                }
            }
        }
        return numberString;
    }
}
NumberToTextPipe.decorators = [
    { type: Pipe, args: [{ name: 'erNumberToText' },] }
];
if (false) {
    /**
     * @type {?}
     * @private
     */
    NumberToTextPipe.prototype.numbers;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlwZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Blci9jb3JlLyIsInNvdXJjZXMiOlsibGliL3BpcGVzL251bWJlci10ZXh0L3BpcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBQyxJQUFJLEVBQWdCLE1BQU0sZUFBZSxDQUFDOzs7O0FBRWxELDRCQUdDO0FBR0QsTUFBTSxPQUFPLGdCQUFnQjtJQUQ3QjtRQUdVLFlBQU8sR0FBa0I7WUFDL0IsQ0FBQyxFQUFFLEVBQUU7WUFDTCxJQUFJLEVBQUUsRUFBRTtZQUNSLEtBQUssRUFBRSxFQUFFO1lBQ1QsQ0FBQyxFQUFFLEtBQUs7WUFDUixDQUFDLEVBQUUsS0FBSztZQUNSLENBQUMsRUFBRSxPQUFPO1lBQ1YsQ0FBQyxFQUFFLE1BQU07WUFDVCxDQUFDLEVBQUUsTUFBTTtZQUNULENBQUMsRUFBRSxLQUFLO1lBQ1IsQ0FBQyxFQUFFLE9BQU87WUFDVixDQUFDLEVBQUUsT0FBTztZQUNWLENBQUMsRUFBRSxNQUFNO1lBQ1QsRUFBRSxFQUFFLEtBQUs7WUFDVCxFQUFFLEVBQUUsUUFBUTtZQUNaLEVBQUUsRUFBRSxRQUFRO1lBQ1osRUFBRSxFQUFFLFVBQVU7WUFDZCxFQUFFLEVBQUUsVUFBVTtZQUNkLEVBQUUsRUFBRSxTQUFTO1lBQ2IsRUFBRSxFQUFFLFNBQVM7WUFDYixFQUFFLEVBQUUsV0FBVztZQUNmLEVBQUUsRUFBRSxVQUFVO1lBQ2QsRUFBRSxFQUFFLFVBQVU7WUFDZCxFQUFFLEVBQUUsUUFBUTtZQUNaLEVBQUUsRUFBRSxRQUFRO1lBQ1osRUFBRSxFQUFFLE9BQU87WUFDWCxFQUFFLEVBQUUsT0FBTztZQUNYLEVBQUUsRUFBRSxPQUFPO1lBQ1gsRUFBRSxFQUFFLFNBQVM7WUFDYixFQUFFLEVBQUUsUUFBUTtZQUNaLEVBQUUsRUFBRSxRQUFRO1NBQ2IsQ0FBQztJQXdISixDQUFDOzs7OztJQXRIQyxTQUFTLENBQUMsS0FBc0I7O1lBQzFCLFdBQVcsR0FBa0IsRUFB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QyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt5QkFDaEk7d0JBRUQsTUFBTTtpQkFDVDthQUNGO1NBQ0Y7UUFFRCxPQUFPLFlBQVksQ0FBQztJQUN0QixDQUFDOzs7WUF6SkYsSUFBSSxTQUFDLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFOzs7Ozs7O0lBRzlCLG1DQStCRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UGlwZSwgUGlwZVRyYW5zZm9ybX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmludGVyZmFjZSBOdW1iZXJzT2JqZWN0IHtcbiAgW2tleTogbnVtYmVyXTogc3RyaW5nO1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmc7XG59XG5cbkBQaXBlKHsgbmFtZTogJ2VyTnVtYmVyVG9UZXh0JyB9KVxuZXhwb3J0IGNsYXNzIE51bWJlclRvVGV4dFBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcblxuICBwcml2YXRlIG51bWJlcnM6IE51bWJlcnNPYmplY3QgPSB7XG4gICAgMDogJycsXG4gICAgJzAwJzogJycsXG4gICAgJzAwMCc6ICcnLFxuICAgIDE6ICdvbmUnLFxuICAgIDI6ICd0d28nLFxuICAgIDM6ICd0aHJlZScsXG4gICAgNDogJ2ZvdXInLFxuICAgIDU6ICdmaXZlJyxcbiAgICA2OiAnc2l4JyxcbiAgICA3OiAnc2V2ZW4nLFxuICAgIDg6ICdlaWdodCcsXG4gICAgOTogJ25pbmUnLFxuICAgIDEwOiAndGVuJyxcbiAgICAxMTogJ2VsZXZlbicsXG4gICAgMTI6ICd0d2VsdmUnLFxuICAgIDEzOiAndGhpcnRlZW4nLFxuICAgIDE0OiAnZm91cnRlZW4nLFxuICAgIDE1OiAnZmlmdGVlbicsXG4gICAgMTY6ICdzaXh0ZWVuJyxcbiAgICAxNzogJ3NldmVudGVlbicsXG4gICAgMTg6ICdlaWdodGVlbicsXG4gICAgMTk6ICduaW5ldGVlbicsXG4gICAgMjA6ICd0d2VudHknLFxuICAgIDMwOiAndGhpcnR5JyxcbiAgICA0MDogJ2ZvcnR5JyxcbiAgICA1MDogJ2ZpZnR5JyxcbiAgICA2MDogJ3NpeHR5JyxcbiAgICA3MDogJ3NldmVudHknLFxuICAgIDgwOiAnZWlnaHR5JyxcbiAgICA5MDogJ25pbmV0eSdcbiAgfTtcblxuICB0cmFuc2Zvcm0odmFsdWU6IG51bWJlciB8IHN0cmluZykge1xuICAgIGxldCBudW1iZXJXb3JkczogQXJyYXk8U3RyaW5nPiA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUuaW5kZXhPZignLCcpID4gLTEpIHtcbiAgICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cCgnLCcsICdnJyk7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmUsICcnKTtcbiAgICB9XG5cbiAgICBsZXQgbnVtTGVuZ3RoID0gdmFsdWUubGVuZ3RoLFxuICAgICAgbnVtYmVyU3RyaW5nID0gJycsXG4gICAgICBkaXZpZGUgPSBNYXRoLmNlaWwodmFsdWUubGVuZ3RoIC8gMyksXG4gICAgICBzcGxpdHMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGl2aWRlOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggJSAzID09PSAyKSB7XG4gICAgICAgIHNwbGl0cy5wdXNoKFt2YWx1ZVswXSwgdmFsdWVbMV1dKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMik7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCAlIDMgPT09IDEpIHtcbiAgICAgICAgc3BsaXRzLnB1c2goW3ZhbHVlWzBdXSk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaXRzLnB1c2goW3ZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl1dKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoIChkaXZpZGUpIHtcbiAgICAgIGNhc2UgMjoge1xuICAgICAgICBudW1iZXJXb3JkcyA9IFsndGhvdXNhbmQnXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIDM6IHtcbiAgICAgICAgbnVtYmVyV29yZHMgPSBbJ21pbGxpb24nLCAndGhvdXNhbmQnXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIDQ6IHtcbiAgICAgICAgbnVtYmVyV29yZHMgPSBbJ2JpbGxpb24nLCAnbWlsbGlvbicsICd0aG91c2FuZCddO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgNToge1xuICAgICAgICBudW1iZXJXb3JkcyA9IFsndHJpbGxpb24nLCAnYmlsbGlvbicsICdtaWxsaW9uJywgJ3Rob3VzYW5kJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGxpdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChudW1iZXJXb3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN3aXRjaCAoc3BsaXRzW2ldLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIG51bWJlclN0cmluZyArPSB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzBdXSArICcgJyArIG51bWJlcldvcmRzWzBdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgaWYgKHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMF0udG9TdHJpbmcoKSArIHNwbGl0c1tpXVsxXS50b1N0cmluZygpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIG51bWJlclN0cmluZyArPSB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzBdLnRvU3RyaW5nKCkgKyBzcGxpdHNbaV1bMV0udG9TdHJpbmcoKV0gKyAnICcgKyBudW1iZXJXb3Jkc1swXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bWJlclN0cmluZyArPSB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzBdICsgJzAnXSArICcgJyArIHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMV1dICsgJyAnICsgbnVtYmVyV29yZHNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpZiAodGhpcy5udW1iZXJzW3NwbGl0c1tpXVswXS50b1N0cmluZygpICsgc3BsaXRzW2ldWzFdLnRvU3RyaW5nKCkgKyBzcGxpdHNbaV1bMl0udG9TdHJpbmcoKV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBudW1iZXJTdHJpbmcgPSBudW1iZXJTdHJpbmcuc3Vic3RyaW5nKDAsIG51bWJlclN0cmluZy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMV0udG9TdHJpbmcoKSArIHNwbGl0c1tpXVsyXS50b1N0cmluZygpXSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgLy9OZWVkIHRvIHByb3Blcmx5IGhhbmRsZSBzcGFjZXMgd2hlbiBpdHMgZG91YmxlIDAwJ3NcbiAgICAgICAgICAgICAgaWYgKHNwbGl0c1tpXVsxXS50b1N0cmluZygpICsgc3BsaXRzW2ldWzJdLnRvU3RyaW5nKCkgPT09ICcwMCcpIHtcbiAgICAgICAgICAgICAgICBudW1iZXJTdHJpbmcgKz0gdGhpcy5udW1iZXJzW3NwbGl0c1tpXVswXV0gKyAnIGh1bmRyZWQnICsgJyAnICsgbnVtYmVyV29yZHNbMF07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbnVtYmVyU3RyaW5nICs9IHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMF1dICsgJyBodW5kcmVkICcgKyB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzFdLnRvU3RyaW5nKCkgKyBzcGxpdHNbaV1bMl0udG9TdHJpbmcoKV0gICsgJyAnICsgbnVtYmVyV29yZHNbMF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bWJlclN0cmluZyArPSB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzBdXSArICcgaHVuZHJlZCAnICsgdGhpcy5udW1iZXJzW3NwbGl0c1tpXVsxXSArICcwJ10gKyAnICcgKyB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzJdXSAgKyAnICcgKyBudW1iZXJXb3Jkc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbnVtYmVyV29yZHMuc2hpZnQoKTtcbiAgICAgICAgbnVtYmVyU3RyaW5nICs9ICcgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3aXRjaCAoc3BsaXRzW2ldLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGlmIChzcGxpdHNbaV1bMF0gPT09ICcwJykge1xuICAgICAgICAgICAgICBudW1iZXJTdHJpbmcgKz0gJ3plcm8nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbnVtYmVyU3RyaW5nICs9IHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMF1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAodGhpcy5udW1iZXJzW3NwbGl0c1tpXVswXS50b1N0cmluZygpICsgc3BsaXRzW2ldWzFdLnRvU3RyaW5nKCldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbnVtYmVyU3RyaW5nICs9IHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMF0udG9TdHJpbmcoKSArIHNwbGl0c1tpXVsxXS50b1N0cmluZygpXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bWJlclN0cmluZyArPSB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzBdICsgJzAnXSArICcgJyArIHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBpZiAodGhpcy5udW1iZXJzW3NwbGl0c1tpXVswXS50b1N0cmluZygpICsgc3BsaXRzW2ldWzFdLnRvU3RyaW5nKCkgKyBzcGxpdHNbaV1bMl0udG9TdHJpbmcoKV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBudW1iZXJTdHJpbmcgPSBudW1iZXJTdHJpbmcuc3Vic3RyaW5nKDAsIG51bWJlclN0cmluZy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMV0udG9TdHJpbmcoKSArIHNwbGl0c1tpXVsyXS50b1N0cmluZygpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIG51bWJlclN0cmluZyArPSB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzBdXSArICcgaHVuZHJlZCAnICsgdGhpcy5udW1iZXJzW3NwbGl0c1tpXVsxXS50b1N0cmluZygpICsgc3BsaXRzW2ldWzJdLnRvU3RyaW5nKCldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbnVtYmVyU3RyaW5nICs9IHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMF1dICsgJyBodW5kcmVkICcgKyB0aGlzLm51bWJlcnNbc3BsaXRzW2ldWzFdICsgJzAnXSArICcgJyArIHRoaXMubnVtYmVyc1tzcGxpdHNbaV1bMl1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudW1iZXJTdHJpbmc7XG4gIH1cbn1cbiJdfQ==