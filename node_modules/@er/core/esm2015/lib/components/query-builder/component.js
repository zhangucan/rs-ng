/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, forwardRef, Input } from '@angular/core';
import { NG_VALIDATORS, NG_VALUE_ACCESSOR } from '@angular/forms';
import { THEME_COLORS } from '@er/types';
import { CommonsUtils } from '@er/utils';
import { ControlComponent } from '../../bases/control';
import { LogUtils } from '../../utils/log';
import { DEFAULT_QUERY_BUILDER_PROPS, EMPTY_QUERY_RULE_SET } from './defaults';
/** @type {?} */
const CONTROL_VALUE_ACCESSOR = {
    provide: NG_VALUE_ACCESSOR,
    useExisting: forwardRef(() => QueryBuilderComponent),
    multi: true
};
/** @type {?} */
const VALIDATOR = {
    provide: NG_VALIDATORS,
    useExisting: forwardRef(() => QueryBuilderComponent),
    multi: true
};
export class QueryBuilderComponent extends ControlComponent {
    /**
     * @param {?} changeDetectorRef
     */
    constructor(changeDetectorRef) {
        super();
        this.changeDetectorRef = changeDetectorRef;
        this.ruleSet = { condition: 'AND', rules: [] };
        this.defaultValue = EMPTY_QUERY_RULE_SET;
        this.templateNames = {
            buttonGroup: 'buttonGroup',
            switchGroup: 'switchGroup',
            removeButton: 'removeButton',
            entity: 'entity',
            field: 'field',
            operator: 'operator',
            input: 'input',
            empty: 'empty'
        };
        this._config = {};
    }
    /**
     * @return {?}
     */
    get config() {
        return this._config;
    }
    /**
     * @param {?} config
     * @return {?}
     */
    set config(config) {
        CommonsUtils.defaults(this._config, config, DEFAULT_QUERY_BUILDER_PROPS);
        LogUtils.debug(this, '查询构造器配置', this._config);
    }
    /**
     * @return {?}
     */
    get value() {
        return this.ruleSet;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    set value(value) {
        this.ruleSet = value || { condition: 'AND', rules: [] };
    }
    /**
     * @param {?} control
     * @return {?}
     */
    validate(control) {
        /** @type {?} */
        const errors = {};
        /** @type {?} */
        const ruleErrorStore = [];
        /** @type {?} */
        let hasErrors = false;
        if (!this.config.allowEmptyRuleSet && this.checkEmptyRuleInRuleSet(this.value)) {
            errors.empty = '查询定义不能为空.';
            hasErrors = true;
        }
        this.validateRulesInRuleSet(this.value, ruleErrorStore);
        if (ruleErrorStore.length) {
            errors.rules = ruleErrorStore;
            hasErrors = true;
        }
        return hasErrors ? errors : null;
    }
    /**
     * @param {?=} index
     * @return {?}
     */
    ruleSetStyle(index = 0) {
        /** @type {?} */
        const bgColor = Object.keys(THEME_COLORS).filter((color, i) => i === index);
        if (bgColor.length === 0) {
            bgColor[0] = 'blue';
        }
        return {
            'border-left-width': '5px',
            'border-left-style': 'solid',
            'border-left-color': THEME_COLORS[bgColor[0]]
        };
    }
    /**
     * @param {?} field
     * @return {?}
     */
    getOperators(field) {
        if (CommonsUtils.isFunction(this.config.operators)) {
            return ((/** @type {?} */ (this.config.operators)))(field);
        }
        else {
            /** @type {?} */
            const operators = [];
            Object.keys(this.config.operators).forEach(key => {
                if (key === field.key) {
                    operators.push(this.config.operators[key]);
                }
            });
            return operators;
        }
    }
    /**
     * @param {?=} entityKey
     * @return {?}
     */
    getFields(entityKey) {
        if (this.config.entities && entityKey) {
            return this.config.fields.filter((field) => {
                return field && field['entityKey'] === entityKey;
            });
        }
        else {
            return this.config.fields;
        }
    }
    /**
     * @param {?} rule
     * @return {?}
     */
    getField(rule) {
        /** @type {?} */
        const fields = this.getFields(rule.entity);
        if (fields) {
            /** @type {?} */
            const matched = fields.filter(field => field.key === rule.field);
            if (matched && matched.length > 0) {
                return matched[0];
            }
        }
        return undefined;
    }
    /**
     * @param {...?} args
     * @return {?}
     */
    getClassNames(...args) {
        /** @type {?} */
        const styleClasses = this.config.styleClasses;
        /** @type {?} */
        const classNames = args.map((id) => styleClasses[id]).filter((c) => !!c);
        return classNames.length ? classNames.join(' ') : null;
    }
    /**
     * @param {?} rule
     * @return {?}
     */
    isInValidRule(rule) {
        return this.config.allowRuleSet && rule.rules && rule.rules.length === 0;
    }
    /**
     * @param {?} rule
     * @return {?}
     */
    getRuleClassName(rule) {
        /** @type {?} */
        let cls = this.getClassNames('row', 'connector', 'transition');
        cls += ' ' + this.getClassNames(rule['condition'] ? 'ruleSet' : 'rule');
        // if (ruleMeta.invalid) {
        // cls += ' ' + this.getClassNames('invalidRuleSet');
        // }
        return cls;
    }
    /**
     * @param {?} entity
     * @return {?}
     */
    getDefaultDataField(entity) {
        if (!entity) {
            return null;
        }
        else if (entity.defaultField !== undefined) {
            return this.getDefaultValue(entity.defaultField);
        }
        else {
            /** @type {?} */
            const entityDataFields = this.config.fields.filter((field) => {
                return field && field['entityKey'] === entity.key;
            });
            if (entityDataFields && entityDataFields.length) {
                return entityDataFields[0];
            }
        }
    }
    /**
     * @param {?} field
     * @return {?}
     */
    getDefaultOperator(field) {
        if (field && field['defaultOperator'] !== undefined) {
            return this.getDefaultValue(field['defaultOperator']);
        }
        else {
            /** @type {?} */
            const operators = this.getOperators(field);
            if (operators && operators.length) {
                //  return operators[0];
            }
        }
    }
    /**
     * @return {?}
     */
    addRule() {
        /** @type {?} */
        const parent = this.ruleSet;
        if (this.config.addRule) {
            this.config.addRule(parent);
        }
        else {
            /** @type {?} */
            const field = this.config.fields[0];
            parent.rules = [
                ...parent.rules,
                {
                    field: field.key,
                    entity: field['entityKey'],
                    operator: this.getDefaultOperator(field),
                    value: this.getDefaultValue(field.defaultValue)
                }
            ];
        }
    }
    /**
     * @return {?}
     */
    addRuleSet() {
        /** @type {?} */
        const parent = this.ruleSet;
        if (this.config.addRuleSet) {
            this.config.addRuleSet(parent);
        }
        else {
            parent.rules = [
                ...parent.rules,
                { condition: 'AND', rules: [] }
            ];
        }
    }
    /**
     * @param {?} rule
     * @return {?}
     */
    removeRule(rule) {
        /** @type {?} */
        const parent = this.ruleSet;
        if (this.config.removeRule) {
            this.config.removeRule(rule, parent);
        }
        else {
            parent.rules = parent.rules.filter((r) => r !== rule);
        }
    }
    /**
     * @param {?=} ruleSet
     * @return {?}
     */
    removeRuleSet(ruleSet) {
        ruleSet = ruleSet || this.ruleSet;
        /** @type {?} */
        const parent = this.parentRuleSet;
        if (this.config.removeRuleSet) {
            this.config.removeRuleSet(ruleSet, parent);
        }
        else {
            parent.rules = parent.rules.filter((r) => r !== ruleSet);
        }
    }
    /**
     * @param {?} value
     * @return {?}
     */
    changeCondition(value) {
        this.ruleSet.condition = value;
    }
    /**
     * @param {?} key
     * @param {?} rule
     * @return {?}
     */
    changeField(key, rule) {
        /** @type {?} */
        const field = this.config.fields[key];
        if (field && field.defaultValue !== undefined) {
            rule.value = this.getDefaultValue(field.defaultValue);
        }
        else {
            delete rule.value;
        }
        rule.operator = this.getDefaultOperator(field);
    }
    /**
     * @param {?} entityValue
     * @param {?} rule
     * @return {?}
     */
    changeEntity(entityValue, rule) {
        if (this.disabled) {
            return;
        }
        // const currentEntity: DataEntity = this.config.entities.find((e) => e.value === entityValue);
        // const defaultDataField: DataField = this.getDefaultDataField(currentEntity);
        // if (defaultDataField) {
        //   this.changeDataField(defaultDataField.key, rule);
        // }
    }
    /**
     * @param {?} defaultValue
     * @return {?}
     */
    getDefaultValue(defaultValue) {
        switch (typeof defaultValue) {
            case 'function':
                return defaultValue();
            default:
                return defaultValue;
        }
    }
    /**
     * @param {?=} context
     * @return {?}
     */
    context(context) {
        return Object.assign({ qb: (/** @type {?} */ (this)) }, context);
    }
    /**
     * @private
     * @param {?} ruleSet
     * @return {?}
     */
    checkEmptyRuleInRuleSet(ruleSet) {
        if (!ruleSet || !ruleSet.rules || ruleSet.rules.length === 0) {
            return true;
        }
        else {
            return ruleSet.rules.some((item) => {
                if (item.rules) {
                    return this.checkEmptyRuleInRuleSet(item);
                }
                else {
                    return false;
                }
            });
        }
    }
    /**
     * @private
     * @param {?} ruleSet
     * @param {?} errorStore
     * @return {?}
     */
    validateRulesInRuleSet(ruleSet, errorStore) {
        if (ruleSet && ruleSet.rules && ruleSet.rules.length > 0) {
            ruleSet.rules.forEach((item) => {
                if (((/** @type {?} */ (item))).rules) {
                    return this.validateRulesInRuleSet((/** @type {?} */ (item)), errorStore);
                }
                else if (((/** @type {?} */ (item))).field) {
                    /** @type {?} */
                    const field = this.config.fields[((/** @type {?} */ (item))).field];
                    if (field && field['validator'] && field['validator'].apply) {
                        /** @type {?} */
                        const error = field['validator']((/** @type {?} */ (item)), ruleSet);
                        if (error != null) {
                            errorStore.push(error);
                        }
                    }
                }
            });
        }
    }
}
QueryBuilderComponent.decorators = [
    { type: Component, args: [{
                selector: 'er-query-builder',
                template: "<div [ngStyle]=\"ruleSetStyle(index)\" class=\"ruleSet\">\n  <div [ngClass]=\"getClassNames('switchRow')\">\n    <ng-container *ngIf=\"templates[templateNames.buttonGroup] as customer; else defaultButtonGroup\">\n      <div [ngClass]=\"getClassNames('buttonGroup', 'rightAlign')\">\n        <ng-container *ngTemplateOutlet=\"customer; context: context()\"></ng-container>\n      </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"templates[templateNames.switchGroup] as customer; else defaultSwitchGroup\">\n      <ng-container *ngTemplateOutlet=\"customer; context: context()\"></ng-container>\n    </ng-container>\n  </div>\n  <ul [ngClass]=\"getClassNames('tree')\" *ngIf=\"ruleSet && ruleSet.rules\">\n    <ng-container *ngFor=\"let rule of ruleSet.rules; let index = index\">\n\n      <li [ngClass]=\"getRuleClassName(rule)\">\n\n        <ng-container *ngIf=\"!rule['condition']\">\n          <er-query-builder-rule [rule]=\"rule\" [ruleIndex]=\"index\"></er-query-builder-rule>\n        </ng-container>\n\n        <ng-container *ngIf=\"rule['condition']\">\n          <er-query-builder [config]=\"config\" [ruleSet]=\"rule\" [parentRuleSet]=\"ruleSet\" [index]=\"index\">\n          </er-query-builder>\n        </ng-container>\n\n        <ng-container *ngIf=\"templates[templateNames.empty] as customer; else defaultEmptyWarning\">\n          <ng-container *ngIf=\"isInValidRule(rule)\">\n            <ng-container *ngTemplateOutlet=\"customer; context: context()\"></ng-container>\n          </ng-container>\n        </ng-container>\n\n        <ng-template #defaultEmptyWarning>\n          <p [ngClass]=\"getClassNames('emptyWarning')\" *ngIf=\"isInValidRule(rule)\"\n             [innerHTML]=\"config.emptyMessage|erSafeHtml\">\n          </p>\n        </ng-template>\n\n      </li>\n    </ng-container>\n  </ul>\n</div>\n<ng-template #defaultButtonGroup>\n  <div [ngClass]=\"getClassNames('buttonGroup', 'rightAlign')\">\n    <button (click)=\"addRule()\" [ngClass]=\"getClassNames('button')\" [disabled]=disabled>\n      <i [ngClass]=\"getClassNames('addIcon')\"></i> \u6761\u4EF6\n    </button>\n    <button (click)=\"addRuleSet()\" [ngClass]=\"getClassNames('button')\" *ngIf=\"config.allowRuleSet\"\n            [disabled]=disabled>\n      <i [ngClass]=\"getClassNames('addIcon')\"></i> \u6761\u4EF6\u7EC4\n    </button>\n    <ng-container *ngIf=\"!!parentRuleSet && config.allowRuleSet\">\n      <button (click)=\"removeRuleSet()\" [ngClass]=\"getClassNames('button', 'removeButton')\"\n              [disabled]=disabled>\n        <i [ngClass]=\"getClassNames('removeIcon')\"></i>\n      </button>\n    </ng-container>\n  </div>\n</ng-template>\n\n<ng-template #defaultSwitchGroup>\n  <div [ngClass]=\"getClassNames('switchGroup', 'transition')\" *ngIf=\"ruleSet\">\n    <div [ngClass]=\"getClassNames('switchControl')\">\n      <input type=\"radio\" [ngClass]=\"getClassNames('switchRadio')\" [(ngModel)]=\"ruleSet.condition\"\n             [disabled]=disabled\n             value=\"and\" #andOption/>\n      <label (click)=\"changeCondition(andOption.value)\" [ngClass]=\"getClassNames('switchLabel')\">\u5E76\u4E14</label>\n    </div>\n    <div [ngClass]=\"getClassNames('switchControl')\">\n      <input type=\"radio\" [ngClass]=\"getClassNames('switchRadio')\" [(ngModel)]=\"ruleSet.condition\"\n             [disabled]=disabled\n             value=\"or\" #orOption/>\n      <label (click)=\"changeCondition(orOption.value)\" [ngClass]=\"getClassNames('switchLabel')\">\u6216\u8005</label>\n    </div>\n    <div [ngClass]=\"getClassNames('switchControl')\">\n      <input type=\"radio\" [ngClass]=\"getClassNames('switchRadio')\" [(ngModel)]=\"ruleSet.condition\"\n             [disabled]=disabled\n             value=\"not\" #notOption/>\n      <label (click)=\"changeCondition(notOption.value)\" [ngClass]=\"getClassNames('switchLabel')\">\u4E0D\u662F</label>\n    </div>\n  </div>\n</ng-template>\n\n\n",
                providers: [CONTROL_VALUE_ACCESSOR, VALIDATOR],
                changeDetection: ChangeDetectionStrategy.OnPush,
                styles: ["@charset \"UTF-8\";:host::ng-deep{display:block;width:100%;font-size:.8em}:host::ng-deep .q-icon{font-style:normal;font-size:12px}:host::ng-deep .q-remove-icon::before{content:'\u274C'}:host::ng-deep .q-add-icon{color:#555}:host::ng-deep .q-add-icon::before{content:'\u2795'}:host::ng-deep .q-remove-button{color:#b3415d;width:31px}:host::ng-deep .q-button-group,:host::ng-deep .q-switch-group{overflow:hidden}:host::ng-deep .q-right-align{float:right}:host::ng-deep .q-button{margin-left:8px;padding:0 8px;background-color:#fff}:host::ng-deep .q-button:disabled{display:none}:host::ng-deep .q-control-size{display:inline-block;vertical-align:top;padding-right:10px}:host::ng-deep .q-entity-control,:host::ng-deep .q-field-control,:host::ng-deep .q-input-control,:host::ng-deep .q-operator-control{display:inline-block;padding:5px 8px;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;width:auto}:host::ng-deep .q-entity-control:disabled,:host::ng-deep .q-field-control:disabled,:host::ng-deep .q-input-control:disabled,:host::ng-deep .q-operator-control:disabled{border-color:transparent}:host::ng-deep .q-entity-control,:host::ng-deep .q-field-control,:host::ng-deep .q-input-control:not([type=checkbox]),:host::ng-deep .q-operator-control{min-height:32px;-webkit-appearance:none}:host::ng-deep .q-button,:host::ng-deep .q-switch-label{float:left;margin-bottom:0;font-size:14px;line-height:30px;font-weight:400;text-align:center;text-shadow:none;border:1px solid rgba(0,0,0,.2);box-sizing:border-box}:host::ng-deep .q-button:hover,:host::ng-deep .q-switch-label:hover{cursor:pointer;background-color:#f0f0f0}:host::ng-deep .q-switch-label{background-color:#e4e4e4;padding:0 8px}:host::ng-deep .q-switch-radio{position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}:host::ng-deep .q-switch-radio:checked+.q-switch-label{border:1px solid #619ed7;background:#fff;color:#3176b3}:host::ng-deep .q-switch-radio:disabled+.q-switch-label{display:none}:host::ng-deep .q-switch-radio:checked:disabled+.q-switch-label{display:initial;color:initial;cursor:default;border-color:transparent}:host::ng-deep .q-invalid-ruleset{border:1px solid rgba(179,65,93,.5)!important;background:rgba(179,65,93,.1)!important}:host::ng-deep .q-empty-warning{color:#8d252e;text-align:center}:host::ng-deep .q-ruleset{border:1px solid #ccc}:host::ng-deep .q-rule{border:1px solid #ccc;background:#fff}:host::ng-deep .q-transition{transition:.1s ease-in-out}:host::ng-deep .q-tree{list-style:none;margin:4px 0 2px}:host::ng-deep .q-row{padding:6px 8px;margin-top:6px}:host::ng-deep .q-connector{position:relative}:host::ng-deep .q-connector::before{top:-5px;border-width:0 0 2px 2px}:host::ng-deep .q-connector::after{border-width:0 0 0 2px;top:50%}:host::ng-deep .q-connector::after,:host::ng-deep .q-connector::before{content:'';left:-12px;border-color:#ccc;border-style:solid;width:9px;height:calc(50% + 6px);position:absolute}:host::ng-deep .q-connector:last-child::after{content:none}:host::ng-deep .q-inline-block-display{display:inline-block;vertical-align:top}"]
            }] }
];
/** @nocollapse */
QueryBuilderComponent.ctorParameters = () => [
    { type: ChangeDetectorRef }
];
QueryBuilderComponent.propDecorators = {
    ruleSet: [{ type: Input }],
    index: [{ type: Input }],
    parentRuleSet: [{ type: Input }],
    config: [{ type: Input }],
    value: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    QueryBuilderComponent.prototype.ruleSet;
    /** @type {?} */
    QueryBuilderComponent.prototype.index;
    /** @type {?} */
    QueryBuilderComponent.prototype.parentRuleSet;
    /** @type {?} */
    QueryBuilderComponent.prototype.defaultValue;
    /** @type {?} */
    QueryBuilderComponent.prototype.templateNames;
    /**
     * @type {?}
     * @private
     */
    QueryBuilderComponent.prototype._config;
    /**
     * @type {?}
     * @private
     */
    QueryBuilderComponent.prototype.changeDetectorRef;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL2NvcmUvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9xdWVyeS1idWlsZGVyL2NvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLHVCQUF1QixFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3ZHLE9BQU8sRUFBa0IsYUFBYSxFQUFFLGlCQUFpQixFQUE4QixNQUFNLGdCQUFnQixDQUFDO0FBQzlHLE9BQU8sRUFBOEUsWUFBWSxFQUFDLE1BQU0sV0FBVyxDQUFDO0FBQ3BILE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFDdkMsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0scUJBQXFCLENBQUM7QUFDckQsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQ3pDLE9BQU8sRUFBQywyQkFBMkIsRUFBRSxvQkFBb0IsRUFBQyxNQUFNLFlBQVksQ0FBQzs7TUFHdkUsc0JBQXNCLEdBQVE7SUFDbEMsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLHFCQUFxQixDQUFDO0lBQ3BELEtBQUssRUFBRSxJQUFJO0NBQ1o7O01BRUssU0FBUyxHQUFRO0lBQ3JCLE9BQU8sRUFBRSxhQUFhO0lBQ3RCLFdBQVcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMscUJBQXFCLENBQUM7SUFDcEQsS0FBSyxFQUFFLElBQUk7Q0FDWjtBQVNELE1BQU0sT0FBTyxxQkFBc0IsU0FBUSxnQkFBZ0I7Ozs7SUFtQnpELFlBQW9CLGlCQUFvQztRQUN0RCxLQUFLLEVBQUUsQ0FBQztRQURVLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBbUI7UUFqQi9DLFlBQU8sR0FBaUIsRUFBQyxTQUFTLEVBQUUsS0FBSyxF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SyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxtQkFBQSxJQUFJLEVBQWEsRUFBRSxPQUFPLENBQUM7d0JBQzVELElBQUksS0FBSyxJQUFJLElBQUksRUFBRTs0QkFDakIsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt5QkFDeEI7cUJBQ0Y7aUJBQ0Y7WUFDSCxDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQzs7O1lBL1JGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsa0JBQWtCO2dCQUM1Qix1MkhBQXVCO2dCQUV2QixTQUFTLEVBQUUsQ0FBQyxzQkFBc0IsRUFBRSxTQUFTLENBQUM7Z0JBQzlDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNOzthQUNoRDs7OztZQTNCZ0MsaUJBQWlCOzs7c0JBOEIvQyxLQUFLO29CQUNMLEtBQUs7NEJBQ0wsS0FBSztxQkFxQkwsS0FBSztvQkFVTCxLQUFLOzs7O0lBakNOLHdDQUErRDs7SUFDL0Qsc0NBQXVCOztJQUN2Qiw4Q0FBcUM7O0lBRXJDLDZDQUFvQzs7SUFFcEMsOENBU0U7Ozs7O0lBTUYsd0NBQXdDOzs7OztJQUo1QixrREFBNEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBmb3J3YXJkUmVmLCBJbnB1dH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Fic3RyYWN0Q29udHJvbCwgTkdfVkFMSURBVE9SUywgTkdfVkFMVUVfQUNDRVNTT1IsIFZhbGlkYXRpb25FcnJvcnMsIFZhbGlkYXRvcn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtEYXRhRW50aXR5LCBEYXRhRmllbGQsIERhdGFJdGVtLCBRdWVyeUJ1aWxkZXJQcm9wcywgUXVlcnlSdWxlLCBRdWVyeVJ1bGVTZXQsIFRIRU1FX0NPTE9SU30gZnJvbSAnQGVyL3R5cGVzJztcbmltcG9ydCB7Q29tbW9uc1V0aWxzfSBmcm9tICdAZXIvdXRpbHMnO1xuaW1wb3J0IHtDb250cm9sQ29tcG9uZW50fSBmcm9tICcuLi8uLi9iYXNlcy9jb250cm9sJztcbmltcG9ydCB7TG9nVXRpbHN9IGZyb20gJy4uLy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQge0RFRkFVTFRfUVVFUllfQlVJTERFUl9QUk9QUywgRU1QVFlfUVVFUllfUlVMRV9TRVR9IGZyb20gJy4vZGVmYXVsdHMnO1xuXG5cbmNvbnN0IENPTlRST0xfVkFMVUVfQUNDRVNTT1I6IGFueSA9IHtcbiAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFF1ZXJ5QnVpbGRlckNvbXBvbmVudCksXG4gIG11bHRpOiB0cnVlXG59O1xuXG5jb25zdCBWQUxJREFUT1I6IGFueSA9IHtcbiAgcHJvdmlkZTogTkdfVkFMSURBVE9SUyxcbiAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gUXVlcnlCdWlsZGVyQ29tcG9uZW50KSxcbiAgbXVsdGk6IHRydWVcbn07XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2VyLXF1ZXJ5LWJ1aWxkZXInLFxuICB0ZW1wbGF0ZVVybDogJ3RwbC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJ3N0eWxlcy5zY3NzJ10sXG4gIHByb3ZpZGVyczogW0NPTlRST0xfVkFMVUVfQUNDRVNTT1IsIFZBTElEQVRPUl0sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIFF1ZXJ5QnVpbGRlckNvbXBvbmVudCBleHRlbmRzIENvbnRyb2xDb21wb25lbnQgaW1wbGVtZW50cyBWYWxpZGF0b3Ige1xuXG4gIEBJbnB1dCgpIHJ1bGVTZXQ6IFF1ZXJ5UnVsZVNldCA9IHtjb25kaXRpb246ICdBTkQnLCBydWxlczogW119O1xuICBASW5wdXQoKSBpbmRleDogbnVtYmVyO1xuICBASW5wdXQoKSBwYXJlbnRSdWxlU2V0OiBRdWVyeVJ1bGVTZXQ7XG5cbiAgZGVmYXVsdFZhbHVlID0gRU1QVFlfUVVFUllfUlVMRV9TRVQ7XG5cbiAgdGVtcGxhdGVOYW1lcyA9IHtcbiAgICBidXR0b25Hcm91cDogJ2J1dHRvbkdyb3VwJyxcbiAgICBzd2l0Y2hHcm91cDogJ3N3aXRjaEdyb3VwJyxcbiAgICByZW1vdmVCdXR0b246ICdyZW1vdmVCdXR0b24nLFxuICAgIGVudGl0eTogJ2VudGl0eScsXG4gICAgZmllbGQ6ICdmaWVsZCcsXG4gICAgb3BlcmF0b3I6ICdvcGVyYXRvcicsXG4gICAgaW5wdXQ6ICdpbnB1dCcsXG4gICAgZW1wdHk6ICdlbXB0eSdcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwcml2YXRlIF9jb25maWc6IFF1ZXJ5QnVpbGRlclByb3BzID0ge307XG5cbiAgQElucHV0KClcbiAgZ2V0IGNvbmZpZygpIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICB9XG5cbiAgc2V0IGNvbmZpZyhjb25maWcpIHtcbiAgICBDb21tb25zVXRpbHMuZGVmYXVsdHModGhpcy5fY29uZmlnLCBjb25maWcsIERFRkFVTFRfUVVFUllfQlVJTERFUl9QUk9QUyk7XG4gICAgTG9nVXRpbHMuZGVidWcodGhpcywgJ+afpeivouaehOmAoOWZqOmFjee9ricsIHRoaXMuX2NvbmZpZyk7XG4gIH1cblxuICBASW5wdXQoKVxuICBnZXQgdmFsdWUoKTogUXVlcnlSdWxlU2V0IHtcbiAgICByZXR1cm4gdGhpcy5ydWxlU2V0O1xuICB9XG5cbiAgc2V0IHZhbHVlKHZhbHVlOiBRdWVyeVJ1bGVTZXQpIHtcbiAgICB0aGlzLnJ1bGVTZXQgPSB2YWx1ZSB8fCB7Y29uZGl0aW9uOiAnQU5EJywgcnVsZXM6IFtdfTtcbiAgfVxuXG4gIHZhbGlkYXRlKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMgfCBudWxsIHtcbiAgICBjb25zdCBlcnJvcnM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcbiAgICBjb25zdCBydWxlRXJyb3JTdG9yZSA9IFtdO1xuICAgIGxldCBoYXNFcnJvcnMgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5jb25maWcuYWxsb3dFbXB0eVJ1bGVTZXQgJiYgdGhpcy5jaGVja0VtcHR5UnVsZUluUnVsZVNldCh0aGlzLnZhbHVlKSkge1xuICAgICAgZXJyb3JzLmVtcHR5ID0gJ+afpeivouWumuS5ieS4jeiDveS4uuepui4nO1xuICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnZhbGlkYXRlUnVsZXNJblJ1bGVTZXQodGhpcy52YWx1ZSwgcnVsZUVycm9yU3RvcmUpO1xuXG4gICAgaWYgKHJ1bGVFcnJvclN0b3JlLmxlbmd0aCkge1xuICAgICAgZXJyb3JzLnJ1bGVzID0gcnVsZUVycm9yU3RvcmU7XG4gICAgICBoYXNFcnJvcnMgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gaGFzRXJyb3JzID8gZXJyb3JzIDogbnVsbDtcbiAgfVxuXG4gIHJ1bGVTZXRTdHlsZShpbmRleCA9IDApIHtcbiAgICBjb25zdCBiZ0NvbG9yID0gT2JqZWN0LmtleXMoVEhFTUVfQ09MT1JTKS5maWx0ZXIoKGNvbG9yLCBpKSA9PiBpID09PSBpbmRleCk7XG4gICAgaWYgKGJnQ29sb3IubGVuZ3RoID09PSAwKSB7XG4gICAgICBiZ0NvbG9yWzBdID0gJ2JsdWUnO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgJ2JvcmRlci1sZWZ0LXdpZHRoJzogJzVweCcsXG4gICAgICAnYm9yZGVyLWxlZnQtc3R5bGUnOiAnc29saWQnLFxuICAgICAgJ2JvcmRlci1sZWZ0LWNvbG9yJzogVEhFTUVfQ09MT1JTW2JnQ29sb3JbMF1dXG4gICAgfTtcbiAgfVxuXG4gIGdldE9wZXJhdG9ycyhmaWVsZDogRGF0YUZpZWxkKTogRGF0YUl0ZW1bXSB7XG4gICAgaWYgKENvbW1vbnNVdGlscy5pc0Z1bmN0aW9uKHRoaXMuY29uZmlnLm9wZXJhdG9ycykpIHtcbiAgICAgIHJldHVybiAoPEZ1bmN0aW9uPnRoaXMuY29uZmlnLm9wZXJhdG9ycykoZmllbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvcGVyYXRvcnMgPSBbXTtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuY29uZmlnLm9wZXJhdG9ycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAoa2V5ID09PSBmaWVsZC5rZXkpIHtcbiAgICAgICAgICBvcGVyYXRvcnMucHVzaCh0aGlzLmNvbmZpZy5vcGVyYXRvcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9wZXJhdG9ycztcbiAgICB9XG4gIH1cblxuICBnZXRGaWVsZHMoZW50aXR5S2V5Pzogc3RyaW5nKTogRGF0YUZpZWxkW10ge1xuICAgIGlmICh0aGlzLmNvbmZpZy5lbnRpdGllcyAmJiBlbnRpdHlLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5maWVsZHMuZmlsdGVyKChmaWVsZCkgPT4ge1xuICAgICAgICByZXR1cm4gZmllbGQgJiYgZmllbGRbJ2VudGl0eUtleSddID09PSBlbnRpdHlLZXk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmZpZWxkcztcbiAgICB9XG4gIH1cblxuICBnZXRGaWVsZChydWxlOiBRdWVyeVJ1bGUpOiBEYXRhRmllbGQge1xuICAgIGNvbnN0IGZpZWxkcyA9IHRoaXMuZ2V0RmllbGRzKHJ1bGUuZW50aXR5KTtcbiAgICBpZiAoZmllbGRzKSB7XG4gICAgICBjb25zdCBtYXRjaGVkID0gZmllbGRzLmZpbHRlcihmaWVsZCA9PiBmaWVsZC5rZXkgPT09IHJ1bGUuZmllbGQpO1xuICAgICAgaWYgKG1hdGNoZWQgJiYgbWF0Y2hlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVkWzBdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lcyguLi5hcmdzKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHlsZUNsYXNzZXMgPSB0aGlzLmNvbmZpZy5zdHlsZUNsYXNzZXM7XG4gICAgY29uc3QgY2xhc3NOYW1lcyA9IGFyZ3MubWFwKChpZCkgPT4gc3R5bGVDbGFzc2VzW2lkXSkuZmlsdGVyKChjKSA9PiAhIWMpO1xuICAgIHJldHVybiBjbGFzc05hbWVzLmxlbmd0aCA/IGNsYXNzTmFtZXMuam9pbignICcpIDogbnVsbDtcbiAgfVxuXG4gIGlzSW5WYWxpZFJ1bGUocnVsZSkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5hbGxvd1J1bGVTZXQgJiYgcnVsZS5ydWxlcyAmJiBydWxlLnJ1bGVzLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIGdldFJ1bGVDbGFzc05hbWUocnVsZSk6IHN0cmluZyB7XG4gICAgbGV0IGNscyA9IHRoaXMuZ2V0Q2xhc3NOYW1lcygncm93JywgJ2Nvbm5lY3RvcicsICd0cmFuc2l0aW9uJyk7XG4gICAgY2xzICs9ICcgJyArIHRoaXMuZ2V0Q2xhc3NOYW1lcyhydWxlWydjb25kaXRpb24nXSA/ICdydWxlU2V0JyA6ICdydWxlJyk7XG4gICAgLy8gaWYgKHJ1bGVNZXRhLmludmFsaWQpIHtcbiAgICAvLyBjbHMgKz0gJyAnICsgdGhpcy5nZXRDbGFzc05hbWVzKCdpbnZhbGlkUnVsZVNldCcpO1xuICAgIC8vIH1cbiAgICByZXR1cm4gY2xzO1xuICB9XG5cbiAgZ2V0RGVmYXVsdERhdGFGaWVsZChlbnRpdHk6IERhdGFFbnRpdHkpOiBEYXRhRmllbGQge1xuICAgIGlmICghZW50aXR5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGVudGl0eS5kZWZhdWx0RmllbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdFZhbHVlKGVudGl0eS5kZWZhdWx0RmllbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbnRpdHlEYXRhRmllbGRzID0gdGhpcy5jb25maWcuZmllbGRzLmZpbHRlcigoZmllbGQpID0+IHtcbiAgICAgICAgcmV0dXJuIGZpZWxkICYmIGZpZWxkWydlbnRpdHlLZXknXSA9PT0gZW50aXR5LmtleTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGVudGl0eURhdGFGaWVsZHMgJiYgZW50aXR5RGF0YUZpZWxkcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eURhdGFGaWVsZHNbMF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVmYXVsdE9wZXJhdG9yKGZpZWxkOiBEYXRhRmllbGQpOiBzdHJpbmcge1xuICAgIGlmIChmaWVsZCAmJiBmaWVsZFsnZGVmYXVsdE9wZXJhdG9yJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdFZhbHVlKGZpZWxkWydkZWZhdWx0T3BlcmF0b3InXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9wZXJhdG9ycyA9IHRoaXMuZ2V0T3BlcmF0b3JzKGZpZWxkKTtcbiAgICAgIGlmIChvcGVyYXRvcnMgJiYgb3BlcmF0b3JzLmxlbmd0aCkge1xuICAgICAgICAvLyAgcmV0dXJuIG9wZXJhdG9yc1swXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucnVsZVNldDtcbiAgICBpZiAodGhpcy5jb25maWcuYWRkUnVsZSkge1xuICAgICAgdGhpcy5jb25maWcuYWRkUnVsZShwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmaWVsZCA9IHRoaXMuY29uZmlnLmZpZWxkc1swXTtcbiAgICAgIHBhcmVudC5ydWxlcyA9IFtcbiAgICAgICAgLi4ucGFyZW50LnJ1bGVzLFxuICAgICAgICB7XG4gICAgICAgICAgZmllbGQ6IGZpZWxkLmtleSxcbiAgICAgICAgICBlbnRpdHk6IGZpZWxkWydlbnRpdHlLZXknXSxcbiAgICAgICAgICBvcGVyYXRvcjogdGhpcy5nZXREZWZhdWx0T3BlcmF0b3IoZmllbGQpLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLmdldERlZmF1bHRWYWx1ZShmaWVsZC5kZWZhdWx0VmFsdWUpXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgYWRkUnVsZVNldCgpOiB2b2lkIHtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnJ1bGVTZXQ7XG4gICAgaWYgKHRoaXMuY29uZmlnLmFkZFJ1bGVTZXQpIHtcbiAgICAgIHRoaXMuY29uZmlnLmFkZFJ1bGVTZXQocGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50LnJ1bGVzID0gW1xuICAgICAgICAuLi5wYXJlbnQucnVsZXMsXG4gICAgICAgIHtjb25kaXRpb246ICdBTkQnLCBydWxlczogW119XG4gICAgICBdO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVJ1bGUocnVsZTogUXVlcnlSdWxlKTogdm9pZCB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5ydWxlU2V0O1xuICAgIGlmICh0aGlzLmNvbmZpZy5yZW1vdmVSdWxlKSB7XG4gICAgICB0aGlzLmNvbmZpZy5yZW1vdmVSdWxlKHJ1bGUsIHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudC5ydWxlcyA9IHBhcmVudC5ydWxlcy5maWx0ZXIoKHIpID0+IHIgIT09IHJ1bGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVJ1bGVTZXQocnVsZVNldD86IFF1ZXJ5UnVsZVNldCk6IHZvaWQge1xuICAgIHJ1bGVTZXQgPSBydWxlU2V0IHx8IHRoaXMucnVsZVNldDtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudFJ1bGVTZXQ7XG4gICAgaWYgKHRoaXMuY29uZmlnLnJlbW92ZVJ1bGVTZXQpIHtcbiAgICAgIHRoaXMuY29uZmlnLnJlbW92ZVJ1bGVTZXQocnVsZVNldCwgcGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50LnJ1bGVzID0gcGFyZW50LnJ1bGVzLmZpbHRlcigocikgPT4gciAhPT0gcnVsZVNldCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlQ29uZGl0aW9uKHZhbHVlKTogdm9pZCB7XG4gICAgdGhpcy5ydWxlU2V0LmNvbmRpdGlvbiA9IHZhbHVlO1xuICB9XG5cbiAgY2hhbmdlRmllbGQoa2V5OiBzdHJpbmcsIHJ1bGU6IFF1ZXJ5UnVsZSk6IHZvaWQge1xuXG4gICAgY29uc3QgZmllbGQ6IERhdGFGaWVsZCA9IHRoaXMuY29uZmlnLmZpZWxkc1trZXldO1xuXG4gICAgaWYgKGZpZWxkICYmIGZpZWxkLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBydWxlLnZhbHVlID0gdGhpcy5nZXREZWZhdWx0VmFsdWUoZmllbGQuZGVmYXVsdFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHJ1bGUudmFsdWU7XG4gICAgfVxuXG4gICAgcnVsZS5vcGVyYXRvciA9IHRoaXMuZ2V0RGVmYXVsdE9wZXJhdG9yKGZpZWxkKTtcbiAgfVxuXG4gIGNoYW5nZUVudGl0eShlbnRpdHlWYWx1ZTogc3RyaW5nLCBydWxlOiBRdWVyeVJ1bGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGNvbnN0IGN1cnJlbnRFbnRpdHk6IERhdGFFbnRpdHkgPSB0aGlzLmNvbmZpZy5lbnRpdGllcy5maW5kKChlKSA9PiBlLnZhbHVlID09PSBlbnRpdHlWYWx1ZSk7XG4gICAgLy8gY29uc3QgZGVmYXVsdERhdGFGaWVsZDogRGF0YUZpZWxkID0gdGhpcy5nZXREZWZhdWx0RGF0YUZpZWxkKGN1cnJlbnRFbnRpdHkpO1xuXG4gICAgLy8gaWYgKGRlZmF1bHREYXRhRmllbGQpIHtcbiAgICAvLyAgIHRoaXMuY2hhbmdlRGF0YUZpZWxkKGRlZmF1bHREYXRhRmllbGQua2V5LCBydWxlKTtcbiAgICAvLyB9XG4gIH1cblxuICBnZXREZWZhdWx0VmFsdWUoZGVmYXVsdFZhbHVlOiBhbnkpOiBhbnkge1xuICAgIHN3aXRjaCAodHlwZW9mIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlKCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGNvbnRleHQoY29udGV4dD86IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHFiOiA8UXVlcnlCdWlsZGVyQ29tcG9uZW50PnRoaXMsXG4gICAgICAuLi5jb250ZXh0XG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tFbXB0eVJ1bGVJblJ1bGVTZXQocnVsZVNldDogUXVlcnlSdWxlU2V0KTogYm9vbGVhbiB7XG4gICAgaWYgKCFydWxlU2V0IHx8ICFydWxlU2V0LnJ1bGVzIHx8IHJ1bGVTZXQucnVsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJ1bGVTZXQucnVsZXMuc29tZSgoaXRlbTogUXVlcnlSdWxlU2V0KSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnJ1bGVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tFbXB0eVJ1bGVJblJ1bGVTZXQoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHZhbGlkYXRlUnVsZXNJblJ1bGVTZXQocnVsZVNldDogUXVlcnlSdWxlU2V0LCBlcnJvclN0b3JlOiBhbnlbXSkge1xuICAgIGlmIChydWxlU2V0ICYmIHJ1bGVTZXQucnVsZXMgJiYgcnVsZVNldC5ydWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBydWxlU2V0LnJ1bGVzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKChpdGVtIGFzIFF1ZXJ5UnVsZVNldCkucnVsZXMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVJ1bGVzSW5SdWxlU2V0KGl0ZW0gYXMgUXVlcnlSdWxlU2V0LCBlcnJvclN0b3JlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaXRlbSBhcyBRdWVyeVJ1bGUpLmZpZWxkKSB7XG4gICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmNvbmZpZy5maWVsZHNbKGl0ZW0gYXMgUXVlcnlSdWxlKS5maWVsZF07XG4gICAgICAgICAgaWYgKGZpZWxkICYmIGZpZWxkWyd2YWxpZGF0b3InXSAmJiBmaWVsZFsndmFsaWRhdG9yJ10uYXBwbHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZmllbGRbJ3ZhbGlkYXRvciddKGl0ZW0gYXMgUXVlcnlSdWxlLCBydWxlU2V0KTtcbiAgICAgICAgICAgIGlmIChlcnJvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGVycm9yU3RvcmUucHVzaChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufVxuIl19