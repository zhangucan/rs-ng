/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { animate, state, style, transition, trigger } from '@angular/animations';
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { AuthUtils, RouteUtils } from '@er/core';
import { ConfigUtils } from '@er/utils';
import { PngAdminWorkSpaceComponent } from '../component';
var WorkSpaceProfileComponent = /** @class */ (function () {
    function WorkSpaceProfileComponent(ws) {
        this.ws = ws;
        this.profileRouter = ConfigUtils.getConfig().auth.profileRouter;
        this.changePwdRouter = ConfigUtils.getConfig().auth.changePwdRouter;
        this.avatar = 'assets/layout/images/avatar.png';
    }
    Object.defineProperty(WorkSpaceProfileComponent.prototype, "user", {
        get: /**
         * @return {?}
         */
        function () {
            return AuthUtils.getCurrentUser();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} event
     * @return {?}
     */
    WorkSpaceProfileComponent.prototype.onClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.active = !this.active;
        event.preventDefault();
    };
    /**
     * @return {?}
     */
    WorkSpaceProfileComponent.prototype.logout = /**
     * @return {?}
     */
    function () {
        AuthUtils.logout();
    };
    /**
     * @return {?}
     */
    WorkSpaceProfileComponent.prototype.change = /**
     * @return {?}
     */
    function () {
        RouteUtils.nav(this.changePwdRouter);
    };
    WorkSpaceProfileComponent.decorators = [
        { type: Component, args: [{
                    selector: 'png-ws-profile',
                    template: "<div class=\"profile\" [ngClass]=\"{'profile-expanded':active}\">\n  <a href=\"#\" (click)=\"onClick($event)\">\n    <img class=\"profile-image\" [src]=\"user?.avatar || avatar\"/>\n    <span class=\"profile-name\">{{user?.fullName}}</span>\n    <i class=\"fa fa-fw fa-caret-down\"></i>\n    <span class=\"profile-role\">{{user?.mainRole}}</span>\n  </a>\n</div>\n\n<ul id=\"profile-menu\" class=\"layout-menu\" [@menu]=\"active ? 'visible' : 'hidden'\">\n  <li role=\"menuitem\">\n    <a href=\"#\" [routerLink]=\"profileRouter\" [attr.tabindex]=\"!active ? '-1' : null\">\n      <i class=\"fa fa-fw fa-user\"></i>\n      <span>\u4E2A\u4EBA\u4FE1\u606F</span>\n    </a>\n    <div class=\"layout-menu-tooltip\">\n      <div class=\"layout-menu-tooltip-arrow\"></div>\n      <div class=\"layout-menu-tooltip-text\"><a [routerLink]=\"profileRouter\">\u4E2A\u4EBA\u4FE1\u606F</a></div>\n    </div>\n  </li>\n  <li role=\"menuitem\">\n    <a href=\"#\" [routerLink]=\"changePwdRouter\" [attr.tabindex]=\"!active ? '-1' : null\">\n      <i class=\"fa fa-fw fa-user-secret\"></i>\n      <span>\u4FEE\u6539\u5BC6\u7801</span>\n    </a>\n    <div class=\"layout-menu-tooltip\">\n      <div class=\"layout-menu-tooltip-arrow\"></div>\n      <div class=\"layout-menu-tooltip-text\"><a [routerLink]=\"changePwdRouter\">\u4FEE\u6539\u5BC6\u7801</a></div>\n    </div>\n  </li>\n  <!--<li role=\"menuitem\">-->\n  <!--<a href=\"#\" [attr.tabindex]=\"!active ? '-1' : null\">-->\n  <!--<i class=\"fa fa-fw fa-cog\"></i>-->\n  <!--<span>\u4E2A\u6027\u8BBE\u7F6E</span>-->\n  <!--</a>-->\n  <!--<div class=\"layout-menu-tooltip\">-->\n  <!--<div class=\"layout-menu-tooltip-arrow\"></div>-->\n  <!--<div class=\"layout-menu-tooltip-text\">\u4E2A\u6027\u8BBE\u7F6E</div>-->\n  <!--</div>-->\n  <!--</li>-->\n  <li role=\"menuitem\">\n    <a href=\"#\" [attr.tabindex]=\"!active ? '-1' : null\">\n      <i class=\"fa fa-fw fa-sign-out\"></i>\n      <span (click)=\"logout()\">\u9000\u51FA\u767B\u5F55</span>\n    </a>\n    <div class=\"layout-menu-tooltip\">\n      <div class=\"layout-menu-tooltip-arrow\"></div>\n      <div class=\"layout-menu-tooltip-text\" (click)=\"logout()\">\u9000\u51FA\u767B\u5F55</div>\n    </div>\n  </li>\n</ul>\n",
                    animations: [
                        trigger('menu', [
                            state('hidden', style({
                                height: '0px'
                            })),
                            state('visible', style({
                                height: '*'
                            })),
                            transition('visible => hidden', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)')),
                            transition('hidden => visible', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)'))
                        ])
                    ],
                    changeDetection: ChangeDetectionStrategy.OnPush
                }] }
    ];
    /** @nocollapse */
    WorkSpaceProfileComponent.ctorParameters = function () { return [
        { type: PngAdminWorkSpaceComponent }
    ]; };
    return WorkSpaceProfileComponent;
}());
export { WorkSpaceProfileComponent };
if (false) {
    /** @type {?} */
    WorkSpaceProfileComponent.prototype.active;
    /** @type {?} */
    WorkSpaceProfileComponent.prototype.profileRouter;
    /** @type {?} */
    WorkSpaceProfileComponent.prototype.changePwdRouter;
    /** @type {?} */
    WorkSpaceProfileComponent.prototype.avatar;
    /** @type {?} */
    WorkSpaceProfileComponent.prototype.ws;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ByaW1lbmcvIiwic291cmNlcyI6WyJsaWIvd29yay1zcGFjZS9wcm9maWxlL2NvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUMvRSxPQUFPLEVBQUMsdUJBQXVCLEVBQUUsU0FBUyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ2pFLE9BQU8sRUFBQyxTQUFTLEVBQUUsVUFBVSxFQUFDLE1BQU0sVUFBVSxDQUFDO0FBRS9DLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFDdEMsT0FBTyxFQUFDLDBCQUEwQixFQUFDLE1BQU0sY0FBYyxDQUFDO0FBRXhEO0lBMEJFLG1DQUFtQixFQUE4QjtRQUE5QixPQUFFLEdBQUYsRUFBRSxDQUE0QjtRQUMvQyxJQUFJLENBQUMsYUFBYSxHQUFHLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ2hFLElBQUksQ0FBQyxlQUFlLEdBQUcsV0FBVyxDQUFDLFNBQVMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7UUFDcEUsSUFBSSxDQUFDLE1BQU0sR0FBRyxpQ0FBaUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsc0JBQUksMkNBQUk7Ozs7UUFBUjtZQUNFLE9BQU8sU0FBUyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3BDLENBQUM7OztPQUFBOzs7OztJQUVELDJDQUFPOzs7O0lBQVAsVUFBUSxLQUFLO1FBQ1gsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDM0IsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3pCLENBQUM7Ozs7SUFFRCwwQ0FBTTs7O0lBQU47UUFDRSxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDckIsQ0FBQzs7OztJQUVELDBDQUFNOzs7SUFBTjtRQUNFLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7O2dCQS9DRixTQUFTLFNBQUM7b0JBQ1QsUUFBUSxFQUFFLGdCQUFnQjtvQkFDMUIsMnJFQUF5QjtvQkFDekIsVUFBVSxFQUFFO3dCQUNWLE9BQU8sQ0FBQyxNQUFNLEVBQUU7NEJBQ2QsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUM7Z0NBQ3BCLE1BQU0sRUFBRSxLQUFLOzZCQUNkLENBQUMsQ0FBQzs0QkFDSCxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQztnQ0FDckIsTUFBTSxFQUFFLEdBQUc7NkJBQ1osQ0FBQyxDQUFDOzRCQUNILFVBQVUsQ0FBQyxtQkFBbUIsRUFBRSxPQUFPLENBQUMsc0NBQXNDLENBQUMsQ0FBQzs0QkFDaEYsVUFBVSxDQUFDLG1CQUFtQixFQUFFLE9BQU8sQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO3lCQUNqRixDQUFDO3FCQUNIO29CQUNELGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO2lCQUNoRDs7OztnQkFsQk8sMEJBQTBCOztJQWtEbEMsZ0NBQUM7Q0FBQSxBQWhERCxJQWdEQztTQS9CWSx5QkFBeUI7OztJQUVwQywyQ0FBZ0I7O0lBRWhCLGtEQUFzQjs7SUFDdEIsb0RBQXdCOztJQUV4QiwyQ0FBZ0I7O0lBRUosdUNBQXFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHthbmltYXRlLCBzdGF0ZSwgc3R5bGUsIHRyYW5zaXRpb24sIHRyaWdnZXJ9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7QXV0aFV0aWxzLCBSb3V0ZVV0aWxzfSBmcm9tICdAZXIvY29yZSc7XG5pbXBvcnQge1VzZXJ9IGZyb20gJ0Blci90eXBlcyc7XG5pbXBvcnQge0NvbmZpZ1V0aWxzfSBmcm9tICdAZXIvdXRpbHMnO1xuaW1wb3J0IHtQbmdBZG1pbldvcmtTcGFjZUNvbXBvbmVudH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncG5nLXdzLXByb2ZpbGUnLFxuICB0ZW1wbGF0ZVVybDogJy4vdHBsLmh0bWwnLFxuICBhbmltYXRpb25zOiBbXG4gICAgdHJpZ2dlcignbWVudScsIFtcbiAgICAgIHN0YXRlKCdoaWRkZW4nLCBzdHlsZSh7XG4gICAgICAgIGhlaWdodDogJzBweCdcbiAgICAgIH0pKSxcbiAgICAgIHN0YXRlKCd2aXNpYmxlJywgc3R5bGUoe1xuICAgICAgICBoZWlnaHQ6ICcqJ1xuICAgICAgfSkpLFxuICAgICAgdHJhbnNpdGlvbigndmlzaWJsZSA9PiBoaWRkZW4nLCBhbmltYXRlKCc0MDBtcyBjdWJpYy1iZXppZXIoMC44NiwgMCwgMC4wNywgMSknKSksXG4gICAgICB0cmFuc2l0aW9uKCdoaWRkZW4gPT4gdmlzaWJsZScsIGFuaW1hdGUoJzQwMG1zIGN1YmljLWJlemllcigwLjg2LCAwLCAwLjA3LCAxKScpKVxuICAgIF0pXG4gIF0sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIFdvcmtTcGFjZVByb2ZpbGVDb21wb25lbnQge1xuXG4gIGFjdGl2ZTogYm9vbGVhbjtcblxuICBwcm9maWxlUm91dGVyOiBzdHJpbmc7XG4gIGNoYW5nZVB3ZFJvdXRlcjogc3RyaW5nO1xuXG4gIGF2YXRhcj86IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgd3M6IFBuZ0FkbWluV29ya1NwYWNlQ29tcG9uZW50KSB7XG4gICAgdGhpcy5wcm9maWxlUm91dGVyID0gQ29uZmlnVXRpbHMuZ2V0Q29uZmlnKCkuYXV0aC5wcm9maWxlUm91dGVyO1xuICAgIHRoaXMuY2hhbmdlUHdkUm91dGVyID0gQ29uZmlnVXRpbHMuZ2V0Q29uZmlnKCkuYXV0aC5jaGFuZ2VQd2RSb3V0ZXI7XG4gICAgdGhpcy5hdmF0YXIgPSAnYXNzZXRzL2xheW91dC9pbWFnZXMvYXZhdGFyLnBuZyc7XG4gIH1cblxuICBnZXQgdXNlcigpOiBVc2VyIHtcbiAgICByZXR1cm4gQXV0aFV0aWxzLmdldEN1cnJlbnRVc2VyKCk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy5hY3RpdmUgPSAhdGhpcy5hY3RpdmU7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGxvZ291dCgpIHtcbiAgICBBdXRoVXRpbHMubG9nb3V0KCk7XG4gIH1cblxuICBjaGFuZ2UoKSB7XG4gICAgUm91dGVVdGlscy5uYXYodGhpcy5jaGFuZ2VQd2RSb3V0ZXIpO1xuICB9XG59XG4iXX0=