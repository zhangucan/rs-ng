/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Component, forwardRef } from '@angular/core';
import { NG_VALUE_ACCESSOR } from '@angular/forms';
import { DataAwareControlWrapperComponent } from '@er/core';
import { CommonsUtils, DataItemUtils } from '@er/utils';
import { DEFAULT_RADIO_PROPS } from './type';
var PngRadioComponent = /** @class */ (function (_super) {
    tslib_1.__extends(PngRadioComponent, _super);
    function PngRadioComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.valueParser = _this.parseValue;
        _this.modelFormatter = _this.formatModel;
        _this.$defaultProps = DEFAULT_RADIO_PROPS;
        return _this;
    }
    Object.defineProperty(PngRadioComponent.prototype, "rbValue", {
        get: /**
         * @return {?}
         */
        function () {
            return this._rbValue;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            var _this = this;
            this._rbValue = value;
            /** @type {?} */
            var values = this.data$.value;
            if (CommonsUtils.isArray(values)) {
                /** @type {?} */
                var matched = ((/** @type {?} */ (values))).filter(function (v) { return v[_this.dataKey] === value; });
                if (matched.length === 1) {
                    this.value = DataItemUtils.getItemValue(matched[0], this.valueKey);
                }
                else {
                    this.value = null;
                }
            }
            else {
                this.value = value;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PngRadioComponent.prototype, "dataKey", {
        get: /**
         * @return {?}
         */
        function () {
            return CommonsUtils.get(this.$props, '$ext.dataItemProps.idKey', 'value');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PngRadioComponent.prototype, "valueKey", {
        get: /**
         * @return {?}
         */
        function () {
            return CommonsUtils.get(this.$props, '$ext.dataItemProps.valueKey', 'value');
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} model
     * @return {?}
     */
    PngRadioComponent.prototype.formatModel = /**
     * @param {?} model
     * @return {?}
     */
    function (model) {
        if (CommonsUtils.isJson(model)) {
            this._rbValue = DataItemUtils.getItemValue(model, this.dataKey);
        }
        return model;
    };
    PngRadioComponent.decorators = [
        { type: Component, args: [{
                    selector: 'png-radio',
                    template: "\n    <div class=\"d-flex pb-2\" [erApiData]=\"apiDataProps\" [ngClass]=\"$props.$ext['inline']===false?'flex-column':'flex-wrap'\">\n      <ng-container *ngFor=\"let option of data$|async|erDataItems:$props.$ext.dataItemProps;let i=index\">\n       <span class=\"d-flex align-items-center\">\n        <p-radioButton\n          class=\"m-2\"\n          [(ngModel)]=\"rbValue\"\n          erPropsBind\n          [props]=\"$props\"\n          [context]=\"ctx\"\n          [inputId]=\"i\"\n          [value]=\"option.data|erValue:dataKey\"\n          (onClick)=\"updateTouch()\"\n        >\n        </p-radioButton>\n        <span class=\"mr-4\" [innerHTML]=\"option.label|erSafeHtml\"></span>\n       </span>\n      </ng-container>\n    </div>\n  ",
                    providers: [{
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(function () { return PngRadioComponent; }),
                            multi: true
                        }]
                }] }
    ];
    return PngRadioComponent;
}(DataAwareControlWrapperComponent));
export { PngRadioComponent };
if (false) {
    /** @type {?} */
    PngRadioComponent.prototype.valueParser;
    /** @type {?} */
    PngRadioComponent.prototype.modelFormatter;
    /** @type {?} */
    PngRadioComponent.prototype.$defaultProps;
    /** @type {?} */
    PngRadioComponent.prototype._rbValue;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ByaW1lbmcvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9yYWRpby9jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLFVBQVUsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNwRCxPQUFPLEVBQUMsaUJBQWlCLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRCxPQUFPLEVBQUMsZ0NBQWdDLEVBQUMsTUFBTSxVQUFVLENBQUM7QUFDMUQsT0FBTyxFQUFDLFlBQVksRUFBRSxhQUFhLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFDdEQsT0FBTyxFQUFDLG1CQUFtQixFQUFnQixNQUFNLFFBQVEsQ0FBQztBQUkxRDtJQTZCdUMsNkNBQStDO0lBN0J0RjtRQUFBLHFFQXdFQztRQXpDQyxpQkFBVyxHQUFHLEtBQUksQ0FBQyxVQUFVLENBQUM7UUFFOUIsb0JBQWMsR0FBRyxLQUFJLENBQUMsV0FBVyxDQUFDO1FBRWxDLG1CQUFhLEdBQUcsbUJBQW1CLENBQUM7O0lBcUN0QyxDQUFDO0lBakNDLHNCQUFJLHNDQUFPOzs7O1FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkIsQ0FBQzs7Ozs7UUFFRCxVQUFZLEtBQVU7WUFBdEIsaUJBYUM7WUFaQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQzs7Z0JBQ2hCLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7WUFDL0IsSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFOztvQkFDMUIsT0FBTyxHQUFHLENBQUMsbUJBQU0sTUFBTSxFQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEtBQUssRUFBekIsQ0FBeUIsQ0FBQztnQkFDckUsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxhQUFhLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7aUJBQ3BFO3FCQUFNO29CQUNMLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO2lCQUNuQjthQUNGO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2FBQ3BCO1FBQ0gsQ0FBQzs7O09BZkE7SUFpQkQsc0JBQUksc0NBQU87Ozs7UUFBWDtZQUNFLE9BQU8sWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLDBCQUEwQixFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzVFLENBQUM7OztPQUFBO0lBRUQsc0JBQUksdUNBQVE7Ozs7UUFBWjtZQUNFLE9BQU8sWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLDZCQUE2QixFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQy9FLENBQUM7OztPQUFBOzs7OztJQUVELHVDQUFXOzs7O0lBQVgsVUFBWSxLQUFLO1FBQ2YsSUFBSSxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQzlCLElBQUksQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ2pFO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDOztnQkF2RUYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxXQUFXO29CQUNyQixRQUFRLEVBQUUsMnVCQW1CVDtvQkFDRCxTQUFTLEVBQUUsQ0FBQzs0QkFDVixPQUFPLEVBQUUsaUJBQWlCOzRCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLGNBQU0sT0FBQSxpQkFBaUIsRUFBakIsQ0FBaUIsQ0FBQzs0QkFDaEQsS0FBSyxFQUFFLElBQUk7eUJBQ1osQ0FBQztpQkFDSDs7SUE2Q0Qsd0JBQUM7Q0FBQSxBQXhFRCxDQTZCdUMsZ0NBQWdDLEdBMkN0RTtTQTNDWSxpQkFBaUI7OztJQUU1Qix3Q0FBOEI7O0lBRTlCLDJDQUFrQzs7SUFFbEMsMENBQW9DOztJQUVwQyxxQ0FBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgZm9yd2FyZFJlZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge05HX1ZBTFVFX0FDQ0VTU09SfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0RhdGFBd2FyZUNvbnRyb2xXcmFwcGVyQ29tcG9uZW50fSBmcm9tICdAZXIvY29yZSc7XG5pbXBvcnQge0NvbW1vbnNVdGlscywgRGF0YUl0ZW1VdGlsc30gZnJvbSAnQGVyL3V0aWxzJztcbmltcG9ydCB7REVGQVVMVF9SQURJT19QUk9QUywgUG5nUmFkaW9Qcm9wc30gZnJvbSAnLi90eXBlJztcblxuZXhwb3J0IHtQbmdSYWRpb1Byb3BzfSBmcm9tICcuL3R5cGUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwbmctcmFkaW8nLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggcGItMlwiIFtlckFwaURhdGFdPVwiYXBpRGF0YVByb3BzXCIgW25nQ2xhc3NdPVwiJHByb3BzLiRleHRbJ2lubGluZSddPT09ZmFsc2U/J2ZsZXgtY29sdW1uJzonZmxleC13cmFwJ1wiPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIGRhdGEkfGFzeW5jfGVyRGF0YUl0ZW1zOiRwcm9wcy4kZXh0LmRhdGFJdGVtUHJvcHM7bGV0IGk9aW5kZXhcIj5cbiAgICAgICA8c3BhbiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPHAtcmFkaW9CdXR0b25cbiAgICAgICAgICBjbGFzcz1cIm0tMlwiXG4gICAgICAgICAgWyhuZ01vZGVsKV09XCJyYlZhbHVlXCJcbiAgICAgICAgICBlclByb3BzQmluZFxuICAgICAgICAgIFtwcm9wc109XCIkcHJvcHNcIlxuICAgICAgICAgIFtjb250ZXh0XT1cImN0eFwiXG4gICAgICAgICAgW2lucHV0SWRdPVwiaVwiXG4gICAgICAgICAgW3ZhbHVlXT1cIm9wdGlvbi5kYXRhfGVyVmFsdWU6ZGF0YUtleVwiXG4gICAgICAgICAgKG9uQ2xpY2spPVwidXBkYXRlVG91Y2goKVwiXG4gICAgICAgID5cbiAgICAgICAgPC9wLXJhZGlvQnV0dG9uPlxuICAgICAgICA8c3BhbiBjbGFzcz1cIm1yLTRcIiBbaW5uZXJIVE1MXT1cIm9wdGlvbi5sYWJlbHxlclNhZmVIdG1sXCI+PC9zcGFuPlxuICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuICBgLFxuICBwcm92aWRlcnM6IFt7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gUG5nUmFkaW9Db21wb25lbnQpLFxuICAgIG11bHRpOiB0cnVlXG4gIH1dXG59KVxuXG5leHBvcnQgY2xhc3MgUG5nUmFkaW9Db21wb25lbnQgZXh0ZW5kcyBEYXRhQXdhcmVDb250cm9sV3JhcHBlckNvbXBvbmVudDxQbmdSYWRpb1Byb3BzPiB7XG5cbiAgdmFsdWVQYXJzZXIgPSB0aGlzLnBhcnNlVmFsdWU7XG5cbiAgbW9kZWxGb3JtYXR0ZXIgPSB0aGlzLmZvcm1hdE1vZGVsO1xuXG4gICRkZWZhdWx0UHJvcHMgPSBERUZBVUxUX1JBRElPX1BST1BTO1xuXG4gIF9yYlZhbHVlOiBzdHJpbmc7XG5cbiAgZ2V0IHJiVmFsdWUoKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5fcmJWYWx1ZTtcbiAgfVxuXG4gIHNldCByYlZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICB0aGlzLl9yYlZhbHVlID0gdmFsdWU7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy5kYXRhJC52YWx1ZTtcbiAgICBpZiAoQ29tbW9uc1V0aWxzLmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgY29uc3QgbWF0Y2hlZCA9ICg8e31bXT52YWx1ZXMpLmZpbHRlcih2ID0+IHZbdGhpcy5kYXRhS2V5XSA9PT0gdmFsdWUpO1xuICAgICAgaWYgKG1hdGNoZWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBEYXRhSXRlbVV0aWxzLmdldEl0ZW1WYWx1ZShtYXRjaGVkWzBdLCB0aGlzLnZhbHVlS2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGRhdGFLZXkoKSB7XG4gICAgcmV0dXJuIENvbW1vbnNVdGlscy5nZXQodGhpcy4kcHJvcHMsICckZXh0LmRhdGFJdGVtUHJvcHMuaWRLZXknLCAndmFsdWUnKTtcbiAgfVxuXG4gIGdldCB2YWx1ZUtleSgpIHtcbiAgICByZXR1cm4gQ29tbW9uc1V0aWxzLmdldCh0aGlzLiRwcm9wcywgJyRleHQuZGF0YUl0ZW1Qcm9wcy52YWx1ZUtleScsICd2YWx1ZScpO1xuICB9XG5cbiAgZm9ybWF0TW9kZWwobW9kZWwpIHtcbiAgICBpZiAoQ29tbW9uc1V0aWxzLmlzSnNvbihtb2RlbCkpIHtcbiAgICAgIHRoaXMuX3JiVmFsdWUgPSBEYXRhSXRlbVV0aWxzLmdldEl0ZW1WYWx1ZShtb2RlbCwgdGhpcy5kYXRhS2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG59XG4iXX0=