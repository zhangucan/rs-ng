/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { BaseComponent } from '@er/core';
import { DialogUtils } from '@er/utils';
export class PngSearchBoxComponent extends BaseComponent {
    constructor() {
        super(...arguments);
        this.searched = false;
        this.title = '按关键字搜索,输入回车键执行';
        this.onSearch = new EventEmitter();
        this.onSearchChange = new EventEmitter();
    }
    /**
     * @return {?}
     */
    search() {
        this.searched = true;
        this.onSearch.emit(this.searchKey);
    }
    /**
     * @return {?}
     */
    keyChange() {
        if (!this.searchKey || this.searchKey.length === 0) {
            this.clearSearch();
        }
        this.onSearchChange.emit(this.searchKey);
    }
    /**
     * @return {?}
     */
    clearSearch() {
        this.searchKey = undefined;
        if (this.searched) {
            this.onSearch.emit(undefined);
        }
        this.searched = false;
    }
    /**
     * @return {?}
     */
    showHelp() {
        DialogUtils.info('查询操作符', `
    <div class="ml-3">
       <div><b class="font-weight-bold">+</b> 并且</div>
       <div><b class="font-weight-bold">|</b> 或者</div>
       <div><b class="font-weight-bold">-</b> 排除</div>
       <div><b class="font-weight-bold">*</b> 开头</div>
       <div><b class="font-weight-bold">( )</b> 优先</div>
    </div>
    `);
    }
}
PngSearchBoxComponent.decorators = [
    { type: Component, args: [{
                selector: 'png-search-box',
                template: `
    <span class="inner-addon" [ngClass]="styleClass" [ngStyle]="style">
      <i class="fa fa-search text-primary left"></i>
      <input [title]="title" pInputText placeholder="输入搜索关键字或拼音" [(ngModel)]="searchKey" (keydown.enter)="search()" (keyup)="keyChange()"/>
      <i *ngIf="searchKey" class="fa fa-trash gray right" [title]="title" (click)="clearSearch()"></i>
   </span>
    <span class="position-container"><i title="多值查询帮助" class="fa fa-question-circle green position-absolute" style="right:2px"
                                        (click)="showHelp()"></i></span>

  `
            }] }
];
PngSearchBoxComponent.propDecorators = {
    styleClass: [{ type: Input }],
    style: [{ type: Input }],
    title: [{ type: Input }],
    onSearch: [{ type: Output }],
    onSearchChange: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    PngSearchBoxComponent.prototype.searchKey;
    /** @type {?} */
    PngSearchBoxComponent.prototype.searched;
    /** @type {?} */
    PngSearchBoxComponent.prototype.styleClass;
    /** @type {?} */
    PngSearchBoxComponent.prototype.style;
    /** @type {?} */
    PngSearchBoxComponent.prototype.title;
    /** @type {?} */
    PngSearchBoxComponent.prototype.onSearch;
    /** @type {?} */
    PngSearchBoxComponent.prototype.onSearchChange;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ByaW1lbmcvIiwic291cmNlcyI6WyJsaWIvY29tcG9uZW50cy9zZWFyY2gtYm94L2NvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNyRSxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sVUFBVSxDQUFDO0FBQ3ZDLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxXQUFXLENBQUM7QUFnQnRDLE1BQU0sT0FBTyxxQkFBc0IsU0FBUSxhQUFhO0lBZHhEOztRQWtCRSxhQUFRLEdBQUcsS0FBSyxDQUFDO1FBTVIsVUFBSyxHQUFHLGdCQUFnQixDQUFDO1FBRXhCLGFBQVEsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBRTlCLG1CQUFjLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztJQWlDaEQsQ0FBQzs7OztJQS9CQyxNQUFNO1FBQ0osSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Ozs7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2xELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUNwQjtRQUNELElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMzQyxDQUFDOzs7O0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUMvQjtRQUNELElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLENBQUM7Ozs7SUFFRCxRQUFRO1FBQ04sV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7Ozs7Ozs7O0tBUXpCLENBQUMsQ0FBQztJQUNMLENBQUM7OztZQTVERixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLGdCQUFnQjtnQkFDMUIsUUFBUSxFQUFFOzs7Ozs7Ozs7R0FTVDthQUNGOzs7eUJBUUUsS0FBSztvQkFFTCxLQUFLO29CQUVMLEtBQUs7dUJBRUwsTUFBTTs2QkFFTixNQUFNOzs7O0lBWlAsMENBQWtCOztJQUVsQix5Q0FBaUI7O0lBRWpCLDJDQUE0Qjs7SUFFNUIsc0NBQW9COztJQUVwQixzQ0FBa0M7O0lBRWxDLHlDQUF3Qzs7SUFFeEMsK0NBQThDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Jhc2VDb21wb25lbnR9IGZyb20gJ0Blci9jb3JlJztcbmltcG9ydCB7RGlhbG9nVXRpbHN9IGZyb20gJ0Blci91dGlscyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BuZy1zZWFyY2gtYm94JyxcbiAgdGVtcGxhdGU6IGBcbiAgICA8c3BhbiBjbGFzcz1cImlubmVyLWFkZG9uXCIgW25nQ2xhc3NdPVwic3R5bGVDbGFzc1wiIFtuZ1N0eWxlXT1cInN0eWxlXCI+XG4gICAgICA8aSBjbGFzcz1cImZhIGZhLXNlYXJjaCB0ZXh0LXByaW1hcnkgbGVmdFwiPjwvaT5cbiAgICAgIDxpbnB1dCBbdGl0bGVdPVwidGl0bGVcIiBwSW5wdXRUZXh0IHBsYWNlaG9sZGVyPVwi6L6T5YWl5pCc57Si5YWz6ZSu5a2X5oiW5ou86Z+zXCIgWyhuZ01vZGVsKV09XCJzZWFyY2hLZXlcIiAoa2V5ZG93bi5lbnRlcik9XCJzZWFyY2goKVwiIChrZXl1cCk9XCJrZXlDaGFuZ2UoKVwiLz5cbiAgICAgIDxpICpuZ0lmPVwic2VhcmNoS2V5XCIgY2xhc3M9XCJmYSBmYS10cmFzaCBncmF5IHJpZ2h0XCIgW3RpdGxlXT1cInRpdGxlXCIgKGNsaWNrKT1cImNsZWFyU2VhcmNoKClcIj48L2k+XG4gICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9XCJwb3NpdGlvbi1jb250YWluZXJcIj48aSB0aXRsZT1cIuWkmuWAvOafpeivouW4ruWKqVwiIGNsYXNzPVwiZmEgZmEtcXVlc3Rpb24tY2lyY2xlIGdyZWVuIHBvc2l0aW9uLWFic29sdXRlXCIgc3R5bGU9XCJyaWdodDoycHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJzaG93SGVscCgpXCI+PC9pPjwvc3Bhbj5cblxuICBgXG59KVxuXG5leHBvcnQgY2xhc3MgUG5nU2VhcmNoQm94Q29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG5cbiAgc2VhcmNoS2V5OiBzdHJpbmc7XG5cbiAgc2VhcmNoZWQgPSBmYWxzZTtcblxuICBASW5wdXQoKSBzdHlsZUNsYXNzOiBzdHJpbmc7XG5cbiAgQElucHV0KCkgc3R5bGU6IGFueTtcblxuICBASW5wdXQoKSB0aXRsZSA9ICfmjInlhbPplK7lrZfmkJzntKIs6L6T5YWl5Zue6L2m6ZSu5omn6KGMJztcblxuICBAT3V0cHV0KCkgb25TZWFyY2ggPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQE91dHB1dCgpIG9uU2VhcmNoQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHNlYXJjaCgpIHtcbiAgICB0aGlzLnNlYXJjaGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9uU2VhcmNoLmVtaXQodGhpcy5zZWFyY2hLZXkpO1xuICB9XG5cbiAga2V5Q2hhbmdlKCkge1xuICAgIGlmICghdGhpcy5zZWFyY2hLZXkgfHwgdGhpcy5zZWFyY2hLZXkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmNsZWFyU2VhcmNoKCk7XG4gICAgfVxuICAgIHRoaXMub25TZWFyY2hDaGFuZ2UuZW1pdCh0aGlzLnNlYXJjaEtleSk7XG4gIH1cblxuICBjbGVhclNlYXJjaCgpIHtcbiAgICB0aGlzLnNlYXJjaEtleSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5zZWFyY2hlZCkge1xuICAgICAgdGhpcy5vblNlYXJjaC5lbWl0KHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHRoaXMuc2VhcmNoZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHNob3dIZWxwKCkge1xuICAgIERpYWxvZ1V0aWxzLmluZm8oJ+afpeivouaTjeS9nOespicsIGBcbiAgICA8ZGl2IGNsYXNzPVwibWwtM1wiPlxuICAgICAgIDxkaXY+PGIgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+KzwvYj4g5bm25LiUPC9kaXY+XG4gICAgICAgPGRpdj48YiBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGRcIj58PC9iPiDmiJbogIU8L2Rpdj5cbiAgICAgICA8ZGl2PjxiIGNsYXNzPVwiZm9udC13ZWlnaHQtYm9sZFwiPi08L2I+IOaOkumZpDwvZGl2PlxuICAgICAgIDxkaXY+PGIgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+KjwvYj4g5byA5aS0PC9kaXY+XG4gICAgICAgPGRpdj48YiBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGRcIj4oICk8L2I+IOS8mOWFiDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGApO1xuICB9XG59XG4iXX0=