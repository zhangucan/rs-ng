/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ChangeDetectionStrategy, Component, Input } from '@angular/core';
import { StateNames } from '@er/types';
import { StatesUtils } from '@er/utils';
import { distinctUntilChanged, map } from 'rxjs/operators';
import { PngAdminWorkSpaceComponent } from '../component';
export class WorkSpaceMainMenuComponent {
    /**
     * @param {?} ws
     */
    constructor(ws) {
        this.ws = ws;
        this.theme = 'blue';
        this.layout = 'blue';
        this.version = 'v4';
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.menus$ = StatesUtils.observe(StateNames.rootMenu)
            .pipe(map(menu => (menu && menu.menuItems) || []), distinctUntilChanged());
    }
    /**
     * @param {?} theme
     * @return {?}
     */
    changeTheme(theme) {
        /** @type {?} */
        const themeLink = (/** @type {?} */ (document.getElementById('theme-css')));
        if (this.version === 'v3') {
            themeLink.href = 'assets/theme/theme-' + theme + '.css';
        }
        else {
            themeLink.href = 'assets/theme/theme-' + theme + '-v4' + '.css';
        }
        this.theme = theme;
    }
    /**
     * @param {?} layout
     * @param {?=} special
     * @return {?}
     */
    changeLayout(layout, special) {
        /** @type {?} */
        const layoutLink = (/** @type {?} */ (document.getElementById('layout-css')));
        if (this.version === 'v3') {
            layoutLink.href = 'assets/layout/css/layout-' + layout + '.css';
        }
        else {
            layoutLink.href = 'assets/layout/css/layout-' + layout + '-v4' + '.css';
        }
        this.layout = layout;
        if (special) {
            this.ws.darkMenu = true;
        }
    }
    /**
     * @param {?} version
     * @return {?}
     */
    changeVersion(version) {
        /** @type {?} */
        const themeLink = (/** @type {?} */ (document.getElementById('theme-css')));
        /** @type {?} */
        const layoutLink = (/** @type {?} */ (document.getElementById('layout-css')));
        if (version === 'v3') {
            this.version = 'v3';
            themeLink.href = 'assets/theme/theme-' + this.theme + '.css';
            layoutLink.href = 'assets/layout/css/layout-' + this.layout + '.css';
        }
        else {
            themeLink.href = 'assets/theme/theme-' + this.theme + '-v4' + '.css';
            layoutLink.href = 'assets/layout/css/layout-' + this.layout + '-v4' + '.css';
            this.version = '-v4';
        }
    }
}
WorkSpaceMainMenuComponent.decorators = [
    { type: Component, args: [{
                selector: 'png-ws-main-menu',
                template: `
    <ul png-ws-sub-menu
        erAnimate="fadeInDown"
        class="layout-menu layout-main-menu clearfix"
        [erHttpState]="httpMenuTag"
        [item]="menus$|async" [root]="true"
        [reset]="reset"
        [visible]="true"
        [parentActive]="true"></ul>
  `,
                changeDetection: ChangeDetectionStrategy.OnPush
            }] }
];
/** @nocollapse */
WorkSpaceMainMenuComponent.ctorParameters = () => [
    { type: PngAdminWorkSpaceComponent }
];
WorkSpaceMainMenuComponent.propDecorators = {
    reset: [{ type: Input }],
    httpMenuTag: [{ type: Input }]
};
if (false) {
    /** @type {?} */
    WorkSpaceMainMenuComponent.prototype.reset;
    /** @type {?} */
    WorkSpaceMainMenuComponent.prototype.httpMenuTag;
    /** @type {?} */
    WorkSpaceMainMenuComponent.prototype.menus$;
    /** @type {?} */
    WorkSpaceMainMenuComponent.prototype.theme;
    /** @type {?} */
    WorkSpaceMainMenuComponent.prototype.layout;
    /** @type {?} */
    WorkSpaceMainMenuComponent.prototype.version;
    /** @type {?} */
    WorkSpaceMainMenuComponent.prototype.ws;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ByaW1lbmcvIiwic291cmNlcyI6WyJsaWIvd29yay1zcGFjZS9tZW51L2NvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFDLHVCQUF1QixFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQVMsTUFBTSxlQUFlLENBQUM7QUFDaEYsT0FBTyxFQUFXLFVBQVUsRUFBQyxNQUFNLFdBQVcsQ0FBQztBQUMvQyxPQUFPLEVBQUMsV0FBVyxFQUFDLE1BQU0sV0FBVyxDQUFDO0FBRXRDLE9BQU8sRUFBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6RCxPQUFPLEVBQUMsMEJBQTBCLEVBQUMsTUFBTSxjQUFjLENBQUM7QUFnQnhELE1BQU0sT0FBTywwQkFBMEI7Ozs7SUFjckMsWUFBbUIsRUFBOEI7UUFBOUIsT0FBRSxHQUFGLEVBQUUsQ0FBNEI7UUFOakQsVUFBSyxHQUFHLE1BQU0sQ0FBQztRQUVmLFdBQU0sR0FBRyxNQUFNLENBQUM7UUFFaEIsWUFBTyxHQUFHLElBQUksQ0FBQztJQUdmLENBQUM7Ozs7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7YUFDbkQsSUFBSSxDQUNILEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsRUFDM0Msb0JBQW9CLEVBQUUsQ0FDdkIsQ0FBQztJQUNOLENBQUM7Ozs7O0lBRUQsV0FBVyxDQUFDLEtBQWE7O2NBQ2pCLFNBQVMsR0FBb0IsbUJBQWtCLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLEVBQUE7UUFFekYsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksRUFBRTtZQUN6QixTQUFTLENBQUMsSUFBSSxHQUFHLHFCQUFxQixHQUFHLEtBQUssR0FBRyxNQUFNLENBQUM7U0FDekQ7YUFBTTtZQUNMLFNBQVMsQ0FBQyxJQUFJLEdBQUcscUJBQXFCLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUM7U0FDakU7UUFFRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUVyQixDQUFDOzs7Ozs7SUFFRCxZQUFZLENBQUMsTUFBYyxFQUFFLE9BQWlCOztjQUN0QyxVQUFVLEdBQW9CLG1CQUFrQixRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxFQUFBO1FBRTNGLElBQUksSUFBSSxDQUFDLE9BQU8sS0FBSyxJQUFJLEVBQUU7WUFDekIsVUFBVSxDQUFDLElBQUksR0FBRywyQkFBMkIsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQ2pFO2FBQU07WUFDTCxVQUFVLENBQUMsSUFBSSxHQUFHLDJCQUEyQixHQUFHLE1BQU0sR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUFDO1NBQ3pFO1FBRUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFFckIsSUFBSSxPQUFPLEVBQUU7WUFDWCxJQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FDekI7SUFDSCxDQUFDOzs7OztJQUVELGFBQWEsQ0FBQyxPQUFlOztjQUNyQixTQUFTLEdBQW9CLG1CQUFrQixRQUFRLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxFQUFBOztjQUNuRixVQUFVLEdBQW9CLG1CQUFrQixRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxFQUFBO1FBRTNGLElBQUksT0FBTyxLQUFLLElBQUksRUFBRTtZQUNwQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUNwQixTQUFTLENBQUMsSUFBSSxHQUFHLHFCQUFxQixHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDO1lBQzdELFVBQVUsQ0FBQyxJQUFJLEdBQUcsMkJBQTJCLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7U0FDdEU7YUFBTTtZQUNMLFNBQVMsQ0FBQyxJQUFJLEdBQUcscUJBQXFCLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUFDO1lBQ3JFLFVBQVUsQ0FBQyxJQUFJLEdBQUcsMkJBQTJCLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUFDO1lBQzdFLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1NBQ3RCO0lBRUgsQ0FBQzs7O1lBbEZGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsa0JBQWtCO2dCQUM1QixRQUFRLEVBQUU7Ozs7Ozs7OztHQVNUO2dCQUNELGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO2FBQ2hEOzs7O1lBZk8sMEJBQTBCOzs7b0JBa0IvQixLQUFLOzBCQUVMLEtBQUs7Ozs7SUFGTiwyQ0FBd0I7O0lBRXhCLGlEQUEwQjs7SUFFMUIsNENBQStCOztJQUUvQiwyQ0FBZTs7SUFFZiw0Q0FBZ0I7O0lBRWhCLDZDQUFlOztJQUVILHdDQUFxQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge01lbnVJdGVtLCBTdGF0ZU5hbWVzfSBmcm9tICdAZXIvdHlwZXMnO1xuaW1wb3J0IHtTdGF0ZXNVdGlsc30gZnJvbSAnQGVyL3V0aWxzJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2Rpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7UG5nQWRtaW5Xb3JrU3BhY2VDb21wb25lbnR9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3BuZy13cy1tYWluLW1lbnUnLFxuICB0ZW1wbGF0ZTogYFxuICAgIDx1bCBwbmctd3Mtc3ViLW1lbnVcbiAgICAgICAgZXJBbmltYXRlPVwiZmFkZUluRG93blwiXG4gICAgICAgIGNsYXNzPVwibGF5b3V0LW1lbnUgbGF5b3V0LW1haW4tbWVudSBjbGVhcmZpeFwiXG4gICAgICAgIFtlckh0dHBTdGF0ZV09XCJodHRwTWVudVRhZ1wiXG4gICAgICAgIFtpdGVtXT1cIm1lbnVzJHxhc3luY1wiIFtyb290XT1cInRydWVcIlxuICAgICAgICBbcmVzZXRdPVwicmVzZXRcIlxuICAgICAgICBbdmlzaWJsZV09XCJ0cnVlXCJcbiAgICAgICAgW3BhcmVudEFjdGl2ZV09XCJ0cnVlXCI+PC91bD5cbiAgYCxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5leHBvcnQgY2xhc3MgV29ya1NwYWNlTWFpbk1lbnVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpIHJlc2V0OiBib29sZWFuO1xuXG4gIEBJbnB1dCgpIGh0dHBNZW51VGFnOiBhbnk7XG5cbiAgbWVudXMkOiBPYnNlcnZhYmxlPE1lbnVJdGVtW10+O1xuXG4gIHRoZW1lID0gJ2JsdWUnO1xuXG4gIGxheW91dCA9ICdibHVlJztcblxuICB2ZXJzaW9uID0gJ3Y0JztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgd3M6IFBuZ0FkbWluV29ya1NwYWNlQ29tcG9uZW50KSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLm1lbnVzJCA9IFN0YXRlc1V0aWxzLm9ic2VydmUoU3RhdGVOYW1lcy5yb290TWVudSlcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAobWVudSA9PiAobWVudSAmJiBtZW51Lm1lbnVJdGVtcykgfHwgW10pLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICApO1xuICB9XG5cbiAgY2hhbmdlVGhlbWUodGhlbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHRoZW1lTGluazogSFRNTExpbmtFbGVtZW50ID0gPEhUTUxMaW5rRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lLWNzcycpO1xuXG4gICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gJ3YzJykge1xuICAgICAgdGhlbWVMaW5rLmhyZWYgPSAnYXNzZXRzL3RoZW1lL3RoZW1lLScgKyB0aGVtZSArICcuY3NzJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhlbWVMaW5rLmhyZWYgPSAnYXNzZXRzL3RoZW1lL3RoZW1lLScgKyB0aGVtZSArICctdjQnICsgJy5jc3MnO1xuICAgIH1cblxuICAgIHRoaXMudGhlbWUgPSB0aGVtZTtcblxuICB9XG5cbiAgY2hhbmdlTGF5b3V0KGxheW91dDogc3RyaW5nLCBzcGVjaWFsPzogYm9vbGVhbikge1xuICAgIGNvbnN0IGxheW91dExpbms6IEhUTUxMaW5rRWxlbWVudCA9IDxIVE1MTGlua0VsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXlvdXQtY3NzJyk7XG5cbiAgICBpZiAodGhpcy52ZXJzaW9uID09PSAndjMnKSB7XG4gICAgICBsYXlvdXRMaW5rLmhyZWYgPSAnYXNzZXRzL2xheW91dC9jc3MvbGF5b3V0LScgKyBsYXlvdXQgKyAnLmNzcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheW91dExpbmsuaHJlZiA9ICdhc3NldHMvbGF5b3V0L2Nzcy9sYXlvdXQtJyArIGxheW91dCArICctdjQnICsgJy5jc3MnO1xuICAgIH1cblxuICAgIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuXG4gICAgaWYgKHNwZWNpYWwpIHtcbiAgICAgIHRoaXMud3MuZGFya01lbnUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVZlcnNpb24odmVyc2lvbjogc3RyaW5nKSB7XG4gICAgY29uc3QgdGhlbWVMaW5rOiBIVE1MTGlua0VsZW1lbnQgPSA8SFRNTExpbmtFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbWUtY3NzJyk7XG4gICAgY29uc3QgbGF5b3V0TGluazogSFRNTExpbmtFbGVtZW50ID0gPEhUTUxMaW5rRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xheW91dC1jc3MnKTtcblxuICAgIGlmICh2ZXJzaW9uID09PSAndjMnKSB7XG4gICAgICB0aGlzLnZlcnNpb24gPSAndjMnO1xuICAgICAgdGhlbWVMaW5rLmhyZWYgPSAnYXNzZXRzL3RoZW1lL3RoZW1lLScgKyB0aGlzLnRoZW1lICsgJy5jc3MnO1xuICAgICAgbGF5b3V0TGluay5ocmVmID0gJ2Fzc2V0cy9sYXlvdXQvY3NzL2xheW91dC0nICsgdGhpcy5sYXlvdXQgKyAnLmNzcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoZW1lTGluay5ocmVmID0gJ2Fzc2V0cy90aGVtZS90aGVtZS0nICsgdGhpcy50aGVtZSArICctdjQnICsgJy5jc3MnO1xuICAgICAgbGF5b3V0TGluay5ocmVmID0gJ2Fzc2V0cy9sYXlvdXQvY3NzL2xheW91dC0nICsgdGhpcy5sYXlvdXQgKyAnLXY0JyArICcuY3NzJztcbiAgICAgIHRoaXMudmVyc2lvbiA9ICctdjQnO1xuICAgIH1cblxuICB9XG59XG4iXX0=