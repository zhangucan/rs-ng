/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { FormGroup } from '@angular/forms';
import { FormUtils } from '@er/utils';
/** @type {?} */
export var equalToValidator = function (controlName) {
    /** @type {?} */
    var fn = function (control) {
        /** @type {?} */
        var parent = control.parent;
        /** @type {?} */
        var target;
        while (parent instanceof FormGroup) {
            target = FormUtils.getFormControl(parent, controlName);
            if (target) {
                break;
            }
            parent = parent.parent;
        }
        if (target) {
            /** @type {?} */
            var value = control.value;
            /** @type {?} */
            var targetValue = target.value;
            /** @type {?} */
            var isValid = value === targetValue;
            return isValid ? null : { 'equalTo': { value: value, controlName: controlName } };
        }
        return null;
    };
    return fn;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdG9yLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ZhbGlkYXRlLyIsInNvdXJjZXMiOlsibGliL3ZhbGlkYXRvcnMvZXF1YWwtdG8vdmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQWtCLFNBQVMsRUFBYyxNQUFNLGdCQUFnQixDQUFDO0FBQ3ZFLE9BQU8sRUFBQyxTQUFTLEVBQUMsTUFBTSxXQUFXLENBQUM7O0FBR3BDLE1BQU0sS0FBTyxnQkFBZ0IsR0FBRyxVQUFVLFdBQW1COztRQUNyRCxFQUFFLEdBQUcsVUFBQyxPQUF3Qjs7WUFDOUIsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNOztZQUN2QixNQUF1QjtRQUMzQixPQUFPLE1BQU0sWUFBWSxTQUFTLEVBQUU7WUFDbEMsTUFBTSxHQUFJLFNBQVMsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ3hELElBQUksTUFBTSxFQUFFO2dCQUFFLE1BQU07YUFBRTtZQUN0QixNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUN4QjtRQUNELElBQUksTUFBTSxFQUFFOztnQkFDSixLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUs7O2dCQUNyQixXQUFXLEdBQUcsTUFBTSxDQUFDLEtBQUs7O2dCQUMxQixPQUFPLEdBQUcsS0FBSyxLQUFLLFdBQVc7WUFDckMsT0FBTyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxTQUFTLEVBQUUsRUFBQyxLQUFLLE9BQUEsRUFBRSxXQUFXLGFBQUEsRUFBQyxFQUFDLENBQUM7U0FDM0Q7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fic3RyYWN0Q29udHJvbCwgRm9ybUdyb3VwLCBWYWxpZGF0b3JGbn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtGb3JtVXRpbHN9IGZyb20gJ0Blci91dGlscyc7XG5cblxuZXhwb3J0IGNvbnN0IGVxdWFsVG9WYWxpZGF0b3IgPSBmdW5jdGlvbiAoY29udHJvbE5hbWU6IHN0cmluZyk6IFZhbGlkYXRvckZuIHtcbiAgY29uc3QgZm4gPSAoY29udHJvbDogQWJzdHJhY3RDb250cm9sKSA9PiB7XG4gICAgbGV0IHBhcmVudCA9IGNvbnRyb2wucGFyZW50O1xuICAgIGxldCB0YXJnZXQ6IEFic3RyYWN0Q29udHJvbDtcbiAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgRm9ybUdyb3VwKSB7XG4gICAgICB0YXJnZXQgPSAgRm9ybVV0aWxzLmdldEZvcm1Db250cm9sKHBhcmVudCwgY29udHJvbE5hbWUpO1xuICAgICAgaWYgKHRhcmdldCkgeyBicmVhazsgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBjb250cm9sLnZhbHVlO1xuICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXQudmFsdWU7XG4gICAgICBjb25zdCBpc1ZhbGlkID0gdmFsdWUgPT09IHRhcmdldFZhbHVlO1xuICAgICAgcmV0dXJuIGlzVmFsaWQgPyBudWxsIDogeydlcXVhbFRvJzoge3ZhbHVlLCBjb250cm9sTmFtZX19O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgcmV0dXJuIGZuO1xufTtcbiJdfQ==