/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { CommonsUtils, DateUtils } from '@er/utils';
/** @type {?} */
export var ageValidator = function (min, max) {
    /** @type {?} */
    var fn = function (control) {
        /** @type {?} */
        var value = control.value;
        if (!value) {
            return null;
        }
        if (!DateUtils.isDate(value)) {
            return { 'age': { message: '错误的日期格式', value: value } };
        }
        /** @type {?} */
        var age = CommonsUtils.getAge(value);
        /** @type {?} */
        var isInValid = (min > 0 && age < min) || (max > 0 && age > max);
        return isInValid ? null : { 'age': { min: min, max: max, value: value } };
    };
    return fn;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdG9yLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ZhbGlkYXRlLyIsInNvdXJjZXMiOlsibGliL3ZhbGlkYXRvcnMvYWdlLXJhbmdlL3ZhbGlkYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUFDLFlBQVksRUFBRSxTQUFTLEVBQUMsTUFBTSxXQUFXLENBQUM7O0FBRWxELE1BQU0sS0FBTyxZQUFZLEdBQUcsVUFBVSxHQUFXLEVBQUUsR0FBVzs7UUFDdEQsRUFBRSxHQUFHLFVBQUMsT0FBd0I7O1lBQzVCLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSztRQUUzQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQzVCLE9BQU8sRUFBQyxLQUFLLEVBQUUsRUFBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssT0FBQSxFQUFDLEVBQUMsQ0FBQztTQUM3Qzs7WUFFSyxHQUFHLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7O1lBRWhDLFNBQVMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBRWxFLE9BQU8sU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsS0FBSyxFQUFFLEVBQUMsR0FBRyxLQUFBLEVBQUUsR0FBRyxLQUFBLEVBQUUsS0FBSyxPQUFBLEVBQUMsRUFBQyxDQUFDO0lBQ3ZELENBQUM7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fic3RyYWN0Q29udHJvbCwgVmFsaWRhdG9yRm59IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q29tbW9uc1V0aWxzLCBEYXRlVXRpbHN9IGZyb20gJ0Blci91dGlscyc7XG5cbmV4cG9ydCBjb25zdCBhZ2VWYWxpZGF0b3IgPSBmdW5jdGlvbiAobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogVmFsaWRhdG9yRm4ge1xuICBjb25zdCBmbiA9IChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGNvbnRyb2wudmFsdWU7XG5cbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIURhdGVVdGlscy5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4geydhZ2UnOiB7bWVzc2FnZTogJ+mUmeivr+eahOaXpeacn+agvOW8jycsIHZhbHVlfX07XG4gICAgfVxuXG4gICAgY29uc3QgYWdlID0gQ29tbW9uc1V0aWxzLmdldEFnZSh2YWx1ZSk7XG5cbiAgICBjb25zdCBpc0luVmFsaWQgPSAobWluID4gMCAmJiBhZ2UgPCBtaW4pIHx8IChtYXggPiAwICYmIGFnZSA+IG1heCk7XG5cbiAgICByZXR1cm4gaXNJblZhbGlkID8gbnVsbCA6IHsnYWdlJzoge21pbiwgbWF4LCB2YWx1ZX19O1xuICB9O1xuICByZXR1cm4gZm47XG59O1xuIl19