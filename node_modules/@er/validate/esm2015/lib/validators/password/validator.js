/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * @record
 */
export function PasswordValidatorOptions() { }
if (false) {
    /** @type {?|undefined} */
    PasswordValidatorOptions.prototype.minLength;
    /** @type {?|undefined} */
    PasswordValidatorOptions.prototype.maxLength;
    /** @type {?|undefined} */
    PasswordValidatorOptions.prototype.requireLetters;
    /** @type {?|undefined} */
    PasswordValidatorOptions.prototype.requireLowerCaseLetters;
    /** @type {?|undefined} */
    PasswordValidatorOptions.prototype.requireUpperCaseLetters;
    /** @type {?|undefined} */
    PasswordValidatorOptions.prototype.requireNumbers;
    /** @type {?|undefined} */
    PasswordValidatorOptions.prototype.requireSpecialCharacters;
}
/** @type {?} */
export const passwordValidator = function (options) {
    if (!options) {
        options = {
            minLength: 6,
            requireLetters: true,
            requireNumbers: true
        };
    }
    /** @type {?} */
    const validator = new PasswordValidator(options);
    return (control) => {
        return validator.validate(control.value);
    };
};
class PasswordValidator {
    /**
     * @param {?} options
     */
    constructor(options) {
        this.options = options;
        this.letterMatcher = /[a-zA-Z]/;
        this.lowerCaseLetterMatcher = /[a-z]/;
        this.upperCaseLetterMatcher = /[A-Z]/;
        this.numberMatcher = /[0-9]/;
        this.specialCharactersMatcher = /[-+=_.,:;~`!@#$%^&*(){}<>\[\]"'\/\\]/;
    }
    /**
     * @param {?} value
     * @return {?}
     */
    validate(value) {
        if (!value) {
            return null;
        }
        /** @type {?} */
        const errors = {};
        // Minimum length.
        if (this.options.minLength > 0 && value.length < this.options.minLength) {
            errors.passwordMinLengthRequired = {
                minLength: this.options.minLength
            };
        }
        // Maximum length.
        if (this.options.maxLength >= 0 && value.length > this.options.maxLength) {
            errors.passwordMaxLengthExceeded = {
                maxLength: this.options.maxLength
            };
        }
        // Letters.
        if (this.options.requireLetters && !this.letterMatcher.test(value)) {
            errors.passwordLetterRequired = true;
        }
        // Lower-case letters.
        if (this.options.requireLowerCaseLetters && !this.lowerCaseLetterMatcher.test(value)) {
            errors.passwordLowerCaseLetterRequired = true;
        }
        // Upper-case letters.
        if (this.options.requireUpperCaseLetters && !this.upperCaseLetterMatcher.test(value)) {
            errors.passwordUpperCaseLetterRequired = true;
        }
        // Numbers.
        if (this.options.requireNumbers && !this.numberMatcher.test(value)) {
            errors.passwordNumberRequired = true;
        }
        // Special characters.
        if (this.options.requireSpecialCharacters && !this.specialCharactersMatcher.test(value)) {
            errors.passwordSpecialCharacterRequired = true;
        }
        return Object.keys(errors).length > 0 ? { password: { errors, options: this.options } } : null;
    }
}
if (false) {
    /**
     * @type {?}
     * @private
     */
    PasswordValidator.prototype.letterMatcher;
    /**
     * @type {?}
     * @private
     */
    PasswordValidator.prototype.lowerCaseLetterMatcher;
    /**
     * @type {?}
     * @private
     */
    PasswordValidator.prototype.upperCaseLetterMatcher;
    /**
     * @type {?}
     * @private
     */
    PasswordValidator.prototype.numberMatcher;
    /**
     * @type {?}
     * @private
     */
    PasswordValidator.prototype.specialCharactersMatcher;
    /**
     * @type {?}
     * @private
     */
    PasswordValidator.prototype.options;
}
/**
 * @param {?} error
 * @return {?}
 */
export function passwordValidationMessage(error) {
    /** @type {?} */
    const options = (/** @type {?} */ (error.options));
    /** @type {?} */
    let s = [];
    if (options.minLength) {
        s.push('最少' + options.minLength + '位');
    }
    if (options.maxLength) {
        s.push('最多' + options.maxLength + '位');
    }
    if (options.requireLetters) {
        s.push('包含字母');
    }
    if (options.requireLowerCaseLetters) {
        s.push('包含小写字母');
    }
    if (options.requireUpperCaseLetters) {
        s.push('包含大小字母');
    }
    if (options.requireNumbers) {
        s.push('包含数字');
    }
    if (options.requireSpecialCharacters) {
        s.push('包含非数字和字母');
    }
    return `登录密码必须:<br>${s.join('<br>')}`;
}
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdG9yLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ZhbGlkYXRlLyIsInNvdXJjZXMiOlsibGliL3ZhbGlkYXRvcnMvcGFzc3dvcmQvdmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFHQSw4Q0FRQzs7O0lBUEMsNkNBQW1COztJQUNuQiw2Q0FBbUI7O0lBQ25CLGtEQUF5Qjs7SUFDekIsMkRBQWtDOztJQUNsQywyREFBa0M7O0lBQ2xDLGtEQUF5Qjs7SUFDekIsNERBQW1DOzs7QUFHckMsTUFBTSxPQUFPLGlCQUFpQixHQUFHLFVBQVUsT0FBa0M7SUFFM0UsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNaLE9BQU8sR0FBRztZQUNSLFNBQVMsRUFBRSxDQUFDO1lBQ1osY0FBYyxFQUFFLElBQUk7WUFDcEIsY0FBYyxFQUFFLElBQUk7U0FDckIsQ0FBQztLQUNIOztVQUVLLFNBQVMsR0FBRyxJQUFJLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztJQUVoRCxPQUFPLENBQUMsT0FBd0IsRUFBRSxFQUFFO1FBQ2xDLE9BQU8sU0FBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0MsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELE1BQU0saUJBQWlCOzs7O0lBU3JCLFlBQW9CLE9BQWlDO1FBQWpDLFlBQU8sR0FBUCxPQUFPLENBQTBCO1FBUDdDLGtCQUFhLEdBQUcsVUFBVSxDQUFDO1FBQzNCLDJCQUFzQixHQUFHLE9BQU8sQ0FBQztRQUNqQywyQkFBc0IsR0FBRyxPQUFPLENBQUM7UUFDakMsa0JBQWEsR0FBRyxPQUFPLENBQUM7UUFDeEIsNkJBQXdCLEdBQUcsc0NBQXNDLENBQUM7SUFJMUUsQ0FBQzs7Ozs7SUFHRCxRQUFRLENBQUMsS0FBYTtRQUVwQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsT0FBTyxJQUFJLENBQUM7U0FDYjs7Y0FFSyxNQUFNLEdBQVEsRUFBRTtRQUV0QixrQkFBa0I7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O0tBQ2hCO0lBQ0QsSUFBSSxPQUFPLENBQUMsdUJBQXVCLEVBQUU7UUFDbkMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNsQjtJQUNELElBQUksT0FBTyxDQUFDLHVCQUF1QixFQUFFO1FBQ25DLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDbEI7SUFDRCxJQUFJLE9BQU8sQ0FBQyxjQUFjLEVBQUU7UUFDMUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNoQjtJQUNELElBQUksT0FBTyxDQUFDLHdCQUF3QixFQUFFO1FBQ3BDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7S0FDcEI7SUFDRCxPQUFPLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0FBQ3hDLENBQUM7QUFBQSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBYnN0cmFjdENvbnRyb2wsIFZhbGlkYXRvckZufSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cblxuZXhwb3J0IGludGVyZmFjZSBQYXNzd29yZFZhbGlkYXRvck9wdGlvbnMge1xuICBtaW5MZW5ndGg/OiBudW1iZXI7XG4gIG1heExlbmd0aD86IG51bWJlcjtcbiAgcmVxdWlyZUxldHRlcnM/OiBib29sZWFuO1xuICByZXF1aXJlTG93ZXJDYXNlTGV0dGVycz86IGJvb2xlYW47XG4gIHJlcXVpcmVVcHBlckNhc2VMZXR0ZXJzPzogYm9vbGVhbjtcbiAgcmVxdWlyZU51bWJlcnM/OiBib29sZWFuO1xuICByZXF1aXJlU3BlY2lhbENoYXJhY3RlcnM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgcGFzc3dvcmRWYWxpZGF0b3IgPSBmdW5jdGlvbiAob3B0aW9ucz86IFBhc3N3b3JkVmFsaWRhdG9yT3B0aW9ucyk6IFZhbGlkYXRvckZuIHtcblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgbWluTGVuZ3RoOiA2LFxuICAgICAgcmVxdWlyZUxldHRlcnM6IHRydWUsXG4gICAgICByZXF1aXJlTnVtYmVyczogdHJ1ZVxuICAgIH07XG4gIH1cblxuICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgUGFzc3dvcmRWYWxpZGF0b3Iob3B0aW9ucyk7XG5cbiAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcbiAgICByZXR1cm4gdmFsaWRhdG9yLnZhbGlkYXRlKGNvbnRyb2wudmFsdWUpO1xuICB9O1xufTtcblxuY2xhc3MgUGFzc3dvcmRWYWxpZGF0b3Ige1xuXG4gIHByaXZhdGUgbGV0dGVyTWF0Y2hlciA9IC9bYS16QS1aXS87XG4gIHByaXZhdGUgbG93ZXJDYXNlTGV0dGVyTWF0Y2hlciA9IC9bYS16XS87XG4gIHByaXZhdGUgdXBwZXJDYXNlTGV0dGVyTWF0Y2hlciA9IC9bQS1aXS87XG4gIHByaXZhdGUgbnVtYmVyTWF0Y2hlciA9IC9bMC05XS87XG4gIHByaXZhdGUgc3BlY2lhbENoYXJhY3RlcnNNYXRjaGVyID0gL1stKz1fLiw6O35gIUAjJCVeJiooKXt9PD5cXFtcXF1cIidcXC9cXFxcXS87XG5cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9wdGlvbnM6IFBhc3N3b3JkVmFsaWRhdG9yT3B0aW9ucykge1xuICB9XG5cblxuICB2YWxpZGF0ZSh2YWx1ZTogc3RyaW5nKTogYW55IHtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9yczogYW55ID0ge307XG5cbiAgICAvLyBNaW5pbXVtIGxlbmd0aC5cbiAgICBpZiAodGhpcy5vcHRpb25zLm1pbkxlbmd0aCA+IDAgJiYgdmFsdWUubGVuZ3RoIDwgdGhpcy5vcHRpb25zLm1pbkxlbmd0aCkge1xuICAgICAgZXJyb3JzLnBhc3N3b3JkTWluTGVuZ3RoUmVxdWlyZWQgPSB7XG4gICAgICAgIG1pbkxlbmd0aDogdGhpcy5vcHRpb25zLm1pbkxlbmd0aFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBNYXhpbXVtIGxlbmd0aC5cbiAgICBpZiAodGhpcy5vcHRpb25zLm1heExlbmd0aCA+PSAwICYmIHZhbHVlLmxlbmd0aCA+IHRoaXMub3B0aW9ucy5tYXhMZW5ndGgpIHtcbiAgICAgIGVycm9ycy5wYXNzd29yZE1heExlbmd0aEV4Y2VlZGVkID0ge1xuICAgICAgICBtYXhMZW5ndGg6IHRoaXMub3B0aW9ucy5tYXhMZW5ndGhcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gTGV0dGVycy5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlcXVpcmVMZXR0ZXJzICYmICF0aGlzLmxldHRlck1hdGNoZXIudGVzdCh2YWx1ZSkpIHtcbiAgICAgIGVycm9ycy5wYXNzd29yZExldHRlclJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBMb3dlci1jYXNlIGxldHRlcnMuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXF1aXJlTG93ZXJDYXNlTGV0dGVycyAmJiAhdGhpcy5sb3dlckNhc2VMZXR0ZXJNYXRjaGVyLnRlc3QodmFsdWUpKSB7XG4gICAgICBlcnJvcnMucGFzc3dvcmRMb3dlckNhc2VMZXR0ZXJSZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gVXBwZXItY2FzZSBsZXR0ZXJzLlxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVxdWlyZVVwcGVyQ2FzZUxldHRlcnMgJiYgIXRoaXMudXBwZXJDYXNlTGV0dGVyTWF0Y2hlci50ZXN0KHZhbHVlKSkge1xuICAgICAgZXJyb3JzLnBhc3N3b3JkVXBwZXJDYXNlTGV0dGVyUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIE51bWJlcnMuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXF1aXJlTnVtYmVycyAmJiAhdGhpcy5udW1iZXJNYXRjaGVyLnRlc3QodmFsdWUpKSB7XG4gICAgICBlcnJvcnMucGFzc3dvcmROdW1iZXJSZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gU3BlY2lhbCBjaGFyYWN0ZXJzLlxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVxdWlyZVNwZWNpYWxDaGFyYWN0ZXJzICYmICF0aGlzLnNwZWNpYWxDaGFyYWN0ZXJzTWF0Y2hlci50ZXN0KHZhbHVlKSkge1xuICAgICAgZXJyb3JzLnBhc3N3b3JkU3BlY2lhbENoYXJhY3RlclJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPiAwID8ge3Bhc3N3b3JkOiB7ZXJyb3JzLCBvcHRpb25zOiB0aGlzLm9wdGlvbnN9fSA6IG51bGw7XG5cbiAgfVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXNzd29yZFZhbGlkYXRpb25NZXNzYWdlKGVycm9yKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSA8UGFzc3dvcmRWYWxpZGF0b3JPcHRpb25zPmVycm9yLm9wdGlvbnM7XG4gIGxldCBzID0gW107XG4gIGlmIChvcHRpb25zLm1pbkxlbmd0aCkge1xuICAgIHMucHVzaCgn5pyA5bCRJyArIG9wdGlvbnMubWluTGVuZ3RoICsgJ+S9jScpO1xuICB9XG4gIGlmIChvcHRpb25zLm1heExlbmd0aCkge1xuICAgIHMucHVzaCgn5pyA5aSaJyArIG9wdGlvbnMubWF4TGVuZ3RoICsgJ+S9jScpO1xuICB9XG4gIGlmIChvcHRpb25zLnJlcXVpcmVMZXR0ZXJzKSB7XG4gICAgcy5wdXNoKCfljIXlkKvlrZfmr40nKTtcbiAgfVxuICBpZiAob3B0aW9ucy5yZXF1aXJlTG93ZXJDYXNlTGV0dGVycykge1xuICAgIHMucHVzaCgn5YyF5ZCr5bCP5YaZ5a2X5q+NJyk7XG4gIH1cbiAgaWYgKG9wdGlvbnMucmVxdWlyZVVwcGVyQ2FzZUxldHRlcnMpIHtcbiAgICBzLnB1c2goJ+WMheWQq+Wkp+Wwj+Wtl+avjScpO1xuICB9XG4gIGlmIChvcHRpb25zLnJlcXVpcmVOdW1iZXJzKSB7XG4gICAgcy5wdXNoKCfljIXlkKvmlbDlrZcnKTtcbiAgfVxuICBpZiAob3B0aW9ucy5yZXF1aXJlU3BlY2lhbENoYXJhY3RlcnMpIHtcbiAgICBzLnB1c2goJ+WMheWQq+mdnuaVsOWtl+WSjOWtl+avjScpO1xuICB9XG4gIHJldHVybiBg55m75b2V5a+G56CB5b+F6aG7Ojxicj4ke3Muam9pbignPGJyPicpfWA7XG59O1xuIl19