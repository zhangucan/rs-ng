/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { CommonsUtils, DateUtils } from '@er/utils';
/** @type {?} */
export const ageValidator = function (min, max) {
    /** @type {?} */
    const fn = (control) => {
        /** @type {?} */
        const value = control.value;
        if (!value) {
            return null;
        }
        if (!DateUtils.isDate(value)) {
            return { 'age': { message: '错误的日期格式', value } };
        }
        /** @type {?} */
        const age = CommonsUtils.getAge(value);
        /** @type {?} */
        const isInValid = (min > 0 && age < min) || (max > 0 && age > max);
        return isInValid ? null : { 'age': { min, max, value } };
    };
    return fn;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdG9yLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQGVyL3ZhbGlkYXRlLyIsInNvdXJjZXMiOlsibGliL3ZhbGlkYXRvcnMvYWdlLXJhbmdlL3ZhbGlkYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsT0FBTyxFQUFDLFlBQVksRUFBRSxTQUFTLEVBQUMsTUFBTSxXQUFXLENBQUM7O0FBRWxELE1BQU0sT0FBTyxZQUFZLEdBQUcsVUFBVSxHQUFXLEVBQUUsR0FBVzs7VUFDdEQsRUFBRSxHQUFHLENBQUMsT0FBd0IsRUFBRSxFQUFFOztjQUNoQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUs7UUFFM0IsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUM1QixPQUFPLEVBQUMsS0FBSyxFQUFFLEVBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUMsRUFBQyxDQUFDO1NBQzdDOztjQUVLLEdBQUcsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzs7Y0FFaEMsU0FBUyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFFbEUsT0FBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxLQUFLLEVBQUUsRUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBQyxFQUFDLENBQUM7SUFDdkQsQ0FBQztJQUNELE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWJzdHJhY3RDb250cm9sLCBWYWxpZGF0b3JGbn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtDb21tb25zVXRpbHMsIERhdGVVdGlsc30gZnJvbSAnQGVyL3V0aWxzJztcblxuZXhwb3J0IGNvbnN0IGFnZVZhbGlkYXRvciA9IGZ1bmN0aW9uIChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBWYWxpZGF0b3JGbiB7XG4gIGNvbnN0IGZuID0gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gY29udHJvbC52YWx1ZTtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghRGF0ZVV0aWxzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB7J2FnZSc6IHttZXNzYWdlOiAn6ZSZ6K+v55qE5pel5pyf5qC85byPJywgdmFsdWV9fTtcbiAgICB9XG5cbiAgICBjb25zdCBhZ2UgPSBDb21tb25zVXRpbHMuZ2V0QWdlKHZhbHVlKTtcblxuICAgIGNvbnN0IGlzSW5WYWxpZCA9IChtaW4gPiAwICYmIGFnZSA8IG1pbikgfHwgKG1heCA+IDAgJiYgYWdlID4gbWF4KTtcblxuICAgIHJldHVybiBpc0luVmFsaWQgPyBudWxsIDogeydhZ2UnOiB7bWluLCBtYXgsIHZhbHVlfX07XG4gIH07XG4gIHJldHVybiBmbjtcbn07XG4iXX0=